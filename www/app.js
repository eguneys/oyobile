!function(){return function e(t,n,r){function i(o,s){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!s&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){return i(t[o][1][e]||e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}}()({1:[function(e,t,n){(function(r){!function(e){if("object"==typeof n&&void 0!==t)t.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:this).Okeyground=e()}}(function(){return function(){return function t(n,r,i){function a(s,u){if(!r[s]){if(!n[s]){var l="function"==typeof e&&e;if(!u&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=r[s]={exports:{}};n[s][0].call(d.exports,function(e){return a(n[s][1][e]||e)},d,d.exports,t,n,r,i)}return r[s].exports}for(var o="function"==typeof e&&e,s=0;s<i.length;s++)a(i[s]);return a}}()({1:[function(e,t,n){!function(e){function n(e,t){if("object"!==i(e))return t;for(var r in t)"object"===i(e[r])&&"object"===i(t[r])?e[r]=n(e[r],t[r]):e[r]=t[r];return e}function r(e,t,r){var o=r[0],s=r.length;(e||"object"!==i(o))&&(o={});for(var u=0;u<s;++u){var l=r[u];if("object"===i(l))for(var c in l)if("__proto__"!==c){var d=e?a.clone(l[c]):l[c];o[c]=t?n(o[c],d):d}}return o}function i(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}var a=function(e){return r(!0===e,!1,arguments)};a.recursive=function(e){return r(!0===e,!0,arguments)},a.clone=function(e){var t,n,r=e,o=i(e);if("array"===o)for(r=[],n=e.length,t=0;t<n;++t)r[t]=a.clone(e[t]);else if("object"===o)for(t in r={},e)r[t]=a.clone(e[t]);return r},e?t.exports=a:window.merge=a}("object"==typeof t&&t&&"object"==typeof t.exports&&t.exports)},{}],2:[function(e,t,n){!function(e,n){"use strict";var r=function e(t,n){function r(e){return"function"==typeof e}function i(e){return"[object Object]"===ie.call(e)}function a(e){return"[object String]"===ie.call(e)}function o(){}function s(e,t){var n=t?e.slice(1):e;return 1===n.length&&ae(n[0])?n[0]:n}function u(e,t){for(var n=[],o=1,u=arguments.length;o<u;o++)n[o-1]=arguments[o];if(e&&r(e.view))return L(e,n);if(!a(e))throw new Error("selector in m(selector, attrs, children) should be a string");var l=null!=t&&i(t)&&!("tag"in t||"view"in t||"subtree"in t),c=l?t:{},d={tag:"div",attrs:{},children:s(n,l)};return function(e,t,n){var r="class"in t?"class":"className";for(var i in t)re.call(t,i)&&(i===r&&null!=t[i]&&""!==t[i]?(n.push(t[i]),e[i]=""):e[i]=t[i]);n.length&&(e[r]=n.join(" "))}(d.attrs,c,function(e,t){for(var n,r=[],i=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g;n=i.exec(t);)if(""===n[1]&&n[2])e.tag=n[2];else if("#"===n[1])e.attrs.id=n[2];else if("."===n[1])r.push(n[2]);else if("["===n[3].charAt(0)){var a=n[6];a&&(a=a.replace(/\\(["'])/g,"$1")),"class"===n[4]?r.push(a):e.attrs[n[4]]=a||!0}return r}(d,e)),d}function l(e,t){for(var n=0;n<e.length&&!t(e[n],n++););}function c(e,t){l(e,function(e,n){return(e=e&&e.attrs)&&null!=e.key&&t(e,n)})}function d(e,t,n){e.insertBefore(t,e.childNodes[n]||null)}function f(e,t,n,r){var i=e.length!==t.length;return i||c(e,function(e,n){var r=t[n];return i=r&&r.attrs&&r.attrs.key!==e.key}),i?function(e,t,n,r){c(e,function(e,r){t[e=e.key]=t[e]?{action:le,index:r,from:t[e].index,element:n.nodes[t[e].index]||Q.createElement("div")}:{action:ue,index:r}});var i=[];for(var a in t)re.call(t,a)&&i.push(t[a]);var o=i.sort(T),s=new Array(n.length);return s.nodes=n.nodes.slice(),l(o,function(t){var i=t.index;if(t.action===se&&(R(n[i].nodes,n[i]),s.splice(i,1)),t.action===ue){var a=Q.createElement("div");a.key=e[i].attrs.key,d(r,a,i),s.splice(i,0,{attrs:{key:e[i].attrs.key},nodes:[a]}),s.nodes[i]=a}if(t.action===le){var o=t.element,u=r.childNodes[i];u!==o&&null!==o&&r.insertBefore(o,u||null),s[i]=n[t.from],s.nodes[i]=o}}),s}(e,n,t,r):t}function h(e,t,n){l(e,function(e,r){null!=t[r]&&n.push.apply(n,t[r].nodes)}),l(t.nodes,function(e,r){null!=e.parentNode&&n.indexOf(e)<0&&R([e],[t[r]])}),e.length<t.length&&(t.length=e.length),t.nodes=n}function p(e){var t=0;c(e,function(){return l(e,function(e){(e=e&&e.attrs)&&null==e.key&&(e.key="__mithril__"+t++)}),1})}function m(e,t,n){(function(e,t,n){return e.tag!==t.tag||n.sort().join()!==Object.keys(t.attrs).sort().join()||e.attrs.id!==t.attrs.id||e.attrs.key!==t.attrs.key||("all"===u.redraw.strategy()?!t.configContext||!0!==t.configContext.retain:"diff"===u.redraw.strategy()&&t.configContext&&!1===t.configContext.retain)})(e,t,n)&&(t.nodes.length&&R(t.nodes),t.configContext&&r(t.configContext.onunload)&&t.configContext.onunload(),t.controllers&&l(t.controllers,function(e){e.onunload&&e.onunload({preventDefault:o})}))}function v(e,t,n,i,a){if(r(t.attrs.config)){var o=a.configContext=a.configContext||{};e.push(function(){return t.attrs.config.call(t,n,!i,o,a)})}}function g(e,t,r,i,a,o,s,u){var l=e.nodes[0];return i&&j(l,t.tag,t.attrs,e.attrs,a),e.children=O(l,t.tag,n,n,t.children,e.children,!1,0,t.attrs.contenteditable?l:r,a,s),e.nodes.intact=!0,u.length&&(e.views=o,e.controllers=u),l}function y(e,t,n,r,i,a){var o=t.nodes;return r&&r===Q.activeElement&&e===t||(e.$trusted?(R(o,t),o=A(n,i,e)):"textarea"===a?n.value=e:r?(r.innerHTML=e,o=[].slice.call(r.childNodes)):((1===o[0].nodeType||o.length>1||o[0].nodeValue.trim&&!o[0].nodeValue.trim())&&(R(t.nodes,t),o=[Q.createTextNode(e)]),function(e,t,n,r){try{d(e,t,n),t.nodeValue=r}catch(i){}}(n,o[0],i,e))),(t=new e.constructor(e)).nodes=o,t.$trusted=e.$trusted,t}function b(e,t,n,r,i,a,o){return e.nodes.length?e.valueOf()!==t.valueOf()||i?y(t,e,r,a,n,o):(e.nodes.intact=!0,e):function(e,t,n){var r,i;return e.$trusted?r=A(t,n,e):(r=[Q.createTextNode(e)],t.nodeName in oe||d(t,r[0],n)),(i="string"==typeof e||"number"==typeof e||"boolean"==typeof e?new e.constructor(e):e).nodes=r,i}(t,r,n)}function _(e){return e.$trusted?e.nodes.length:ae(e)?e.length:1}function w(e,t,r,i,a,o,s,u,l){e=function(e){for(var t=0;t<e.length;t++)ae(e[t])&&(e=e.concat.apply([],e),t--);return e}(e);var d=t.length===e.length,m=0,v={},g=!1;c(t,function(e,n){g=!0,v[t[n].attrs.key]={action:se,index:n}}),p(e),g&&(t=f(e,t,v,r));for(var y=0,b=0,w=e.length;b<w;b++){var k=O(r,a,t,i,e[b],t[y],o,i+m||m,s,u,l);k!==n&&(d=d&&k.nodes.intact,m+=_(k),t[y++]=k)}return d||h(e,t,[]),t}function k(e,t,r,i,a,o){return null!=e.children&&e.children.length>0?O(t,e.tag,n,n,e.children,r.children,!0,0,e.attrs.contenteditable?t:i,a,o):e.children}function x(e,t,n,r,i,a,o){var s={tag:e.tag,attrs:t,children:n,nodes:[r]};return function(e,t,n){n.length&&(e.views=t,e.controllers=n,l(n,function(e){if(e.onunload&&e.onunload.$old&&(e.onunload=e.onunload.$old),ce&&e.onunload){var t=e.onunload;e.onunload=function(){},e.onunload.$old=t}}))}(s,a,o),s.children&&!s.children.nodes&&(s.children.nodes=[]),s}function S(e,t,n,i){var a;return(a="diff"===u.redraw.strategy()&&e?e.indexOf(t):-1)>-1?n[a]:r(i)?new i:{}}function M(e,t,n,r,i,a){var o=S(n.views,t,r,e.controller),s=e&&e.attrs&&e.attrs.key;return"retain"===(e=0===ce||he||r&&r.indexOf(o)>-1?e.view(o):{tag:"placeholder"}).subtree?e:(e.attrs=e.attrs||{},e.attrs.key=s,function(e,t,n,r){null!=r.onunload&&fe.map(function(e){return e.handler}).indexOf(r.onunload)<0&&fe.push({controller:r,handler:r.onunload}),e.push(n),t.push(r)}(a,i,t,o),e)}function E(e,t,n,r,i,o,s,u){var l=[],c=[];if("retain"===(e=function(e,t,n,r){for(var i=t&&t.controllers;null!=e.view;)e=M(e,e.view.$original||e.view,t,i,r,n);return e}(e,t,l,c)).subtree)return t;if(!e.tag&&c.length)throw new Error("Component template must return a virtual element, not an array, string, etc.");e.attrs=e.attrs||{},t.attrs=t.attrs||{};var f=Object.keys(e.attrs),h=f.length>("key"in e.attrs?1:0);if(m(e,t,f),a(e.tag)){var p,y=0===t.nodes.length;if(s=function(e,t){return e.attrs.xmlns?e.attrs.xmlns:"svg"===e.tag?"http://www.w3.org/2000/svg":"math"===e.tag?"http://www.w3.org/1998/Math/MathML":t}(e,s),y){p=function(e,t){return e.attrs.is?null==t?Q.createElement(e.tag,e.attrs.is):Q.createElementNS(t,e.tag,e.attrs.is):null==t?Q.createElement(e.tag):Q.createElementNS(t,e.tag)}(e,s);var b=function(e,t,n,r){return r?j(t,e.tag,e.attrs,{},n):e.attrs}(e,p,s,h);d(r,p,i);var _=k(e,p,t,n,s,u);t=x(e,b,_,p,s,l,c)}else p=g(t,e,n,h,s,l,u,c);return"select"===e.tag&&"value"in e.attrs&&j(p,e.tag,{value:e.attrs.value},{},s),y||!0!==o||null==p||d(r,p,i),v(u,e,p,y,t),t}}function O(e,t,n,a,o,s,u,l,c,d,f){return"retain"===(o=function(e){try{if("boolean"!=typeof e&&null!=e&&null!=e.toString())return e}catch(t){}return""}(o)).subtree?s:(s=function(e,t,n,r,i){if(null!=t){if(ie.call(t)===ie.call(e))return t;if(i&&i.nodes){var a=n-r,o=a+(ae(e)?e:t.nodes).length;R(i.nodes.slice(a,o),i.slice(a,o))}else t.nodes&&R(t.nodes,t)}return(t=new e.constructor).tag&&(t={}),t.nodes=[],t}(o,s,l,a,n),ae(o)?w(o,s,e,l,t,u,c,d,f):null!=o&&i(o)?E(o,s,c,e,l,u,d,f):r(o)?s:b(s,o,l,e,u,c,t))}function T(e,t){return e.action-t.action||e.index-t.index}function P(e,t,n,a,o,s){if("config"===t||"key"===t)return!0;if(r(n)&&"on"===t.slice(0,2))e[t]=function(e,t){return function(n){n=n||event,u.redraw.strategy("diff"),u.startComputation();try{return e.call(t,n)}finally{z()}}}(n,e);else if("style"===t&&null!=n&&i(n))!function(e,t,n){for(var r in n===t&&(e.style="",n={}),t)re.call(t,r)&&(null!=n&&n[r]===t[r]||(e.style[r]=t[r]));for(r in n)re.call(n,r)&&(re.call(t,r)||(e.style[r]=""))}(e,n,a);else if(null!=s)"href"===t?e.setAttributeNS("http://www.w3.org/1999/xlink","href",n):e.setAttribute("className"===t?"class":t,n);else if(t in e&&!pe[t])try{("input"!==o&&!e.isContentEditable||e[t]!=n)&&(e[t]=n)}catch(l){e.setAttribute(t,n)}else try{e.setAttribute(t,n)}catch(l){}}function D(e,t,n,r,i,a,o){if(t in i&&r===n&&"object"!=typeof n&&Q.activeElement!==e)"value"===t&&"input"===a&&e.value!=n&&(e.value=n);else{i[t]=n;try{return P(e,t,n,r,a,o)}catch(s){if(s.message.indexOf("Invalid argument")<0)throw s}}}function j(e,t,n,r,i){for(var a in n)!re.call(n,a)||D(e,a,n[a],r[a],r,t,i);return r}function R(e,t){for(var n=e.length-1;n>-1;n--)if(e[n]&&e[n].parentNode){try{e[n].parentNode.removeChild(e[n])}catch(i){}(t=[].concat(t))[n]&&C(t[n])}e.length&&(e.length=0)}function C(e){e.configContext&&r(e.configContext.onunload)&&(e.configContext.onunload(),e.configContext.onunload=null),e.controllers&&l(e.controllers,function(e){r(e.onunload)&&e.onunload({preventDefault:o})}),e.children&&(ae(e.children)?l(e.children,C):e.children.tag&&C(e.children))}function N(e,t){try{e.appendChild(Q.createRange().createContextualFragment(t))}catch(r){e.insertAdjacentHTML("beforeend",t),function e(t){if("SCRIPT"===t.tagName)t.parentNode.replaceChild(function(e){for(var t=document.createElement("script"),n=e.attributes,r=0;r<n.length;r++)t.setAttribute(n[r].name,n[r].value);return t.text=e.innerHTML,t}(t),t);else{var n=t.childNodes;if(n&&n.length)for(var r=0;r<n.length;r++)e(n[r])}return t}(e)}}function A(e,t,n){var r=e.childNodes[t];if(r){var i=1!==r.nodeType,a=Q.createElement("span");i?(e.insertBefore(a,r||null),a.insertAdjacentHTML("beforebegin",n),e.removeChild(a)):r.insertAdjacentHTML("beforebegin",n)}else N(e,n);for(var o=[];e.childNodes[t]!==r;)o.push(e.childNodes[t]),t++;return o}function Y(e){var t=ve.indexOf(e);return t<0?ve.push(e)-1:t}function L(e,t){function n(){return(e.controller||o).apply(this,t)||this}function r(n){for(var r=[n].concat(t),i=1;i<arguments.length;i++)r.push(arguments[i]);return e.view.apply(e,r)}e.controller&&(n.prototype=e.controller.prototype),r.$original=e.view;var i={controller:n,view:r};return t[0]&&null!=t[0].key&&(i.attrs={key:t[0].key}),i}function I(e,t){we.splice(t,1),xe.splice(t,1),ke.splice(t,1),X(e),ve.splice(Y(e),1),fe=[]}function F(){Ee&&(Ee(),Ee=null),l(we,function(e,t){var n=ke[t];if(xe[t]){var r=[xe[t]];u.render(e,n.view?n.view(xe[t],r):"")}}),Oe&&(Oe(),Oe=null),Se=null,Me=new Date,u.redraw.strategy("diff")}function z(){"none"===u.redraw.strategy()?(ce--,u.redraw.strategy("diff")):u.endComputation()}function H(e){return e.slice(De[u.route.mode].length)}function B(e,t,n){Pe={};var r=n.indexOf("?");-1!==r&&(Pe=U(n.substr(r+1,n.length)),n=n.substr(0,r));var i=Object.keys(t),a=i.indexOf(n);if(-1!==a)return u.mount(e,t[i[a]]),!0;for(var o in t)if(re.call(t,o)){if(o===n)return u.mount(e,t[o]),!0;var s=new RegExp("^"+o.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(s.test(n))return n.replace(s,function(){var n=o.match(/:[^\/]+/g)||[],r=[].slice.call(arguments,1,-2);l(n,function(e,t){Pe[e.replace(/:|\./g,"")]=decodeURIComponent(r[t])}),u.mount(e,t[o])}),!0}}function V(e){if(!((e=e||event).ctrlKey||e.metaKey||e.shiftKey||2===e.which)){e.preventDefault?e.preventDefault():e.returnValue=!1;var t,n=e.currentTarget||e.srcElement;for(t="pathname"===u.route.mode&&n.search?U(n.search.slice(1)):{};n&&!/a/i.test(n.nodeName);)n=n.parentNode;ce=0,u.route(n[u.route.mode].slice(De[u.route.mode].length),t)}}function W(){"hash"!==u.route.mode&&ee.hash?ee.hash=ee.hash:t.scrollTo(0,0)}function G(e,t){var r={},a=[];for(var o in e)if(re.call(e,o)){var s=t?t+"["+o+"]":o,u=e[o];if(null===u)a.push(encodeURIComponent(s));else if(i(u))a.push(G(u,s));else if(ae(u)){var c=[];r[s]=r[s]||{},l(u,function(e){r[s][e]||(r[s][e]=!0,c.push(encodeURIComponent(s)+"="+encodeURIComponent(e)))}),a.push(c.join("&"))}else u!==n&&a.push(encodeURIComponent(s)+"="+encodeURIComponent(u))}return a.join("&")}function U(e){if(""===e||null==e)return{};"?"===e.charAt(0)&&(e=e.slice(1));var t=e.split("&"),n={};return l(t,function(e){var t=e.split("="),r=decodeURIComponent(t[0]),i=2===t.length?decodeURIComponent(t[1]):null;null!=n[r]?(ae(n[r])||(n[r]=[n[r]]),n[r].push(i)):n[r]=i}),n}function X(e){var t=Y(e);R(e.childNodes,ge[t]),ge[t]=n}function q(e,t){var n=u.prop(t);return e.then(n),n.then=function(n,r){return q(e.then(n,r),t)},n.catch=n.then.bind(null,null),n}function K(e,t){function n(e){l=e||Ye,d.map(function(e){l===Ae?e.resolve(c):e.reject(c)})}function a(e,t,n,a){if((null!=c&&i(c)||r(c))&&r(e))try{var o=0;e.call(c,function(e){o++||(c=e,t())},function(e){o++||(c=e,n())})}catch(s){u.deferred.onerror(s),c=s,n()}else a()}function o(){var i;try{i=c&&c.then}catch(d){return u.deferred.onerror(d),c=d,l=Ne,o()}l===Ne&&u.deferred.onerror(c),a(i,function(){l=Ce,o()},function(){l=Ne,o()},function(){try{l===Ce&&r(e)?c=e(c):l===Ne&&r(t)&&(c=t(c),l=Ce)}catch(o){return u.deferred.onerror(o),c=o,n()}c===s?(c=TypeError(),n()):a(i,function(){n(Ae)},n,function(){n(l===Ce&&Ae)})})}var s=this,l=0,c=0,d=[];s.promise={},s.resolve=function(e){return l||(c=e,l=Ce,o()),s},s.reject=function(e){return l||(c=e,l=Ne,o()),s},s.promise.then=function(e,t){var n=new K(e,t);return l===Ae?n.resolve(c):l===Ye?n.reject(c):d.push(n),n.promise}}function $(e){return e}function Z(e){var r=e.callbackName||"mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),i=Q.createElement("script");t[r]=function(a){i.parentNode.removeChild(i),e.onload({type:"load",target:{responseText:a}}),t[r]=n},i.onerror=function(){return i.parentNode.removeChild(i),e.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),t[r]=n,!1},i.onload=function(){return!1},i.src=e.url+(e.url.indexOf("?")>0?"&":"?")+(e.callbackKey?e.callbackKey:"callback")+"="+r+"&"+G(e.data||{}),Q.body.appendChild(i)}function J(e){var n=new t.XMLHttpRequest;if(n.open(e.method,e.url,!0,e.user,e.password),n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300?e.onload({type:"load",target:n}):e.onerror({type:"error",target:n}))},e.serialize===JSON.stringify&&e.data&&"GET"!==e.method&&n.setRequestHeader("Content-Type","application/json; charset=utf-8"),e.deserialize===JSON.parse&&n.setRequestHeader("Accept","application/json, text/*"),i(e.headers))for(var o in e.headers)re.call(e.headers,o)&&n.setRequestHeader(o,e.headers[o]);if(r(e.config)){var s=e.config(n,e);null!=s&&(n=s)}var u="GET"!==e.method&&e.data?e.data:"";if(u&&!a(u)&&u.constructor!==t.FormData)throw new Error("Request data should be either be a string or FormData. Check the `serialize` option in `m.request`");return n.send(u),n}u.version=function(){return"v0.2.8"};var Q,ee,te,ne,re={}.hasOwnProperty,ie={}.toString,ae=Array.isArray||function(e){return"[object Array]"===ie.call(e)},oe={AREA:1,BASE:1,BR:1,COL:1,COMMAND:1,EMBED:1,HR:1,IMG:1,INPUT:1,KEYGEN:1,LINK:1,META:1,PARAM:1,SOURCE:1,TRACK:1,WBR:1};u.deps=function(e){return function(e){Q=e.document,ee=e.location,ne=e.cancelAnimationFrame||e.clearTimeout,te=e.requestAnimationFrame||e.setTimeout}(t=e||window),t},u.deps.factory=u.factory=e,u.deps(t);var se=1,ue=2,le=3,ce=0;u.startComputation=function(){ce++},u.endComputation=function(){ce>1?ce--:(ce=0,u.redraw())};var de,fe=[],he=!1,pe={list:1,style:1,form:1,type:1,width:1,height:1},me={appendChild:function(e){de===n&&(de=Q.createElement("html")),Q.documentElement&&Q.documentElement!==e?Q.replaceChild(e,Q.documentElement):Q.appendChild(e),this.childNodes=Q.childNodes},insertBefore:function(e){this.appendChild(e)},childNodes:[]},ve=[],ge={};u.render=function(e,t,r){if(!e)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var i,a=[],o=Y(e),s=e===Q;i=s||e===Q.documentElement?me:e,s&&"html"!==t.tag&&(t={tag:"html",attrs:{},children:t}),ge[o]===n&&R(i.childNodes),!0===r&&X(e),ge[o]=O(i,null,n,n,t,ge[o],!1,0,null,n,a),l(a,function(e){e()})},u.trust=function(e){return(e=new String(e)).$trusted=!0,e},u.prop=function(e){return(null!=e&&(i(e)||r(e))||"undefined"!=typeof Promise&&e instanceof Promise)&&r(e.then)?q(e):function(e){function t(){return arguments.length&&(e=arguments[0]),e}return t.toJSON=function(){return e&&r(e.toJSON)?e.toJSON():e},t}(e)};var ye,be,_e,we=[],ke=[],xe=[],Se=null,Me=0,Ee=null,Oe=null;u.component=function(e){for(var t=new Array(arguments.length-1),n=1;n<arguments.length;n++)t[n-1]=arguments[n];return L(e,t)},u.mount=u.module=function(e,t){if(!e)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var n=we.indexOf(e);n<0&&(n=we.length);var i=!1,a={preventDefault:function(){i=!0,Ee=Oe=null}};return l(fe,function(e){e.handler.call(e.controller,a),e.controller.onunload=null}),i?l(fe,function(e){e.controller.onunload=e.handler}):fe=[],xe[n]&&r(xe[n].onunload)&&xe[n].onunload(a),function(e,t,n,r){if(!r){var i;u.redraw.strategy("all"),u.startComputation(),we[n]=t,i=ye=e||(e={controller:o});var a=new(e.controller||o);return i===ye&&(xe[n]=a,ke[n]=e),z(),null===e&&I(t,n),xe[n]}null==e&&I(t,n),_e&&(be=_e)}(t,e,n,i)};var Te=!1;u.redraw=function(e){if(!Te){Te=!0,e&&(he=!0);try{Se&&!e?(te===t.requestAnimationFrame||new Date-Me>16)&&(Se>0&&ne(Se),Se=te(F,16)):(F(),Se=te(function(){Se=null},16))}finally{Te=he=!1}}},u.redraw.strategy=u.prop(),u.withAttr=function(e,t,n){return function(r){var i=(r=r||window.event).currentTarget||this,a=n||this,o=e in i?i[e]:i.getAttribute(e);t.call(a,o)}};var Pe,De={pathname:"",hash:"#",search:"?"},je=o,Re=!1;u.route=function(e,n,r,i){if(0===arguments.length)return be;if(3===arguments.length&&a(n)){je=function(t){var i=be=H(t);if(!B(e,r,i)){if(Re)throw new Error("Ensure the default route matches one of the routes defined in m.route");Re=!0,u.route(n,!0),Re=!1}};var o="hash"===u.route.mode?"onhashchange":"onpopstate";return t[o]=function(){var e=ee[u.route.mode];"pathname"===u.route.mode&&(e+=ee.search),be!==H(e)&&je(e)},Ee=W,void t[o]()}if(e.addEventListener||e.attachEvent){var s="pathname"!==u.route.mode?ee.pathname:"";return e.href=s+De[u.route.mode]+i.attrs.href,void(e.addEventListener?(e.removeEventListener("click",V),e.addEventListener("click",V)):(e.detachEvent("onclick",V),e.attachEvent("onclick",V)))}if(a(e)){_e=be;var l,c=n||{},d=(be=e).indexOf("?");for(var f in l=d>-1?U(be.slice(d+1)):{},c)re.call(c,f)&&(l[f]=c[f]);var h,p=G(l);h=d>-1?be.slice(0,d):be,p&&(be=h+(-1===h.indexOf("?")?"?":"&")+p);var m=!0===(3===arguments.length?r:n)||_e===be;if(t.history.pushState){var v=m?"replaceState":"pushState";Ee=W,Oe=function(){try{t.history[v](null,Q.title,De[u.route.mode]+be)}catch(e){ee[u.route.mode]=be}},je(De[u.route.mode]+be)}else ee[u.route.mode]=be,je(De[u.route.mode]+be);_e=null}},u.route.param=function(e){if(!Pe)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return e?Pe[e]:Pe},u.route.mode="search",u.route.buildQueryString=G,u.route.parseQueryString=U,u.deferred=function(){var e=new K;return e.promise=q(e.promise),e};var Ce=1,Ne=2,Ae=3,Ye=4;return u.deferred.onerror=function(e){if("[object Error]"===ie.call(e)&&!/ Error/.test(e.constructor.toString()))throw ce=0,e},u.sync=function(e){function t(e,t){return function(o){return i[e]=o,t||(a="reject"),0==--r&&(n.promise(i),n[a](i)),o}}var n=u.deferred(),r=e.length,i=[],a="resolve";return e.length>0?l(e,function(e,n){e.then(t(n,!0),t(n,!1))}):n.resolve([]),n.promise},u.request=function(e){!0!==e.background&&u.startComputation();var t,n,r,i=new K,a=e.dataType&&"jsonp"===e.dataType.toLowerCase();return a?(t=e.serialize=n=e.deserialize=$,r=function(e){return e.responseText}):(t=e.serialize=e.serialize||JSON.stringify,n=e.deserialize=e.deserialize||JSON.parse,r=e.extract||function(e){return e.responseText.length||n!==JSON.parse?e.responseText:null}),e.method=(e.method||"GET").toUpperCase(),e.url=function(e,t){return t&&(e=e.replace(/:[a-z]\w+/gi,function(e){var n=e.slice(1),r=t[n]||e;return delete t[n],r})),e}(e.url,e.data),function(e,t,n){if("GET"===e.method&&"jsonp"!==e.dataType){var r=e.url.indexOf("?")<0?"?":"&",i=G(t);e.url+=i?r+i:""}else e.data=n(t)}(e,e.data,t),e.onload=e.onerror=function(t){try{t=t||event;var a=n(r(t.target,e));"load"===t.type?(e.unwrapSuccess&&(a=e.unwrapSuccess(a,t.target)),ae(a)&&e.type?l(a,function(t,n){a[n]=new e.type(t)}):e.type&&(a=new e.type(a)),i.resolve(a)):(e.unwrapError&&(a=e.unwrapError(a,t.target)),i.reject(a))}catch(o){i.reject(o),u.deferred.onerror(o)}finally{!0!==e.background&&u.endComputation()}},function(e){e.dataType&&"jsonp"===e.dataType.toLowerCase()?Z(e):J(e)}(e),i.promise=q(i.promise,e.initialValue),i.promise},u}(e);"undefined"==typeof window&&r.deps({document:"undefined"!=typeof document?document:{},location:"undefined"!=typeof location?location:{},clearTimeout:clearTimeout,setTimeout:setTimeout}),"object"==typeof t&&null!=t&&t.exports?t.exports=r:e.m=r}("undefined"!=typeof window?window:this)},{}],3:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return Math.round(e*t)/t}function a(e){if(e.animation.current.start){var t=1-((new Date).getTime()-e.animation.current.start)/e.animation.current.duration;if(t<=0)e.animation.current={},e.render();else{var n=l.easeInOutCubic(t);for(var r in e.animation.current.anims){var o=e.animation.current.anims[r];o[1]=[i(o[0][0]*n,10),i(o[0][1]*n,10)],o[2]&&(o[1]=[o[0][0]-o[1][0],o[0][1]-o[1][1]])}for(var u in e.animation.current.fadings)e.animations.current.fadings[u].opacity=i(n,100);e.render(),s.default.requestAnimationFrame(function(){a(e)})}}}function o(e,t){var n={pieces:{},opens:{},middles:{}};for(var r in t.pieces)t.pieces[r]&&(n.pieces[r]={color:t.pieces[r].color,number:t.pieces[r].number});var i=e(),o=function(e,t){var n,r,i=t.animation.current,a=s.default.findPov(t.povSide,t.turnSide),o=s.default.vectorByPov(a),l=t.bounds(),c=1*l.width,d=(l.height,608/350),f=c,h=l.height*(4/3/d),p=.0625*f,m=.14*h,v={};if(i.hint===u.default.drawMiddle){n=[12*p,h];var g=[(r=[f*o[0],h*o[1]])[0]-n[0],r[1]-n[1]];v[s.default.middleCount]=[g,g,!0]}else if(i.hint===u.default.discard){var y=s.default.discardByPov(a),b=s.default.topKey2pos(y);n=[p*b[0],m*b[1]],g=[(r=[f*o[0],h*o[1]])[0]-n[0],r[1]-n[1]],v[y]=[g,g]}return{anims:v,fadings:[]}}(0,t);if(Object.keys(o.anims).length>0||o.fadings.length>0){var l=t.animation.current.start;t.animation.current={start:(new Date).getTime(),duration:t.animation.duration,anims:o.anims,fadings:o.fadings},l||a(t)}else t.renderRAF();return i}var s=r(e("./util")),u=r(e("./move")),l={easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}};t.exports=function(e,t){return function(){var n=[t].concat(Array.prototype.slice.call(arguments,0));if(t.animation.enabled)return o(s.default.partialApply(e,n),t);var r=e.apply(null,n);return t.renderRAF(),r}}},{"./move":11,"./util":15}],4:[function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(e("./board"));t.exports=function(e){return{set:e.set,getPieceGroups:function(){return r.default.getPieceGroups(e.data)},apiMove:e.apiMove,apiDrawMiddleEnd:e.apiDrawMiddleEnd,playOpenSeries:e.playOpenSeries,playOpenPairs:e.playOpenPairs,stop:e.stop,getPieceGroupSeries:e.getPieceGroupSeries,getPieceGroupPairs:e.getPieceGroupPairs,getFen:e.getFen}}},{"./board":5}],5:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=D.default.middleCount;l(e,n),u(e,n),o(e,t)}function o(e,t){"string"==typeof t&&(t=R.default.readPiece(t).piece),e.middleHolder.piece=t,s(e)}function s(e){var t=e.middleHolder.key,n=e.middleHolder.piece;t&&n&&(e.pieces[t]=n,e.lastMove=[D.default.middleCount],e.middleHolder.current=!1,e.middleHolder.key=null,e.middleHolder.piece=null)}function u(e,t,n){n&&!e.pieces[n]||(n=function(e){var t=D.default.allAllowedBoardKeys.slice(1),n=D.default.allAllowedBoardKeys.slice(2),r=D.default.allAllowedBoardKeys.map(function(e,r){return[e,t[r],n[r]]}).filter(function(t){var n=P(t,3),r=n[0],i=n[1],a=n[2];return r&&i&&a&&!e.pieces[r]&&!e.pieces[i]&&!e.pieces[a]});return r[r.length-1][1]}(e));return A(D.default.partial(e.events.move,j.default.drawMiddleEnd)),e.middleHolder.key=n,s(e),!0}function l(e,t){return A(D.default.partial(e.events.move,j.default.drawMiddle)),e.middles[D.default.middleCount]--,e.middleHolder.current=!0,!0}function c(e,t,n){if(n&&D.default.isBoardKey(t)&&D.default.isBoardKey(n)&&function(e,t,n){return t!=n&&g(e,t)}(e,t,n)&&function(e,t,n){if(t===n||!e.pieces[t])return!1;var r=e.pieces[n];return e.pieces[n]=e.pieces[t],e.pieces[t]=r,!0}(e,t,n))return!0}function d(e,t){if(D.default.isMiddleKey(t)&&function(e,t){return y(e)&&!e.middleHolder.current&&D.default.containsX(e.movable.dests,j.default.drawMiddle)}(e))return l(e),!0}function f(e,t,n){if(D.default.isMiddleKey(t)&&b(e))return u(e,0,n),!0}function h(e,t,n){if(n&&D.default.isBoardKey(n)&&D.default.isDrawLeftKey(t)&&_(e,t,n)&&function(e,t,n){return!e.pieces[n]&&(A(D.default.partial(e.events.move,j.default.drawLeft)),e.pieces[n]=e.discards[D.default.discards[1]][0],e.discards[D.default.discards[1]].shift(),!0)}(e,0,n))return A(D.default.partial(e.movable.events.after,j.default.drawLeft)),!0}function p(e,t){e.selected?(t?e.selected!==t&&(c(e,e.selected,t)||h(e,e.selected,t)||f(e,e.selected,t)):f(e,e.selected,t),m(e,null)):g(e,t)&&m(e,t)}function m(e,t){if(e.selected=t,t&&D.default.isBoardKey(t))if(x(e,t)){var n=e.middles[D.default.gosterge];e.openable.dests=C.default.compute(e.opens,e.pieces[t],n)}else e.openable.dests=[];else e.openable.dests=[]}function v(e){return e.povSide===e.turnSide}function g(e,t){return e.pieces[t]&&e.movable.board}function y(e){return v(e)}function b(e){return e.middleHolder.current}function _(e,t,n){return y(e)&&!b(e)&&D.default.containsX(e.movable.dests,j.default.drawLeft)}function w(e){return v(e)&&D.default.containsX(e.movable.dests,j.default.openSeries)}function k(e){return v(e)&&D.default.containsX(e.movable.dests,j.default.openPairs)}function x(e,t){return!(!e.pieces[t]||e.povSide!==e.turnSide)}function S(e,t,n){if(n||e.bounds){n=n||e.bounds();var r=Math.floor(D.default.columns*((t[0]-n.left)/n.width)),i=Math.floor(D.default.rows*((t[1]-n.top)/n.height));return i>=0&&i<D.default.rows&&r>=0&&r<D.default.columns?D.default.pos2key([r,i]):void 0}}function M(e){return e.map(function(e){return e.map(function(e){return e.key}).join("")}).join(" ")}function E(e){return O(e).map(function(t){return t.map(function(t){return e.pieces[t]})})}function O(e){var t=D.default.pos2key([D.default.columns-1,0]),n=D.default.allKeys.slice(1),r=D.default.allKeys.map(function(e,t){return[e,n[t]]}).reduce(function(n,r){var i=P(n,2),a=i[0],o=i[1],s=P(r,2),u=s[0],l=s[1];return e.pieces[u]&&a.push(u),(u&&!e.pieces[u]&&l&&!e.pieces[l]||u===t)&&0!==a.length&&(o.push(a),a=[]),[a,o]},[[],[]]),i=P(r,2),a=i[0],o=i[1];return 0!==a.length&&o.push(a),o}var T,P=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(o){i=!0,a=o}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),D=r(e("./util")),j=r(e("./move")),R=r(e("./pieces")),C=r(e("./open")),N=D.default.wrapGroup,A=D.default.callUserFunction;t.exports=(i(T={playOpenSeries:function(e){if(w(e)){var t=e.middles[D.default.gosterge],n=O(e);if((n=n.filter(function(n){return C.default.series(n.map(function(t){return e.pieces[t]}),t)})).length>0){var r=M(n.map(function(t){return t.map(function(t){return e.pieces[t]})}));return function(e,t){var n=t.map(function(t){return t.map(function(t){return e.pieces[t]})}),r=M(n);A(D.default.partial(e.events.move,j.default.openSeries,N(r))),t.forEach(function(t){return t.map(function(t){return delete e.pieces[t]})});var i=e.opens.series.concat(n);e.opens.series=i,e.opens.relayout(e)}(e,n),A(D.default.partial(e.movable.events.after,j.default.openSeries,N(r))),!0}}return!1},playOpenPairs:function(e){if(k(e)){var t=e.middles[D.default.gosterge],n=O(e);if((n=n.filter(function(n){return C.default.pairs(n.map(function(t){return e.pieces[t]}),t)})).length>0){var r=M(n.map(function(t){return t.map(function(t){return e.pieces[t]})}));return function(e,t){var n=t.map(function(t){return t.map(function(t){return e.pieces[t]})}),r=M(n);A(D.default.partial(e.events.move,j.default.openPairs,N(r))),t.forEach(function(t){return t.map(function(t){return delete e.pieces[t]})});var i=e.opens.pairs.concat(n);e.opens.pairs=i,e.opens.relayout(e)}(e,n),A(D.default.partial(e.movable.events.after,j.default.openPairs,N(r))),!0}}return!1},apiDrawMiddleEnd:o},"apiDrawMiddleEnd",o),i(T,"apiForceDrawMiddleEnd",a),i(T,"apiForceDrawMiddleEnd",a),i(T,"userMove",c),i(T,"userDrawLeft",h),i(T,"userBeginDrawMiddle",d),i(T,"userEndDrawMiddle",f),i(T,"selectSquare",p),i(T,"selectTop",function(e,t,n){n||(D.default.isMiddleKey(t)?d(e,t)&&m(e,t):D.default.isDrawLeftKey(t)&&_(e)&&m(e,t))}),i(T,"setSelected",m),i(T,"canOpenSeries",w),i(T,"canOpenPairs",k),i(T,"canLeaveTaken",function(e){return v(e)&&D.default.containsX(e.movable.dests,j.default.leaveTaken)}),i(T,"canCollectOpen",function(e){return v(e)&&D.default.containsX(e.movable.dests,j.default.collectOpen)}),i(T,"stop",function(e){e.movable.side=null,e.movable.dests=[],e.openable.dests=[],e.movable.board=!1,function(e){p(e,null)}(e)}),i(T,"isDroppableOpens",x),i(T,"getKeyAtDomPos",S),i(T,"getKeyAtDomPosOnPiece",function(e,t,n,r){var i=S(e,t,n);if(!i)return i;var a=D.default.decBoardKey(i);return a!==r&&e.pieces[a]&&(i=a),-1!==D.default.notAllowedBoardKeys.indexOf(i)?null:i}),i(T,"getPieceGroups",E),i(T,"getPieceGroupSeries",function(e){var t=e.middles[D.default.gosterge],n=e.withTore;return M(E(e).filter(function(e){return C.default.series(e,t,n)}))}),i(T,"getPieceGroupPairs",function(e){var t=e.middles[D.default.gosterge];return M(E(e).filter(function(e){return C.default.pairs(e,t)}))}),T)},{"./move":11,"./open":12,"./pieces":13,"./util":15}],6:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(e("merge")),a=r(e("./pieces"));t.exports=function(e,t){if(t&&(i.default.recursive(e,t),e.fen)){var n=a.default.read(e.fen);e.pieces=n.pieces,e.discards=n.discards,e.opens=n.opens,e.middles=n.middles,delete e.fen}}},{"./pieces":13,merge:1}],7:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(e("./table")),a=r(e("./board")),o=r(e("./data")),s=r(e("./configure")),u=r(e("./util")),l=r(e("./anim")),c=r(e("./drag")),d=r(e("./pieces"));t.exports=function(e){var t=this;this.data=(0,o.default)(e),this.getFen=function(){return d.default.write(t.data.pieces)},this.getPieceGroupSeries=function(){return a.default.getPieceGroupSeries(t.data)},this.getPieceGroupPairs=function(){return a.default.getPieceGroupPairs(t.data)},this.set=(0,l.default)(s.default,this.data),this.apiMove=(0,l.default)(i.default.apiMove,this.data),this.apiDrawMiddleEnd=(0,l.default)(a.default.apiDrawMiddleEnd,this.data),this.playOpenSeries=(0,l.default)(a.default.playOpenSeries,this.data),this.playOpenPairs=(0,l.default)(a.default.playOpenPairs,this.data),this.canLeaveTaken=u.default.partial(a.default.canLeaveTaken,this.data),this.canCollectOpen=u.default.partial(a.default.canCollectOpen,this.data),this.canOpenSeries=u.default.partial(a.default.canOpenSeries,this.data),this.canOpenPairs=u.default.partial(a.default.canOpenPairs,this.data),this.stop=(0,l.default)(function(e){a.default.stop(e),c.default.cancel(e)},this.data)}},{"./anim":3,"./board":5,"./configure":6,"./data":8,"./drag":9,"./pieces":13,"./table":14,"./util":15}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=(r(e("merge")),e("./pieces")),a=r(i),o=r(e("./configure"));t.exports=function(e){var t={povSide:"east",turnSide:"east",lastMove:null,withTore:!1,pieces:a.default.readBoard(a.default.mixed),discards:a.default.readDiscards(a.default.initialDiscards,"east"),opens:a.default.readOpenGroups(a.default.initialOpenGroups),middles:a.default.readMiddles(a.default.initialMiddles),selected:null,middleHolder:{current:!1,key:null,piece:null},animation:{enabled:!0,duration:500,current:{}},draggable:{enabled:!0,distance:3,current:{}},movable:{board:!0,free:!0,events:{after:function(e,t){}}},openable:{dests:[]},events:{move:function(e,t){}}};return(0,o.default)(t,e||{}),t}},{"./configure":6,"./pieces":13,merge:1}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.default.rows,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.default.columns;return{left:t.left+t.width*n[0]/i,top:t.top+t.height*n[1]/r,width:t.width/i,height:t.height/r}}var a=r(e("./board")),o=r(e("./table")),s=r(e("./util"));t.exports={start:function(e,t){if(void 0===t.button||0===t.button){t.stopPropagation(),t.preventDefault(),t.target;var n=e.selected,r=s.default.eventPosition(t),u=e.boardBounds(),l=e.opensBounds(),c=e.topBounds(),d=a.default.getKeyAtDomPosOnPiece(e,r,u);if(a.default.selectSquare(e,d),d||(d=o.default.getDrawKeyAtDomPos(e,r,c))&&a.default.selectTop(e,d,n),!d&&n&&((d=o.default.getOpensKeyAtDomPos(e,r,l))?o.default.dropOpens(e,n,d):(d=o.default.getDiscardKeyAtDomPos(e,r,c))&&o.default.dropTop(e,n,d)),e.selected===d&&o.default.isDraggable(e,d)){var f=s.default.isBoardKey(d)?i(e,u,s.default.key2pos(d)):i(e,c,s.default.topKey2pos(d),s.default.topRows,s.default.topColumns);e.draggable.current={orig:d,rel:r,epos:r,pos:[0,0],dec:[r[0]-(f.left+f.width/2),r[1]-(f.top+f.height/2)],boardBounds:u,opensBounds:l,topBounds:c,started:!1}}!function e(t){s.default.requestAnimationFrame(function(){var n=t.draggable.current;n.orig&&(!n.started&&s.default.distance(n.epos,n.rel)>=t.draggable.distance&&(n.started=!0),n.started&&(n.pos=[n.epos[0]-n.rel[0],n.epos[1]-n.rel[1]],n.over=a.default.getKeyAtDomPosOnPiece(t,n.epos,n.boardBounds,n.orig),!n.over&&s.default.isBoardKey(n.orig)&&(n.over=o.default.getOpensKeyAtDomPos(t,n.epos,n.opensBounds)||o.default.getDiscardKeyAtDomPos(t,n.epos,n.topBounds)))),t.render(),n.orig&&e(t)})}(e)}},move:function(e,t){e.draggable.current.orig&&(e.draggable.current.epos=s.default.eventPosition(t))},end:function(e,t){var n=e.draggable,r=n.current?n.current.orig:null;if(r){var i=n.current.over;n.current.started&&(a.default.setSelected(e,null),a.default.userMove(e,r,i)||o.default.dropOpens(e,r,i)||o.default.dropTop(e,r,i)||a.default.userDrawLeft(e,r,i)||a.default.userEndDrawMiddle(e,r,i)),n.current={}}},cancel:function(e){e.draggable.current.orig&&(e.draggable.current={},a.default.selectSquare(e,null))}}},{"./board":5,"./table":14,"./util":15}],10:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=r(e("mithril")),a=r(e("./ctrl")),o=r(e("./view")),s=r(e("./util")),u=r(e("./move")),l=r(e("./api"));t.exports=function(e,t){var n=new a.default(t);return i.default.render(e,(0,o.default)(n)),(0,l.default)(n)},t.exports.controller=a.default,t.exports.view=o.default,t.exports.util=s.default,t.exports.move=u.default},{"./api":4,"./ctrl":7,"./move":11,"./util":15,"./view":16,mithril:2}],11:[function(e,t,n){"use strict";t.exports={drawMiddle:"dm",drawLeft:"dl",discard:"dd",leaveTaken:"lt",sign:"ss",openSeries:"os",openPairs:"op",collectOpen:"co",dropOpenSeries:"dos",dropOpenPairs:"dop",dropLeft:"l",dropRight:"r",dropReplace:"p",discardEndSeries:"dds",discardEndPairs:"ddp"}},{}],12:[function(e,t,n){"use strict";function r(e,t){return e.length===t.length&&e.every(function(e,n){return e===t[n]})}function i(e,t){if(e.length<3)return!1;var n=e.length,i=e[0].color,a=e.map(function(e){return e.key}),o=a.slice(0).reverse(),s=f.default.seriesByColor(i);t&&(s=s.slice(0)).push(s[0]);for(var u=0;u<=s.length-n;u++){var l=s.slice(u,u+n);if(r(l,a)|r(l,o))return!0}return!1}function a(e,t){var n=f.default.makePiece(t.c,t.n);return n.isFake=!0,f.default.pieceFake(e)?n:e}function o(e,t){return!e.isFake&&e.key===t.key}function s(e,t){function n(e,t){return e.key===t.key}if(e.filter(function(e){return o(e,t)}).length>1)return e;if(e.length<3)return function(e,t){if(2!=e.length)return e;var n=d(e,2),r=n[0],i=n[1];return o(r,t)?[i,i]:o(i,t)?[r,r]:e}(e,t);var r=e.filter(function(e){return!o(e,t)});return r.every(function(e){return e.n===r[0].n})?function(e,t){var n=e.filter(function(e){return!o(e,t)}),r=function(e,t){return e.filter(function(e){return t.indexOf(e)<0})}(["r","g","b","l"],n.map(function(e){return e.c}));if(r.length<1)return e;if(n.length<1)return e;if(!(n.length<e.length))return e;var i=r[0],a=n[0].n,s=f.default.makePiece(i,a);return n.push(s),n}(e,t):r.every(function(e){return e.c===r[0].c})?function e(t,r){var i;if(0===t.length)return t;if(t.length<3)return t;var a=d(t,3),s=a[0],u=a[1],l=a[2],c=[s,u,l];if(i=t.slice(3,t.length),o(s,r))n(f.default.pieceUp(u),l)?c=[f.default.pieceDown(u),u,l]:n(f.default.pieceDown(u),l)&&(c=[f.default.pieceUp(u),u,l]);else if(o(u,r))n(f.default.pieceUp(f.default.pieceUp(s)),l)?c=[s,f.default.pieceUp(s),l]:n(f.default.pieceDown(f.default.pieceDown(s)),l)&&(c=[s,f.default.pieceDown(s),l]);else{if(!o(l,r))return(i=e(t.slice(1,t.length),r)).unshift(t[0]),i;n(f.default.pieceUp(s),u)?c=[s,u,f.default.pieceUp(u)]:n(f.default.pieceDown(s),u)&&(c=[s,u,f.default.pieceDown(u)])}return c.concat(i)}(e,t):e}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f.default.pieceUp(t),o=s(e.map(function(e){return a(e,r)}),r);return i(o,n)|function(e){var t=e.length,n=e[0].number;return!!(3===t|4===t)&&!!e.every(function(e){return e.number===n})&&h.some(function(t){return function(e,t){return t.every(function(t,n){return t.color===e[n]})}(t.slice(0,e.length),e)})}(o)}function l(e,t){if(2!==e.length)return!1;var n=f.default.pieceUp(t),r=s(e.map(function(e){return a(e,n)}),n),i=d(r,2),o=i[0],u=i[1];return o.key===u.key}function c(e,t){var n;return e.forEach(function(e,r){o(e,t)&&(n=r)}),n}Object.defineProperty(n,"__esModule",{value:!0});var d=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(a){i=!0,o=a}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(e){return e&&e.__esModule?e:{default:e}}(e("./pieces")),h=function(){var e=f.default.colors,t=[];for(var n in e)for(var r in e)for(var i in e)for(var a in e)n!==r&&n!==i&&n!==a&&r!==i&&r!==a&&i!==a&&t.push([e[n],e[r],e[i],e[a]]);return t}();n.default={compute:function(e,t,n){var r=[],i=f.default.pieceUp(n);return t=a(t,i),e.series.forEach(function(a,s){var l,c=a.slice(0),d=a.slice(0);c.splice(0,0,t),d.splice(a.length,0,t),u(c,n)&&r.push(f.default.getOpenSerieKeyFromGroupIndex(e,s,0)),u(d,n)&&r.push(f.default.getOpenSerieKeyFromGroupIndex(e,s,a.length+1)),u(a.map(function(e){return o(e,i)?t:e}),n)&&(a.forEach(function(e,t){o(e,i)&&(l=t)}),r.push(f.default.getOpenSerieKeyFromGroupIndex(e,s,l+1)))}),e.pairs.forEach(function(a,s){if(l(a.map(function(e){return o(e,i)?t:e}),n)){var u=c(a,i);r.push(f.default.getOpenPairKeyFromGroupIndex(e,s,u))}}),r},series:u,pairs:l,findOkeyIndex:c},t.exports=n.default},{"./pieces":13}],13:[function(e,t,n){"use strict";function r(e){var t=[];for(var n in g)t.push(h(e,n).key);return t}function i(e){var t=e[0],n=e[1],r=e[2],i=2;return v[t]?(g[n+r]&&(n+=r,i=3),{piece:h(t,n),left:e.slice(i)}):{left:e.slice(1)}}function a(e){var t=[],n=[];for(e+="\n";e.length>0;){var r=i(e);r.piece?n.push(r.piece):(n.length>0&&t.push(n),n=[]),e=r.left}return t}function o(e){for(var t=[],n=0;e.length>0;){var r=i(e);r.piece&&(t[n]=r.piece),n++,e=r.left}return t}function s(e){var t={};e=o(e);for(var n=0,r=0;r<e.length;r++){if(e[r]){for(;n<100&&!m.default.isAllowedBoardKey(m.default.encodeKey(n,"b"));)n++;t[m.default.encodeKey(n,"b")]=e[r],n++}n++}return t}function u(e,t){e=e.split(" ");var n={};return m.default.allSides.map(function(e){return m.default.findPov(t,e)}).forEach(function(t,r){var i=o(e[r]||"");n[m.default.discardByPov(t)]=i}),n}function l(e){var t=e.split("/"),n=p(t,2),r=n[0],i=n[1];return{series:r=a(r),pairs:i=a(i),layout:c(r,i),relayout:function(e){e.opens.layout=c(e.opens.series,e.opens.pairs)}}}function c(e,t){var n,r,i,a,o={},s={series:{},pairs:{}},u=[],l=0;for(n=0;n<e.length;n++){var c=e[n];i=(u[l]||1)-1,a=l,s.series[m.default.miniPos2key([i,a])]=n;for(var d=0;d<c.length;d++)r=u[l]||1,o[m.default.miniPos2key([r,l])]=c[d],u[l]=r+1;u[l]+=2,++l>=m.default.miniRows&&(l=0)}for(u=[],n=0,d=0,0,r=0,l=0,n=0;n<t.length;n++){var f=t[n];for(i=(u[l]||m.default.miniColumns-1)-1,a=l,s.pairs[m.default.miniPos2key([i,a])]=n,d=f.length-1;d>=0;d--)r=u[l]||m.default.miniColumns-1,o[m.default.miniPos2key([r,l])]=f[d],u[l]=r-1;u[l]-=1,++l>=m.default.miniRows&&(l=0)}return{layout:o,groupMap:s}}function d(e,t,n){for(var r in e)if(e[r]===t){var i=m.default.miniKey2pos(r),a=p(i,2),o=[a[0]+n,a[1]];return m.default.miniPos2key(o)}}function f(e){var t={},n=function(e){var t={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},n=t[e[0]],r=t[e[1]];return void 0===r?void 0===n?{left:e.slice(1)}:{number:n,left:e.slice(1)}:{number:10*n+r,left:e.slice(2)}}(e);return t[m.default.middleCount]=n.number,n=i(n.left),t[m.default.gosterge]=n.piece,t}function h(e,t){return{color:v[e],number:g[t],c:e,n:parseInt(t),key:e+t}}var p=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(a){i=!0,o=a}finally{try{!r&&u.return&&u.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=function(e){return e&&e.__esModule?e:{default:e}}(e("./util")),v={b:"blue",r:"red",g:"green",l:"black",f:"fake"},g={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen"},y=/[f|r|l|b|g]\d\d?/g,b=function(){var e={};for(var t in v)e[v[t]]=r(t);return e}();t.exports={validDuzOkeyGroupFen:function(e){return e.length>0&&14===e.match(y).length},initial:"r1r2 r3r4r5r6r7r8r9r10r11r12r13l1l2l3l4l5l6l7   g1g2  l3",rainbow:"r1g1l1b1 r2g2l2b2 r3g3l3b3 r4g4l4b4 r13g13l13b13 r1g1l1b1",mixed:"g7r7b7l7 g8r8b8l8 g13r13b13l13 l12 r6r5r4r12r13 g9g8g13 g6 l8l7l12",write:function(e){return m.default.allKeys.map(function(t){return e[t]}).map(function(e){return e&&e.key||" "}).join("").replace(/([^\s])\s/g,"$1")},read:function(e){var t={e:"east",w:"west",n:"north",s:"south"}[(e=e.split("/"))[0]];return{pieces:s(e[2]),discards:u(e[3],t),opens:l([e[4],e[5]].join("/")),middles:f(e[1])}},readDropPos:function(e){var t=e.match(/([l|r|p])(\d\d?)/);return{type:t[1],groupIndex:parseInt(t[2])}},readPiece:i,readBoard:s,initialMiddles:"20l3",initialDiscards:"b1  r1r2 g1",initialOpenGroups:"r8l8b8\nb1b2b3\nb9b10b11b12\nl13r13b13\nr12b12g12\nr7r8r9r10\ng10g11g12\nl6b6r6\nl9l10l11\nb7l7r7g7\nr13l13b13g13\nl10r10b10g10\nl6r6g6\nl1b1g1\n/r1r1\ng1g1\ng2g2\ng3g3\ng4g4\ng5g5\ng6g6\ng7g7\ng8g8\ng9g9\ng10g10\ng11g11\ng12g12\n\n",readMiddles:f,readDiscards:u,readPieceGroup:a,readOpenGroups:l,layoutOpens:c,seriesByColor:function(e){return b[e]},makePiece:h,pieceUp:function(e){return h(e.c,e.n%13+1)},pieceDown:function(e){return h(e.c,(e.n+11)%13+1)},pieceFake:function(e){return"fake"===e.color},colors:v,getOpenSerieKeyFromGroupIndex:function(e,t,n){return d(e.layout.groupMap.series,t,n)},getOpenPairKeyFromGroupIndex:function(e,t,n){return d(e.layout.groupMap.pairs,t,n)},getOpenSerieFromPos:function(e,t){var n=e.opens,r=n.series,i=n.layout.groupMap,a=p(t,2),o=a[0],s=a[1];for(var u in i.series){var l=i.series[u],c=r[l],d=m.default.miniKey2pos(u),f=p(d,2),h=f[0],v=f[1],g=o-h;if(!(g<0||g>c.length+1||s!=v))return[l,g]}},getOpenPairFromPos:function(e,t){var n=e.opens,r=n.pairs,i=n.layout.groupMap,a=p(t,2),o=a[0],s=a[1];for(var u in i.pairs){var l=i.pairs[u],c=(r[l],m.default.miniKey2pos(u)),d=p(c,2),f=d[0],h=d[1],v=o-f;if(!(v<0||v>1||s!=h))return[l,v]}}}},{"./util":15}],14:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var r=e.pieces[t];return!!r&&(g(l.default.partial(e.events.move,c.default.discard,m(r.key))),e.discards[n].unshift(e.pieces[t]),delete e.pieces[t],e.lastMove=[n],!0)}function a(e,t){return 0===t?c.default.dropLeft:t===e.length+1?c.default.dropRight:c.default.dropReplace}function o(e){return e.povSide===e.turnSide}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.topColumns,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.topRows;return function(r,i,a){if(a||r.bounds){a=a||r.bounds();var o=Math.floor(t*((i[0]-a.left)/a.width)),s=Math.floor(n*((i[1]-a.top)/a.height));return s>=0&&s<n&&o>=0&&o<t?e(s,o):void 0}}}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(u){i=!0,a=u}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=r(e("./util")),c=r(e("./move")),d=r(e("./pieces")),f=r(e("./open")),h=r(e("./board")),p=l.default.wrapDrop,m=l.default.wrapPiece,v=l.default.wrapGroup,g=l.default.callUserFunction,y=s(function(e,t){return l.default.miniPos2key([t,e])},l.default.miniColumns,l.default.miniRows),b=s(function(e,t){if(e===l.default.topRows-1){if(0===t)return l.default.discards[1];if(t===l.default.topColumns-4)return l.default.middleCount}}),_=s(function(e,t){if(e===l.default.topRows-1){if(t===l.default.topColumns-1)return l.default.discards[2];if(t===l.default.topColumns-3)return l.default.gosterge}});n.default={apiMove:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.piece,a=n.group,o=n.pos;if(e.turnSide===e.povSide)switch(t){case c.default.discard:!function(e,t,n){for(var r in e.pieces){var a=e.pieces[r];if(a&&l.default.pieceEqual(t,a))return i(e,r,n),!0}}(e,r=d.default.readPiece(r).piece,l.default.discards[2]);break;case c.default.drawMiddle:r=d.default.readPiece(r).piece,e.middleHolder.current?h.default.apiDrawMiddleEnd(e,r):h.default.apiForceDrawMiddleEnd(e,r)}else{var s=l.default.findPov(e.povSide,e.turnSide);switch(t){case c.default.drawMiddle:(function(e){e.middles[l.default.middleCount]--,e.lastMove=[l.default.middleCount]})(e),e.animation.current.hint=c.default.drawMiddle;break;case c.default.drawLeft:!function(e,t){e.discards[t].shift()}(e,l.default.drawByPov(s));break;case c.default.discard:r=d.default.readPiece(r).piece,function(e,t,n){e.discards[t].unshift(n),e.lastMove=[t]}(e,l.default.discardByPov(s),r),e.animation.current.hint=c.default.discard;break;case c.default.leaveTaken:r=d.default.readPiece(r).piece,function(e,t,n){e.discards[t].unshift(n)}(e,l.default.drawByPov(s),r);break;case c.default.openSeries:!function(e,t){var n=t,r=e.opens.series.concat(n);e.opens.series=r,e.opens.relayout(e)}(e,a=d.default.readPieceGroup(a));break;case c.default.openPairs:!function(e,t){var n=t,r=e.opens.pairs.concat(n);e.opens.pairs=r,e.opens.relayout(e)}(e,a=d.default.readPieceGroup(a));break;case c.default.dropOpenSeries:!function(e,t,n){var r=n.type,i=n.groupIndex,a=e.opens.series[i],o=r!==c.default.dropReplace?0:1,s=0;if(r===c.default.dropLeft)s=0;else if(r===c.default.dropRight)s=a.length+1;else{var u=d.default.pieceUp(e.middles[l.default.gosterge]);s=f.default.findOkeyIndex(a,u)+1}a.splice(s-o,o,t),e.opens.relayout(e)}(e,r=d.default.readPiece(r).piece,o=d.default.readDropPos(o));break;case c.default.dropOpenPairs:!function(e,t,n){var r=n.groupIndex,i=e.opens.pairs[r],a=d.default.pieceUp(e.middles[l.default.gosterge]),o=f.default.findOkeyIndex(i,a);i.splice(o,1,t),e.opens.relayout(e)}(e,r=d.default.readPiece(r).piece,o=d.default.readDropPos(o));break;default:console.error("unknown move")}}},selectTop:function(e,t){!function(e,t){e.selected=t}(e,t)},dropTop:function(e,t,n){var r=e.pieces[t];if(n&&n===l.default.discards[2]){if(function(e,t,n){return o(e)&&l.default.containsX(e.movable.dests,c.default.discard)}(e)&&i(e,t,n))return g(l.default.partial(e.movable.events.after,c.default.discard,m(r.key))),!0}else if(n===l.default.gosterge){if(function(e,t){return o(e)&&l.default.containsX(e.movable.dests,c.default.showSign)}(e)&&function(e,t){var n=e.pieces[t];return!!n&&!!l.default.pieceEqual(n,e.middles[l.default.gosterge])&&(g(l.default.partial(e.events.move,c.default.sign,m(n.key))),!0)}(e,t))return g(l.default.partial(e.movable.events.after,c.default.sign,m(r.key))),!0;if(function(e,t){return o(e)&&l.default.containsX(e.movable.dests,c.default.discardEndSeries)}(e)&&function(e,t){var n=e.pieces[t];if(!n)return!1;delete e.pieces[t];var r=(d.default.write(e.pieces),h.default.getPieceGroupSeries(e)),i=h.default.getPieceGroupPairs(e);if(d.default.validDuzOkeyGroupFen(r))g(l.default.partial(e.events.move,c.default.discardEndSeries,v(r)));else{if(!d.default.validDuzOkeyGroupFen(i))return e.pieces[t]=n,!1;g(l.default.partial(e.events.move,c.default.discardEndPairs,v(i)))}return!0}(e,t)){var a=(d.default.write(e.pieces),h.default.getPieceGroupSeries(e)),s=h.default.getPieceGroupPairs(e);return d.default.validDuzOkeyGroupFen(a)?g(l.default.partial(e.movable.events.after,c.default.discardEndSeries,v(a))):d.default.validDuzOkeyGroupFen(s)&&g(l.default.partial(e.movable.events.after,c.default.discardEndPairs,v(s))),!0}}return!1},dropOpens:function(e,t,n){if(n&&l.default.isOpensKey(n)&&function(e,t,n){var r=e.middles[l.default.gosterge];return h.default.isDroppableOpens(e,t)&&l.default.isBoardKey(t)&&l.default.isOpensKey(n)&&l.default.containsX(e.movable.dests,c.default.dropOpenSeries)&&l.default.containsX(e.movable.dests,c.default.dropOpenPairs)&&l.default.containsX(f.default.compute(e.opens,e.pieces[t],r),n)}(e,t,n)){var r,i,o,s=e.pieces[t],v=d.default.getOpenSerieFromPos(e,l.default.miniKey2pos(n));if(v){var y=u(v,2);r=y[0],i=y[1],o=a(e.opens.series[r],i)+r}if(function(e,t,n,r){if(!e.pieces[t]||!r)return!1;var i=e.pieces[t];g(l.default.partial(e.events.move,c.default.dropOpenSeries,m(i.key)));var o=u(r,2),s=o[0],f=o[1],h=e.opens.series[s],p=a(h,f),v=p!==c.default.dropReplace?0:1;if(h.splice(f-v,v,i),e.opens.relayout(e),delete e.pieces[t],p===c.default.dropReplace){var y=d.default.pieceUp(e.middles[l.default.gosterge]);e.pieces[t]=y}return!0}(e,t,0,v))return g(l.default.partial(e.movable.events.after,c.default.dropOpenSeries,p(s.key,o))),!0;var b=d.default.getOpenPairFromPos(e,l.default.miniKey2pos(n));if(b){var _=u(b,2);r=_[0],i=_[1],o=a(e.opens.pairs[r],i)+r}if(function(e,t,n,r){if(!e.pieces[t]||!r)return!1;var i=e.pieces[t];g(l.default.partial(e.events.move,c.default.dropOpenPairs,m(i.key)));var a=u(r,2),o=a[0],s=a[1];e.opens.pairs[o].splice(s,1,i),e.opens.relayout(e),delete e.pieces[t];var f=d.default.pieceUp(e.middles[l.default.gosterge]);return e.pieces[t]=f,!0}(e,t,0,b))return g(l.default.partial(e.movable.events.after,c.default.dropOpenPairs,p(s.key,o))),!0}return!1},isDraggable:function(e,t){return l.default.isMiddleKey(t)||l.default.isDrawLeftKey(t)?e.povSide===e.turnSide:l.default.isBoardKey(t)},getDrawKeyAtDomPos:b,getDiscardKeyAtDomPos:_,getOpensKeyAtDomPos:y},t.exports=n.default},{"./board":5,"./move":11,"./open":12,"./pieces":13,"./util":15}],15:[function(e,t,n){"use strict";function r(e,t){for(var n=[],r=0;r<e;r++)for(var i=0;i<t;i++)n.push([i,r]);return n}function i(e,t){return t+e}function a(e,t){return parseInt(e.slice(1))}function o(e){return i(e[1]*l+e[0],y)}function s(e,t){return e.bind.apply(e,[null].concat(t))}var u,l=32,c=20,d={east:{east:"down",west:"up",north:"right",south:"left"},west:{east:"up",west:"down",north:"left",south:"right"},north:{east:"left",west:"right",north:"down",south:"up"},south:{east:"right",west:"left",north:"up",south:"down"}},f={up:0,left:1,down:2,right:3},h={up:3,left:0,down:1,right:2},p={up:[.5,0],left:[0,.5],right:[1,.5],down:[.5,1]},m=["dup","dleft","ddown","dright"],v="mmiddleCount",g={dup:[0,0],dleft:[0,6],ddown:[15,6],dright:[15,0],mmiddleCount:[12,6],mgosterge:[13,6]},y="b",b="o",_=r(2,l),w=r(8,c),k=[[0,0],[30,0],[31,0],[32,0],[62,0],[63,0]].map(o),x=function(e){return-1===k.indexOf(e)},S=_.map(o),M=S.filter(x);t.exports={topColumns:16,topRows:7,columns:l,rows:2,emptyPiece:{color:"empty",number:1},pieceEqual:function(e,t){return e.color===t.color&&e.number===t.number},allSides:["east","west","north","south"],allPos:_,allKeys:S,topKey2pos:function(e){return g[e]},pos2key:o,key2pos:function(e){return[(e=a(e))%l,Math.floor(e/l)]},miniColumns:c,miniRows:8,miniAllPos:w,miniPos2key:function(e){return i(e[1]*c+e[0],b)},miniKey2pos:function(e){return[(e=a(e))%c,Math.floor(e/c)]},encodeKey:i,decBoardKey:function(e){return i(a(e)-1,y)},notAllowedBoardKeys:k,isAllowedBoardKey:x,allAllowedBoardKeys:M,isBoardKey:function(e){return e[0]===y},isOpensKey:function(e){return e[0]===b},isMiddleKey:function(e){return e===v},isDrawLeftKey:function(e){return e===m[1]},findPov:function(e,t){return d[e][t]},vectorByPov:function(e){return p[e]},drawByPov:function(e){return m[h[e]]},discardByPov:function(e){return m[f[e]]},discards:m,middleCount:v,gosterge:"mgosterge",classSet:function(e){var t=[];for(var n in e)e[n]&&t.push(n);return t.join(" ")},containsX:function(e,t){return e&&-1!==e.indexOf(t)},eventPosition:function(e){return e.touches?[e.targetTouches[0].clientX,e.targetTouches[0].clientY]:[e.clientX,e.clientY]},distance:function(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))},transformProp:function(){return u||(u="transform"in document.body.style?"transform":"webkitTransform"in document.body.style?"webkitTransform":"mozTransform"in document.body.style?"mozTransform":"oTransform"in document.body.style?"oTransform":"msTransform"),u},translate:function(e){return"translate("+e[0]+"px,"+e[1]+"px)"},requestAnimationFrame:(window.requestAnimationFrame||window.setTimeout).bind(window),partialApply:s,partial:function(){return s(arguments[0],Array.prototype.slice.call(arguments,1))},memo:function(e){var t,n=function(){return void 0===t&&(t=e()),t};return n.clear=function(){t=void 0},n},wrapPiece:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.piece=e,t},wrapGroup:function(e){return{group:e}},wrapDrop:function(e,t){return{piece:e,pos:t}},callUserFunction:function(e){setTimeout(e,1)}}},{}],16:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.color+" "+e.number}function a(e){return{left:e[0]*(100/x.default.columns)+"%",top:e[1]*(100/x.default.rows)+"%"}}function o(e){return{left:e[0]*(100/x.default.miniColumns)+"%",top:e[1]*(100/x.default.miniRows)+"%"}}function s(e,t,n,r){return{tag:"piece",attrs:(e.data,{key:n,style:o(t),class:i(r)+" mini"})}}function u(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.data,o=x.default.classSet({selected:a.selected===t,"last-move":a.lastMove&&x.default.containsX(a.lastMove,t)}),s={style:{},class:[i(n),t,o].join(" "),"data-middle-count":e.data.middles[t]},u=e.data.draggable.current;if(r&&u.orig===t)s.style[x.default.transformProp()]=x.default.translate([u.pos[0]+u.dec[0],u.pos[1]+u.dec[1]]),s.class+=" dragging";else if(!r&&e.data.animation.current.anims){var l=e.data.animation.current.anims[t];l&&(s.style[x.default.transformProp()]=x.default.translate(l[1]))}return{tag:"piece",attrs:s}}function l(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=e.data,s=x.default.classSet({selected:o.selected===t}),u={key:t+(a?"":"d"),style:{},class:[i(n),t,s].join(" ")};r&&(u.class+=" "+r);var l=e.data.draggable.current;if(a&&l.orig===t)u.style[x.default.transformProp()]=x.default.translate([l.pos[0]+l.dec[0],l.pos[1]+l.dec[1]]),u.class+=" dragging";else if(a&&e.data.animation.current.anims){var c=e.data.animation.current.anims[t];c&&(u.style[x.default.transformProp()]=x.default.translate(c[1]))}return{tag:"piece",attrs:u}}function c(e,t,n){return{tag:"div",attrs:{key:t,style:{},class:[t,(e.data,x.default.classSet({"piece-holder":!0})),n].join(" ")}}}function d(e,t,n,r,o){var s=e.data,u=x.default.classSet({selected:s.selected===n}),l={key:n,style:a(t),class:[i(r),u].join(" ")};o&&(l.class+=" "+o);var c=e.data.draggable.current;return c.orig===n&&(c.over&&x.default.isOpensKey(c.over)&&(l.style.width=c.opensBounds.width/x.default.miniColumns+"px",l.style.height=c.opensBounds.height/x.default.miniRows+"px"),l.style[x.default.transformProp()]=x.default.translate([c.pos[0]+c.dec[0],c.pos[1]+c.dec[1]]),l.class+=" dragging"),{tag:"piece",attrs:l}}function f(e,t,n){return{tag:"div",attrs:{style:o(n),class:e+" oc"}}}function h(e,t,n){return{tag:"div",attrs:{style:a(n),class:e}}}function p(e){function t(e){return{tag:"div",attrs:{class:"wood "+e}}}var n,r=e.data,i=x.default.allPos,a=[];a.push(t("left"),t("right"));for(var o=0;o<i.length;o++){var s=x.default.pos2key(i[o]),u=r.pieces[s];u&&a.push(d(e,i[o],s,u)),r.draggable.current.over===s&&(n=h("drag-over",0,i[o]))}return r.middleHolder.key&&a.push(d(e,x.default.key2pos(r.middleHolder.key),r.middleHolder.key,x.default.emptyPiece,"loading")),n&&a.push(n),{tag:"div",attrs:{config:function(t,n,r){n||(e.data.boardBounds=x.default.memo(t.getBoundingClientRect.bind(t)))},class:"og-board"},children:a}}function m(e){var t=e.data;return{tag:"div",attrs:{config:function(t,n,r){n||(e.data.opensBounds=x.default.memo(t.getBoundingClientRect.bind(t)))},class:"og-opens"},children:function(e,t){for(var n=e.data,r=x.default.miniAllPos,i=[],a=[],o=0;o<r.length;o++){var u=x.default.miniPos2key(r[o]),l=t[u];l&&i.push(s(e,r[o],u,l));var c=x.default.classSet({"drag-over":n.draggable.current.over===u,"move-dest":x.default.containsX(n.openable.dests,u)});""!==c&&a.push(f(c,0,r[o]))}return i.push(a),i}(e,t.opens.layout.layout)}}function v(e){var t=e.data,n=[],r=[];for(var i in t.discards){var a=t.discards[i][0],o=x.default.classSet({"drag-over":t.draggable.current.over===i,"move-dest":"ddown"===i&&t.selected&&x.default.isBoardKey(t.selected)&&x.default.containsX(t.movable.dests,S.default.discard),"last-move":t.lastMove&&x.default.containsX(t.lastMove,i)});a?(t.discards[i][1]&&r.push(l(e,i,t.discards[i][1],"fake",!1)),r.push(l(e,i,a,o))):n.push(c(e,i,o))}return n.push(r),n}function g(e){var t=e.data,n=[],r=t.middleHolder.piece||x.default.emptyPiece;return n.push(l(e,x.default.gosterge,t.middles[x.default.gosterge])),n.push(u(e,x.default.middleCount,x.default.emptyPiece)),(x.default.isMiddleKey(t.draggable.current.orig)||t.animation.current.anims&&t.animation.current.anims[x.default.middleCount])&&n.push(u(e,x.default.middleCount,r,!0)),t.draggable.current.over===x.default.gosterge&&n.push(function(e,t,n){return{tag:"div",attrs:{class:e+" oc "+n}}}("drag-over",0,x.default.gosterge)),n}function y(e){return{tag:"div",attrs:{config:function(t,n,r){n||(e.data.topBounds=x.default.memo(t.getBoundingClientRect.bind(t)))},class:"og-top"},children:[g(e),v(e),m(e)]}}function b(e,t){return function(n){t(e,n)}}function _(e){return{tag:"div",attrs:{class:"og-table",config:function(t,n,r){n||(function(e,t,n){var r=e.data,i=b(r,k.default.start),a=b(r,k.default.move),o=b(r,k.default.end),s=["touchstart","mousedown"],u=["touchmove","mousemove"],l=["touchend","mouseup"];s.forEach(function(e){t.addEventListener(e,i)}),u.forEach(function(e){document.addEventListener(e,a)}),l.forEach(function(e){document.addEventListener(e,o)}),n.onunload=function(){s.forEach(function(e){t.removeEventListener(e,i)}),u.forEach(function(e){document.removeEventListener(e,a)}),l.forEach(function(e){document.removeEventListener(e,o)})}}(e,t,r),e.data.render=function(){w.default.render(t,function(e){return[y(e),p(e)]}(e))},e.data.renderRAF=function(){x.default.requestAnimationFrame(e.data.render)},e.data.bounds=x.default.memo(t.getBoundingClientRect.bind(t)),e.data.element=t,e.data.render())}},children:[]}}var w=r(e("mithril")),k=r(e("./drag")),x=r(e("./util")),S=r(e("./move"));t.exports=function(e){return{tag:"div",attrs:{config:function(t,n){n||["onscroll","onresize"].forEach(function(t){var n=window[t];window[t]=function(){n&&n(),e.data.bounds.clear(),e.data.boardBounds.clear(),e.data.opensBounds.clear(),e.data.topBounds.clear()}})},class:["og-table-wrap"].join(" ")},children:[_(e)]}}},{"./drag":9,"./move":11,"./util":15,mithril:2}]},{},[10])(10)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){function i(e){var t,n,r=e[0]/255,i=e[1]/255,a=e[2]/255,o=Math.min(r,i,a),s=Math.max(r,i,a),u=s-o;return s==o?t=0:r==s?t=(i-a)/u:i==s?t=2+(a-r)/u:a==s&&(t=4+(r-i)/u),(t=Math.min(60*t,360))<0&&(t+=360),n=(o+s)/2,[t,100*(s==o?0:n<=.5?u/(s+o):u/(2-s-o)),100*n]}function a(e){var t,n,r=e[0],i=e[1],a=e[2],o=Math.min(r,i,a),s=Math.max(r,i,a),u=s-o;return n=0==s?0:u/s*1e3/10,s==o?t=0:r==s?t=(i-a)/u:i==s?t=2+(a-r)/u:a==s&&(t=4+(r-i)/u),(t=Math.min(60*t,360))<0&&(t+=360),[t,n,s/255*1e3/10]}function o(e){var t=e[0],n=e[1],r=e[2];return[i(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]}function s(e){var t,n=e[0]/255,r=e[1]/255,i=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-i)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]}function u(e){return M[JSON.stringify(e)]}function l(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]}function c(e){var t=l(e),n=t[0],r=t[1],i=t[2];return r/=100,i/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]}function d(e){var t,n,r,i,a,o=e[0]/360,s=e[1]/100,u=e[2]/100;if(0==s)return[a=255*u,a,a];t=2*u-(n=u<.5?u*(1+s):u+s-u*s),i=[0,0,0];for(var l=0;l<3;l++)(r=o+1/3*-(l-1))<0&&r++,r>1&&r--,a=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,i[l]=255*a;return i}function f(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,i=Math.floor(t)%6,a=t-Math.floor(t),o=255*r*(1-n),s=255*r*(1-n*a),u=255*r*(1-n*(1-a));r*=255;switch(i){case 0:return[r,u,o];case 1:return[s,r,o];case 2:return[o,r,u];case 3:return[o,s,r];case 4:return[u,o,r];case 5:return[r,o,s]}}function h(e){var t,n,i,a,o=e[0]/360,s=e[1]/100,u=e[2]/100,l=s+u;switch(l>1&&(s/=l,u/=l),i=6*o-(t=Math.floor(6*o)),0!=(1&t)&&(i=1-i),a=s+i*((n=1-u)-s),t){default:case 6:case 0:r=n,g=a,b=s;break;case 1:r=a,g=n,b=s;break;case 2:r=s,g=n,b=a;break;case 3:r=s,g=a,b=n;break;case 4:r=a,g=s,b=n;break;case 5:r=n,g=s,b=a}return[255*r,255*g,255*b]}function p(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]}function m(e){var t,n,r,i=e[0]/100,a=e[1]/100,o=e[2]/100;return n=-.9689*i+1.8758*a+.0415*o,r=.0557*i+-.204*a+1.057*o,t=(t=3.2406*i+-1.5372*a+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]}function v(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function y(e){var t,n,r,i,a=e[0],o=e[1],s=e[2];return a<=8?i=(n=100*a/903.3)/100*7.787+16/116:(n=100*Math.pow((a+16)/116,3),i=Math.pow(n/100,1/3)),[t=t/95.047<=.008856?t=95.047*(o/500+i-16/116)/7.787:95.047*Math.pow(o/500+i,3),n,r=r/108.883<=.008859?r=108.883*(i-s/200-16/116)/7.787:108.883*Math.pow(i-s/200,3)]}function _(e){var t,n=e[0],r=e[1],i=e[2];return(t=360*Math.atan2(i,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+i*i),t]}function w(e){return m(y(e))}function k(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]}function x(e){return S[e]}t.exports={rgb2hsl:i,rgb2hsv:a,rgb2hwb:o,rgb2cmyk:s,rgb2keyword:u,rgb2xyz:l,rgb2lab:c,rgb2lch:function(e){return _(c(e))},hsl2rgb:d,hsl2hsv:function(e){var t=e[0],n=e[1]/100,r=e[2]/100;if(0===r)return[0,0,0];return[t,100*(2*(n*=(r*=2)<=1?r:2-r)/(r+n)),100*((r+n)/2)]},hsl2hwb:function(e){return o(d(e))},hsl2cmyk:function(e){return s(d(e))},hsl2keyword:function(e){return u(d(e))},hsv2rgb:f,hsv2hsl:function(e){var t,n,r=e[0],i=e[1]/100,a=e[2]/100;return t=i*a,[r,100*(t=(t/=(n=(2-i)*a)<=1?n:2-n)||0),100*(n/=2)]},hsv2hwb:function(e){return o(f(e))},hsv2cmyk:function(e){return s(f(e))},hsv2keyword:function(e){return u(f(e))},hwb2rgb:h,hwb2hsl:function(e){return i(h(e))},hwb2hsv:function(e){return a(h(e))},hwb2cmyk:function(e){return s(h(e))},hwb2keyword:function(e){return u(h(e))},cmyk2rgb:p,cmyk2hsl:function(e){return i(p(e))},cmyk2hsv:function(e){return a(p(e))},cmyk2hwb:function(e){return o(p(e))},cmyk2keyword:function(e){return u(p(e))},keyword2rgb:x,keyword2hsl:function(e){return i(x(e))},keyword2hsv:function(e){return a(x(e))},keyword2hwb:function(e){return o(x(e))},keyword2cmyk:function(e){return s(x(e))},keyword2lab:function(e){return c(x(e))},keyword2xyz:function(e){return l(x(e))},xyz2rgb:m,xyz2lab:v,xyz2lch:function(e){return _(v(e))},lab2xyz:y,lab2rgb:w,lab2lch:_,lch2lab:k,lch2xyz:function(e){return y(k(e))},lch2rgb:function(e){return w(k(e))}};var S={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},M={};for(var E in S)M[JSON.stringify(S[E])]=E},{}],3:[function(e,t,n){var r=e("./conversions"),i=function(){return new l};for(var a in r){i[a+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),r[e](t)}}(a);var o=/(\w+)2(\w+)/.exec(a),s=o[1],u=o[2];(i[s]=i[s]||{})[u]=i[a]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=r[e](t);if("string"==typeof n||void 0===n)return n;for(var i=0;i<n.length;i++)n[i]=Math.round(n[i]);return n}}(a)}var l=function(){this.convs={}};l.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},l.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},l.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space,r=this.convs[n];t=i[n][e](r),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(e){l.prototype[e]=function(t){return this.routeSpace(e,arguments)}}),t.exports=i},{"./conversions":2}],4:[function(e,t,n){t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],5:[function(e,t,n){var r=e("color-name");function i(e){if(e){var t=[0,0,0],n=1,i=e.match(/^#([a-fA-F0-9]{3})$/);if(i){i=i[1];for(var a=0;a<t.length;a++)t[a]=parseInt(i[a]+i[a],16)}else if(i=e.match(/^#([a-fA-F0-9]{6})$/)){i=i[1];for(a=0;a<t.length;a++)t[a]=parseInt(i.slice(2*a,2*a+2),16)}else if(i=e.match(/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([\d\.]+)\s*)?\)$/)){for(a=0;a<t.length;a++)t[a]=parseInt(i[a+1]);n=parseFloat(i[4])}else if(i=e.match(/^rgba?\(\s*([\d\.]+)\%\s*,\s*([\d\.]+)\%\s*,\s*([\d\.]+)\%\s*(?:,\s*([\d\.]+)\s*)?\)$/)){for(a=0;a<t.length;a++)t[a]=Math.round(2.55*parseFloat(i[a+1]));n=parseFloat(i[4])}else if(i=e.match(/(\D+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(t=r[i[1]]))return}for(a=0;a<t.length;a++)t[a]=c(t[a],0,255);return n=n||0==n?c(n,0,1):1,t[3]=n,t}}function a(e){if(e){var t=e.match(/^hsla?\(\s*(\d+)(?:deg)?\s*,\s*([\d\.]+)%\s*,\s*([\d\.]+)%\s*(?:,\s*([\d\.]+)\s*)?\)/);if(t)return[c(parseInt(t[1]),0,360),c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(parseFloat(t[4])||1,0,1)]}}function o(e){if(e){var t=e.match(/^hwb\(\s*(\d+)(?:deg)?\s*,\s*([\d\.]+)%\s*,\s*([\d\.]+)%\s*(?:,\s*([\d\.]+)\s*)?\)/);if(t)return[c(parseInt(t[1]),0,360),c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(parseFloat(t[4])||1,0,1)]}}function s(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function u(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function l(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function c(e,t,n){return Math.min(Math.max(t,e),n)}function d(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}t.exports={getRgba:i,getHsla:a,getRgb:function(e){var t=i(e);return t&&t.slice(0,3)},getHsl:function(e){var t=a(e);return t&&t.slice(0,3)},getHwb:o,getAlpha:function(e){var t=i(e);if(t)return t[3];if(t=a(e))return t[3];if(t=o(e))return t[3]},hexString:function(e){return"#"+d(e[0])+d(e[1])+d(e[2])},rgbString:function(e,t){if(t<1||e[3]&&e[3]<1)return s(e,t);return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:s,percentString:function(e,t){if(t<1||e[3]&&e[3]<1)return u(e,t);var n=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),i=Math.round(e[2]/255*100);return"rgb("+n+"%, "+r+"%, "+i+"%)"},percentaString:u,hslString:function(e,t){if(t<1||e[3]&&e[3]<1)return l(e,t);return"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:l,hwbString:function(e,t){void 0===t&&(t=void 0!==e[3]?e[3]:1);return"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return f[e.slice(0,3)]}};var f={};for(var h in r)f[r[h]]=h},{"color-name":4}],6:[function(e,t,n){var r=e("color-convert"),i=e("color-string"),a=function(e){if(e instanceof a)return e;if(!(this instanceof a))return new a(e);if(this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},"string"==typeof e)if(t=i.getRgba(e))this.setValues("rgb",t);else if(t=i.getHsla(e))this.setValues("hsl",t);else{if(!(t=i.getHwb(e)))throw new Error('Unable to parse color from string "'+e+'"');this.setValues("hwb",t)}else if("object"==typeof e){var t;if(void 0!==(t=e).r||void 0!==t.red)this.setValues("rgb",t);else if(void 0!==t.l||void 0!==t.lightness)this.setValues("hsl",t);else if(void 0!==t.v||void 0!==t.value)this.setValues("hsv",t);else if(void 0!==t.w||void 0!==t.whiteness)this.setValues("hwb",t);else{if(void 0===t.c&&void 0===t.cyan)throw new Error("Unable to parse color from object "+JSON.stringify(e));this.setValues("cmyk",t)}}};a.prototype={rgb:function(e){return this.setSpace("rgb",arguments)},hsl:function(e){return this.setSpace("hsl",arguments)},hsv:function(e){return this.setSpace("hsv",arguments)},hwb:function(e){return this.setSpace("hwb",arguments)},cmyk:function(e){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return 1!==this.values.alpha?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){return this.values.rgb.concat([this.values.alpha])},hslaArray:function(){return this.values.hsl.concat([this.values.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return i.hexString(this.values.rgb)},rgbString:function(){return i.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return i.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return i.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return i.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return i.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return i.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return i.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){return this.values.hsl[2]+=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},darken:function(e){return this.values.hsl[2]-=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},saturate:function(e){return this.values.hsl[1]+=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},desaturate:function(e){return this.values.hsl[1]-=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},whiten:function(e){return this.values.hwb[1]+=this.values.hwb[1]*e,this.setValues("hwb",this.values.hwb),this},blacken:function(e){return this.values.hwb[2]+=this.values.hwb[2]*e,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){return this.setValues("alpha",this.values.alpha-this.values.alpha*e),this},opaquer:function(e){return this.setValues("alpha",this.values.alpha+this.values.alpha*e),this},rotate:function(e){var t=this.values.hsl[0];return t=(t=(t+e)%360)<0?360+t:t,this.values.hsl[0]=t,this.setValues("hsl",this.values.hsl),this},mix:function(e,t){for(var n=2*(t=1-(null==t?.5:t))-1,r=this.alpha()-e.alpha(),i=((n*r==-1?n:(n+r)/(1+n*r))+1)/2,a=1-i,o=this.rgbArray(),s=e.rgbArray(),u=0;u<o.length;u++)o[u]=o[u]*i+s[u]*a;this.setValues("rgb",o);var l=this.alpha()*t+e.alpha()*(1-t);return this.setValues("alpha",l),this},toJSON:function(){return this.rgb()},clone:function(){return new a(this.rgb())}},a.prototype.getValues=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=this.values[e][n];return 1!=this.values.alpha&&(t.a=this.values.alpha),t},a.prototype.setValues=function(e,t){var n={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},i={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},a=1;if("alpha"==e)a=t;else if(t.length)this.values[e]=t.slice(0,e.length),a=t[e.length];else if(void 0!==t[e[0]]){for(var o=0;o<e.length;o++)this.values[e][o]=t[e[o]];a=t.a}else if(void 0!==t[n[e][0]]){var s=n[e];for(o=0;o<e.length;o++)this.values[e][o]=t[s[o]];a=t.alpha}if(this.values.alpha=Math.max(0,Math.min(1,void 0!==a?a:this.values.alpha)),"alpha"!=e){for(o=0;o<e.length;o++){var u=Math.max(0,Math.min(i[e][o],this.values[e][o]));this.values[e][o]=Math.round(u)}for(var l in n){l!=e&&(this.values[l]=r[e][l](this.values[e]));for(o=0;o<l.length;o++){u=Math.max(0,Math.min(i[l][o],this.values[l][o]));this.values[l][o]=Math.round(u)}}return!0}},a.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},a.prototype.setChannel=function(e,t,n){return void 0===n?this.values[e][t]:(this.values[e][t]=n,this.setValues(e,this.values[e]),this)},t.exports=a},{"color-convert":3,"color-string":5}],7:[function(e,t,n){!function(e,n,r){var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},a=function(){var t={},i=n.createElement("div").style,a=function(){for(var e=["t","webkitT","MozT","msT","OT"],t=0,n=e.length;t<n;t++)if(e[t]+"ransform"in i)return e[t].substr(0,e[t].length-1);return!1}();function o(e){return!1!==a&&(""===a?e:a+e.charAt(0).toUpperCase()+e.substr(1))}t.getTime=Date.now||function(){return(new Date).getTime()},t.extend=function(e,t){for(var n in t)e[n]=t[n]},t.addEvent=function(e,t,n,r){e.addEventListener(t,n,!!r)},t.removeEvent=function(e,t,n,r){e.removeEventListener(t,n,!!r)},t.prefixPointerEvent=function(t){return e.MSPointerEvent?"MSPointer"+t.charAt(7).toUpperCase()+t.substr(8):t},t.momentum=function(e,t,n,i,a,o){var s,u,l=e-t,c=r.abs(l)/n;return u=c/(o=void 0===o?6e-4:o),(s=e+c*c/(2*o)*(l<0?-1:1))<i?(s=a?i-a/2.5*(c/8):i,u=(l=r.abs(s-e))/c):s>0&&(s=a?a/2.5*(c/8):0,u=(l=r.abs(e)+s)/c),{destination:r.round(s),duration:u}};var s=o("transform");return t.extend(t,{hasTransform:!1!==s,hasPerspective:o("perspective")in i,hasTouch:"ontouchstart"in e,hasPointer:!(!e.PointerEvent&&!e.MSPointerEvent),hasTransition:o("transition")in i}),t.isBadAndroid=function(){var t=e.navigator.appVersion;if(/Android/.test(t)&&!/Chrome\/\d/.test(t)){var n=t.match(/Safari\/(\d+.\d)/);return!(n&&"object"==typeof n&&n.length>=2)||parseFloat(n[1])<535.19}return!1}(),t.extend(t.style={},{transform:s,transitionTimingFunction:o("transitionTimingFunction"),transitionDuration:o("transitionDuration"),transitionDelay:o("transitionDelay"),transformOrigin:o("transformOrigin")}),t.hasClass=function(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)},t.addClass=function(e,n){if(!t.hasClass(e,n)){var r=e.className.split(" ");r.push(n),e.className=r.join(" ")}},t.removeClass=function(e,n){if(t.hasClass(e,n)){var r=new RegExp("(^|\\s)"+n+"(\\s|$)","g");e.className=e.className.replace(r," ")}},t.offset=function(e){for(var t=-e.offsetLeft,n=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,n-=e.offsetTop;return{left:t,top:n}},t.preventDefaultException=function(e,t){for(var n in t)if(t[n].test(e[n]))return!0;return!1},t.extend(t.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),t.extend(t.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(e){return e*(2-e)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(e){return r.sqrt(1- --e*e)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(e){return(e-=1)*e*(5*e+4)+1}},bounce:{style:"",fn:function(e){return(e/=1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}},elastic:{style:"",fn:function(e){return 0===e?0:1==e?1:.4*r.pow(2,-10*e)*r.sin((e-.055)*(2*r.PI)/.22)+1}}}),t.tap=function(e,t){var r=n.createEvent("Event");r.initEvent(t,!0,!0),r.pageX=e.pageX,r.pageY=e.pageY,e.target.dispatchEvent(r)},t.click=function(e){var t,r=e.target;/(SELECT|INPUT|TEXTAREA)/i.test(r.tagName)||((t=n.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,e.view,1,r.screenX,r.screenY,r.clientX,r.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),t._constructed=!0,r.dispatchEvent(t))},t}();function o(t,r){for(var i in this.wrapper="string"==typeof t?n.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!a.hasPointer,disableTouch:a.hasPointer||!a.hasTouch,disableMouse:a.hasPointer||a.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:void 0===e.onmousedown},r)this.options[i]=r[i];this.translateZ=this.options.HWCompositing&&a.hasPerspective?" translateZ(0)":"",this.options.useTransition=a.hasTransition&&this.options.useTransition,this.options.useTransform=a.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?a.ease[this.options.bounceEasing]||a.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function s(e,t,r){var i=n.createElement("div"),a=n.createElement("div");return!0===r&&(i.style.cssText="position:absolute;z-index:9999",a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),a.className="iScrollIndicator","h"==e?(!0===r&&(i.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",a.style.height="100%"),i.className="iScrollHorizontalScrollbar"):(!0===r&&(i.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",a.style.width="100%"),i.className="iScrollVerticalScrollbar"),i.style.cssText+=";overflow:hidden",t||(i.style.pointerEvents="none"),i.appendChild(a),i}function u(t,r){for(var o in this.wrapper="string"==typeof r.el?n.querySelector(r.el):r.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0},r)this.options[o]=r[o];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(a.addEvent(this.indicator,"touchstart",this),a.addEvent(e,"touchend",this)),this.options.disablePointer||(a.addEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.addEvent(e,a.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(a.addEvent(this.indicator,"mousedown",this),a.addEvent(e,"mouseup",this))),this.options.fade){this.wrapperStyle[a.style.transform]=this.scroller.translateZ;var s=a.style.transitionDuration;this.wrapperStyle[s]=a.isBadAndroid?"0.0001ms":"0ms";var u=this;a.isBadAndroid&&i(function(){"0.0001ms"===u.wrapperStyle[s]&&(u.wrapperStyle[s]="0s")}),this.wrapperStyle.opacity="0"}}o.prototype={version:"5.2.0",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(e){e.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(e){if(1!=a.eventType[e.type]&&0!==(e.which?e.button:e.button<2?0:4==e.button?1:2))return;if(this.enabled&&(!this.initiated||a.eventType[e.type]===this.initiated)){!this.options.preventDefault||a.isBadAndroid||a.preventDefaultException(e.target,this.options.preventDefaultException)||e.preventDefault();var t,n=e.touches?e.touches[0]:e;this.initiated=a.eventType[e.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=a.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,t=this.getComputedPosition(),this._translate(r.round(t.x),r.round(t.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=n.pageX,this.pointY=n.pageY,this._execEvent("beforeScrollStart")}},_move:function(e){if(this.enabled&&a.eventType[e.type]===this.initiated){this.options.preventDefault&&e.preventDefault();var t,n,i,o,s=e.touches?e.touches[0]:e,u=s.pageX-this.pointX,l=s.pageY-this.pointY,c=a.getTime();if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=u,this.distY+=l,i=r.abs(this.distX),o=r.abs(this.distY),!(c-this.endTime>300&&i<10&&o<10)){if(this.directionLocked||this.options.freeScroll||(i>o+this.options.directionLockThreshold?this.directionLocked="h":o>=i+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)e.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)e.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);u=0}u=this.hasHorizontalScroll?u:0,l=this.hasVerticalScroll?l:0,t=this.x+u,n=this.y+l,(t>0||t<this.maxScrollX)&&(t=this.options.bounce?this.x+u/3:t>0?0:this.maxScrollX),(n>0||n<this.maxScrollY)&&(n=this.options.bounce?this.y+l/3:n>0?0:this.maxScrollY),this.directionX=u>0?-1:u<0?1:0,this.directionY=l>0?-1:l<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(t,n),c-this.startTime>300&&(this.startTime=c,this.startX=this.x,this.startY=this.y)}}},_end:function(e){if(this.enabled&&a.eventType[e.type]===this.initiated){this.options.preventDefault&&!a.preventDefaultException(e.target,this.options.preventDefaultException)&&e.preventDefault();e.changedTouches&&e.changedTouches[0];var t,n,i=a.getTime()-this.startTime,o=r.round(this.x),s=r.round(this.y),u=r.abs(o-this.startX),l=r.abs(s-this.startY),c=0,d="";if(this.isInTransition=0,this.initiated=0,this.endTime=a.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(o,s),!this.moved)return this.options.tap&&a.tap(e,this.options.tap),this.options.click&&a.click(e),void this._execEvent("scrollCancel");if(this._events.flick&&i<200&&u<100&&l<100)this._execEvent("flick");else{if(this.options.momentum&&i<300&&(t=this.hasHorizontalScroll?a.momentum(this.x,this.startX,i,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:o,duration:0},n=this.hasVerticalScroll?a.momentum(this.y,this.startY,i,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:s,duration:0},o=t.destination,s=n.destination,c=r.max(t.duration,n.duration),this.isInTransition=1),this.options.snap){var f=this._nearestSnap(o,s);this.currentPage=f,c=this.options.snapSpeed||r.max(r.max(r.min(r.abs(o-f.x),1e3),r.min(r.abs(s-f.y),1e3)),300),o=f.x,s=f.y,this.directionX=0,this.directionY=0,d=this.options.bounceEasing}if(o!=this.x||s!=this.y)return(o>0||o<this.maxScrollX||s>0||s<this.maxScrollY)&&(d=a.ease.quadratic),void this.scrollTo(o,s,c,d);this._execEvent("scrollEnd")}}}},_resize:function(){var e=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){e.refresh()},this.options.resizePolling)},resetPosition:function(e){var t=this.x,n=this.y;return e=e||0,!this.hasHorizontalScroll||this.x>0?t=0:this.x<this.maxScrollX&&(t=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),(t!=this.x||n!=this.y)&&(this.scrollTo(t,n,e,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=a.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(e,t){this._events[e]||(this._events[e]=[]),this._events[e].push(t)},off:function(e,t){if(this._events[e]){var n=this._events[e].indexOf(t);n>-1&&this._events[e].splice(n,1)}},_execEvent:function(e){if(this._events[e]){var t=0,n=this._events[e].length;if(n)for(;t<n;t++)this._events[e][t].apply(this,[].slice.call(arguments,1))}},scrollBy:function(e,t,n,r){e=this.x+e,t=this.y+t,n=n||0,this.scrollTo(e,t,n,r)},scrollTo:function(e,t,n,r){r=r||a.ease.circular,this.isInTransition=this.options.useTransition&&n>0;var i=this.options.useTransition&&r.style;!n||i?(i&&(this._transitionTimingFunction(r.style),this._transitionTime(n)),this._translate(e,t)):this._animate(e,t,n,r.fn)},scrollToElement:function(e,t,n,i,o){if(e=e.nodeType?e:this.scroller.querySelector(e)){var s=a.offset(e);s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top,!0===n&&(n=r.round(e.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===i&&(i=r.round(e.offsetHeight/2-this.wrapper.offsetHeight/2)),s.left-=n||0,s.top-=i||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,t=null==t||"auto"===t?r.max(r.abs(this.x-s.left),r.abs(this.y-s.top)):t,this.scrollTo(s.left,s.top,t,o)}},_transitionTime:function(e){e=e||0;var t=a.style.transitionDuration;if(this.scrollerStyle[t]=e+"ms",!e&&a.isBadAndroid){this.scrollerStyle[t]="0.0001ms";var n=this;i(function(){"0.0001ms"===n.scrollerStyle[t]&&(n.scrollerStyle[t]="0s")})}if(this.indicators)for(var r=this.indicators.length;r--;)this.indicators[r].transitionTime(e)},_transitionTimingFunction:function(e){if(this.scrollerStyle[a.style.transitionTimingFunction]=e,this.indicators)for(var t=this.indicators.length;t--;)this.indicators[t].transitionTimingFunction(e)},_translate:function(e,t){if(this.options.useTransform?this.scrollerStyle[a.style.transform]="translate("+e+"px,"+t+"px)"+this.translateZ:(e=r.round(e),t=r.round(t),this.scrollerStyle.left=e+"px",this.scrollerStyle.top=t+"px"),this.x=e,this.y=t,this.indicators)for(var n=this.indicators.length;n--;)this.indicators[n].updatePosition()},_initEvents:function(t){var n=t?a.removeEvent:a.addEvent,r=this.options.bindToWrapper?this.wrapper:e;n(e,"orientationchange",this),n(e,"resize",this),this.options.click&&n(this.wrapper,"click",this,!0),this.options.disableMouse||(n(this.wrapper,"mousedown",this),n(r,"mousemove",this),n(r,"mousecancel",this),n(r,"mouseup",this)),a.hasPointer&&!this.options.disablePointer&&(n(this.wrapper,a.prefixPointerEvent("pointerdown"),this),n(r,a.prefixPointerEvent("pointermove"),this),n(r,a.prefixPointerEvent("pointercancel"),this),n(r,a.prefixPointerEvent("pointerup"),this)),a.hasTouch&&!this.options.disableTouch&&(n(this.wrapper,"touchstart",this),n(r,"touchmove",this),n(r,"touchcancel",this),n(r,"touchend",this)),n(this.scroller,"transitionend",this),n(this.scroller,"webkitTransitionEnd",this),n(this.scroller,"oTransitionEnd",this),n(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,n,r=e.getComputedStyle(this.scroller,null);return this.options.useTransform?(t=+((r=r[a.style.transform].split(")")[0].split(", "))[12]||r[4]),n=+(r[13]||r[5])):(t=+r.left.replace(/[^-\d.]/g,""),n=+r.top.replace(/[^-\d.]/g,"")),{x:t,y:n}},_initIndicators:function(){var e,t=this.options.interactiveScrollbars,n="string"!=typeof this.options.scrollbars,r=[],i=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:s("v",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),r.push(e)),this.options.scrollX&&(e={el:s("h",t,this.options.scrollbars),interactive:t,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),r.push(e))),this.options.indicators&&(r=r.concat(this.options.indicators));for(var a=r.length;a--;)this.indicators.push(new u(this,r[a]));function o(e){if(i.indicators)for(var t=i.indicators.length;t--;)e.call(i.indicators[t])}this.options.fadeScrollbars&&(this.on("scrollEnd",function(){o(function(){this.fade()})}),this.on("scrollCancel",function(){o(function(){this.fade()})}),this.on("scrollStart",function(){o(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){o(function(){this.fade(1,!0)})})),this.on("refresh",function(){o(function(){this.refresh()})}),this.on("destroy",function(){o(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){a.addEvent(this.wrapper,"wheel",this),a.addEvent(this.wrapper,"mousewheel",this),a.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,a.removeEvent(this.wrapper,"wheel",this),a.removeEvent(this.wrapper,"mousewheel",this),a.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(e){if(this.enabled){e.preventDefault();var t,n,i,a,o=this;if(void 0===this.wheelTimeout&&o._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){o.options.snap||o._execEvent("scrollEnd"),o.wheelTimeout=void 0},400),"deltaX"in e)1===e.deltaMode?(t=-e.deltaX*this.options.mouseWheelSpeed,n=-e.deltaY*this.options.mouseWheelSpeed):(t=-e.deltaX,n=-e.deltaY);else if("wheelDeltaX"in e)t=e.wheelDeltaX/120*this.options.mouseWheelSpeed,n=e.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in e)t=n=e.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in e))return;t=n=-e.detail/3*this.options.mouseWheelSpeed}if(t*=this.options.invertWheelDirection,n*=this.options.invertWheelDirection,this.hasVerticalScroll||(t=n,n=0),this.options.snap)return i=this.currentPage.pageX,a=this.currentPage.pageY,t>0?i--:t<0&&i++,n>0?a--:n<0&&a++,void this.goToPage(i,a);i=this.x+r.round(this.hasHorizontalScroll?t:0),a=this.y+r.round(this.hasVerticalScroll?n:0),this.directionX=t>0?-1:t<0?1:0,this.directionY=n>0?-1:n<0?1:0,i>0?i=0:i<this.maxScrollX&&(i=this.maxScrollX),a>0?a=0:a<this.maxScrollY&&(a=this.maxScrollY),this.scrollTo(i,a,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var e,t,n,i,a,o,s=0,u=0,l=0,c=this.options.snapStepX||this.wrapperWidth,d=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(n=r.round(c/2),i=r.round(d/2);l>-this.scrollerWidth;){for(this.pages[s]=[],e=0,a=0;a>-this.scrollerHeight;)this.pages[s][e]={x:r.max(l,this.maxScrollX),y:r.max(a,this.maxScrollY),width:c,height:d,cx:l-n,cy:a-i},a-=d,e++;l-=c,s++}else for(e=(o=this.options.snap).length,t=-1;s<e;s++)(0===s||o[s].offsetLeft<=o[s-1].offsetLeft)&&(u=0,t++),this.pages[u]||(this.pages[u]=[]),l=r.max(-o[s].offsetLeft,this.maxScrollX),a=r.max(-o[s].offsetTop,this.maxScrollY),n=l-r.round(o[s].offsetWidth/2),i=a-r.round(o[s].offsetHeight/2),this.pages[u][t]={x:l,y:a,width:o[s].offsetWidth,height:o[s].offsetHeight,cx:n,cy:i},l>this.maxScrollX&&u++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=r.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=r.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var e=this.options.snapSpeed||r.max(r.max(r.min(r.abs(this.x-this.startX),1e3),r.min(r.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,e)})},_nearestSnap:function(e,t){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var n=0,i=this.pages.length,a=0;if(r.abs(e-this.absStartX)<this.snapThresholdX&&r.abs(t-this.absStartY)<this.snapThresholdY)return this.currentPage;for(e>0?e=0:e<this.maxScrollX&&(e=this.maxScrollX),t>0?t=0:t<this.maxScrollY&&(t=this.maxScrollY);n<i;n++)if(e>=this.pages[n][0].cx){e=this.pages[n][0].x;break}for(i=this.pages[n].length;a<i;a++)if(t>=this.pages[0][a].cy){t=this.pages[0][a].y;break}return n==this.currentPage.pageX&&((n+=this.directionX)<0?n=0:n>=this.pages.length&&(n=this.pages.length-1),e=this.pages[n][0].x),a==this.currentPage.pageY&&((a+=this.directionY)<0?a=0:a>=this.pages[0].length&&(a=this.pages[0].length-1),t=this.pages[0][a].y),{x:e,y:t,pageX:n,pageY:a}},goToPage:function(e,t,n,i){i=i||this.options.bounceEasing,e>=this.pages.length?e=this.pages.length-1:e<0&&(e=0),t>=this.pages[e].length?t=this.pages[e].length-1:t<0&&(t=0);var a=this.pages[e][t].x,o=this.pages[e][t].y;n=void 0===n?this.options.snapSpeed||r.max(r.max(r.min(r.abs(a-this.x),1e3),r.min(r.abs(o-this.y),1e3)),300):n,this.currentPage={x:a,y:o,pageX:e,pageY:t},this.scrollTo(a,o,n,i)},next:function(e,t){var n=this.currentPage.pageX,r=this.currentPage.pageY;++n>=this.pages.length&&this.hasVerticalScroll&&(n=0,r++),this.goToPage(n,r,e,t)},prev:function(e,t){var n=this.currentPage.pageX,r=this.currentPage.pageY;--n<0&&this.hasVerticalScroll&&(n=0,r--),this.goToPage(n,r,e,t)},_initKeys:function(t){var n,r={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(n in this.options.keyBindings)"string"==typeof this.options.keyBindings[n]&&(this.options.keyBindings[n]=this.options.keyBindings[n].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(n in r)this.options.keyBindings[n]=this.options.keyBindings[n]||r[n];a.addEvent(e,"keydown",this),this.on("destroy",function(){a.removeEvent(e,"keydown",this)})},_key:function(e){if(this.enabled){var t,n=this.options.snap,i=n?this.currentPage.pageX:this.x,o=n?this.currentPage.pageY:this.y,s=a.getTime(),u=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(t=this.getComputedPosition(),this._translate(r.round(t.x),r.round(t.y)),this.isInTransition=!1),this.keyAcceleration=s-u<200?r.min(this.keyAcceleration+.25,50):0,e.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?i+=n?1:this.wrapperWidth:o+=n?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?i-=n?1:this.wrapperWidth:o-=n?1:this.wrapperHeight;break;case this.options.keyBindings.end:i=n?this.pages.length-1:this.maxScrollX,o=n?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:i=0,o=0;break;case this.options.keyBindings.left:i+=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:o+=n?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:i-=n?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:o-=n?1:5+this.keyAcceleration>>0;break;default:return}n?this.goToPage(i,o):(i>0?(i=0,this.keyAcceleration=0):i<this.maxScrollX&&(i=this.maxScrollX,this.keyAcceleration=0),o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollY&&(o=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(i,o,0),this.keyTime=s)}},_animate:function(e,t,n,r){var o=this,s=this.x,u=this.y,l=a.getTime(),c=l+n;this.isAnimating=!0,function d(){var f,h,p,m=a.getTime();if(m>=c)return o.isAnimating=!1,o._translate(e,t),void(o.resetPosition(o.options.bounceTime)||o._execEvent("scrollEnd"));p=r(m=(m-l)/n),f=(e-s)*p+s,h=(t-u)*p+u,o._translate(f,h),o.isAnimating&&i(d)}()},handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(e);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(e);break;case"keydown":this._key(e);break;case"click":this.enabled&&!e._constructed&&(e.preventDefault(),e.stopPropagation())}}},u.prototype={handleEvent:function(e){switch(e.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(e);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(e);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(e)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(a.removeEvent(this.indicator,"touchstart",this),a.removeEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.removeEvent(this.indicator,"mousedown",this),a.removeEvent(e,"touchmove",this),a.removeEvent(e,a.prefixPointerEvent("pointermove"),this),a.removeEvent(e,"mousemove",this),a.removeEvent(e,"touchend",this),a.removeEvent(e,a.prefixPointerEvent("pointerup"),this),a.removeEvent(e,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var n=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=n.pageX,this.lastPointY=n.pageY,this.startTime=a.getTime(),this.options.disableTouch||a.addEvent(e,"touchmove",this),this.options.disablePointer||a.addEvent(e,a.prefixPointerEvent("pointermove"),this),this.options.disableMouse||a.addEvent(e,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(e){var t,n,r,i,o=e.touches?e.touches[0]:e;a.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,t=o.pageX-this.lastPointX,this.lastPointX=o.pageX,n=o.pageY-this.lastPointY,this.lastPointY=o.pageY,r=this.x+t,i=this.y+n,this._pos(r,i),e.preventDefault(),e.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),a.removeEvent(e,"touchmove",this),a.removeEvent(e,a.prefixPointerEvent("pointermove"),this),a.removeEvent(e,"mousemove",this),this.scroller.options.snap){var n=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),i=this.options.snapSpeed||r.max(r.max(r.min(r.abs(this.scroller.x-n.x),1e3),r.min(r.abs(this.scroller.y-n.y),1e3)),300);this.scroller.x==n.x&&this.scroller.y==n.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=n,this.scroller.scrollTo(n.x,n.y,i,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(e){e=e||0;var t=a.style.transitionDuration;if(this.indicatorStyle[t]=e+"ms",!e&&a.isBadAndroid){this.indicatorStyle[t]="0.0001ms";var n=this;i(function(){"0.0001ms"===n.indicatorStyle[t]&&(n.indicatorStyle[t]="0s")})}},transitionTimingFunction:function(e){this.indicatorStyle[a.style.transitionTimingFunction]=e},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(a.addClass(this.wrapper,"iScrollBothScrollbars"),a.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(a.removeClass(this.wrapper,"iScrollBothScrollbars"),a.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=r.max(r.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=8-this.indicatorWidth,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=r.max(r.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=8-this.indicatorHeight,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var e=this.options.listenX&&r.round(this.sizeRatioX*this.scroller.x)||0,t=this.options.listenY&&r.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(e<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=r.max(this.indicatorWidth+e,8),this.indicatorStyle.width=this.width+"px"),e=this.minBoundaryX):e>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=r.max(this.indicatorWidth-(e-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",e=this.maxPosX+this.indicatorWidth-this.width):e=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),t<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=r.max(this.indicatorHeight+3*t,8),this.indicatorStyle.height=this.height+"px"),t=this.minBoundaryY):t>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=r.max(this.indicatorHeight-3*(t-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",t=this.maxPosY+this.indicatorHeight-this.height):t=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=e,this.y=t,this.scroller.options.useTransform?this.indicatorStyle[a.style.transform]="translate("+e+"px,"+t+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=e+"px",this.indicatorStyle.top=t+"px")},_pos:function(e,t){e<0?e=0:e>this.maxPosX&&(e=this.maxPosX),t<0?t=0:t>this.maxPosY&&(t=this.maxPosY),e=this.options.listenX?r.round(e/this.sizeRatioX):this.scroller.x,t=this.options.listenY?r.round(t/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(e,t)},fade:function(e,t){if(!t||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=e?250:500,r=e?0:300;e=e?"1":"0",this.wrapperStyle[a.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(e){this.wrapperStyle.opacity=e,this.visible=+e}.bind(this,e),r)}}},o.utils=a,void 0!==t&&t.exports?t.exports=o:"function"==typeof define&&define.amd?define(function(){return o}):e.IScroll=o}(window,document,Math)},{}],8:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"DataView");t.exports=r},{"./_getNative":78,"./_root":118}],9:[function(e,t,n){var r=e("./_hashClear"),i=e("./_hashDelete"),a=e("./_hashGet"),o=e("./_hashHas"),s=e("./_hashSet");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,t.exports=u},{"./_hashClear":85,"./_hashDelete":86,"./_hashGet":87,"./_hashHas":88,"./_hashSet":89}],10:[function(e,t,n){var r=e("./_listCacheClear"),i=e("./_listCacheDelete"),a=e("./_listCacheGet"),o=e("./_listCacheHas"),s=e("./_listCacheSet");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,t.exports=u},{"./_listCacheClear":98,"./_listCacheDelete":99,"./_listCacheGet":100,"./_listCacheHas":101,"./_listCacheSet":102}],11:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"Map");t.exports=r},{"./_getNative":78,"./_root":118}],12:[function(e,t,n){var r=e("./_mapCacheClear"),i=e("./_mapCacheDelete"),a=e("./_mapCacheGet"),o=e("./_mapCacheHas"),s=e("./_mapCacheSet");function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=o,u.prototype.set=s,t.exports=u},{"./_mapCacheClear":103,"./_mapCacheDelete":104,"./_mapCacheGet":105,"./_mapCacheHas":106,"./_mapCacheSet":107}],13:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"Promise");t.exports=r},{"./_getNative":78,"./_root":118}],14:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"Set");t.exports=r},{"./_getNative":78,"./_root":118}],15:[function(e,t,n){var r=e("./_MapCache"),i=e("./_setCacheAdd"),a=e("./_setCacheHas");function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,t.exports=o},{"./_MapCache":12,"./_setCacheAdd":120,"./_setCacheHas":121}],16:[function(e,t,n){var r=e("./_ListCache"),i=e("./_stackClear"),a=e("./_stackDelete"),o=e("./_stackGet"),s=e("./_stackHas"),u=e("./_stackSet");function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=a,l.prototype.get=o,l.prototype.has=s,l.prototype.set=u,t.exports=l},{"./_ListCache":10,"./_stackClear":125,"./_stackDelete":126,"./_stackGet":127,"./_stackHas":128,"./_stackSet":129}],17:[function(e,t,n){var r=e("./_root").Symbol;t.exports=r},{"./_root":118}],18:[function(e,t,n){var r=e("./_root").Uint8Array;t.exports=r},{"./_root":118}],19:[function(e,t,n){var r=e("./_getNative")(e("./_root"),"WeakMap");t.exports=r},{"./_getNative":78,"./_root":118}],20:[function(e,t,n){t.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},{}],21:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},{}],22:[function(e,t,n){var r=e("./_baseTimes"),i=e("./isArguments"),a=e("./isArray"),o=e("./isBuffer"),s=e("./_isIndex"),u=e("./isTypedArray"),l=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n=a(e),c=!n&&i(e),d=!n&&!c&&o(e),f=!n&&!c&&!d&&u(e),h=n||c||d||f,p=h?r(e.length,String):[],m=p.length;for(var v in e)!t&&!l.call(e,v)||h&&("length"==v||d&&("offset"==v||"parent"==v)||f&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,m))||p.push(v);return p}},{"./_baseTimes":55,"./_isIndex":91,"./isArguments":140,"./isArray":141,"./isBuffer":144,"./isTypedArray":151}],23:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},{}],24:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},{}],25:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},{}],26:[function(e,t,n){var r=e("./_baseAssignValue"),i=e("./eq");t.exports=function(e,t,n){(void 0===n||i(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},{"./_baseAssignValue":29,"./eq":135}],27:[function(e,t,n){var r=e("./_baseAssignValue"),i=e("./eq"),a=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){var o=e[t];a.call(e,t)&&i(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},{"./_baseAssignValue":29,"./eq":135}],28:[function(e,t,n){var r=e("./eq");t.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},{"./eq":135}],29:[function(e,t,n){var r=e("./_defineProperty");t.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},{"./_defineProperty":70}],30:[function(e,t,n){var r=e("./isObject"),i=Object.create,a=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();t.exports=a},{"./isObject":147}],31:[function(e,t,n){var r=e("./_createBaseFor")();t.exports=r},{"./_createBaseFor":68}],32:[function(e,t,n){var r=e("./_baseFor"),i=e("./keys");t.exports=function(e,t){return e&&r(e,t,i)}},{"./_baseFor":31,"./keys":152}],33:[function(e,t,n){var r=e("./_castPath"),i=e("./_toKey");t.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},{"./_castPath":60,"./_toKey":131}],34:[function(e,t,n){var r=e("./_arrayPush"),i=e("./isArray");t.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},{"./_arrayPush":24,"./isArray":141}],35:[function(e,t,n){var r=e("./_Symbol"),i=e("./_getRawTag"),a=e("./_objectToString"),o="[object Null]",s="[object Undefined]",u=r?r.toStringTag:void 0;t.exports=function(e){return null==e?void 0===e?s:o:u&&u in Object(e)?i(e):a(e)}},{"./_Symbol":17,"./_getRawTag":80,"./_objectToString":115}],36:[function(e,t,n){t.exports=function(e,t){return null!=e&&t in Object(e)}},{}],37:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./isObjectLike"),a="[object Arguments]";t.exports=function(e){return i(e)&&r(e)==a}},{"./_baseGetTag":35,"./isObjectLike":148}],38:[function(e,t,n){var r=e("./_baseIsEqualDeep"),i=e("./isObjectLike");t.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,a,o,e,s))}},{"./_baseIsEqualDeep":39,"./isObjectLike":148}],39:[function(e,t,n){var r=e("./_Stack"),i=e("./_equalArrays"),a=e("./_equalByTag"),o=e("./_equalObjects"),s=e("./_getTag"),u=e("./isArray"),l=e("./isBuffer"),c=e("./isTypedArray"),d=1,f="[object Arguments]",h="[object Array]",p="[object Object]",m=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,v,g,y){var b=u(e),_=u(t),w=b?h:s(e),k=_?h:s(t),x=(w=w==f?p:w)==p,S=(k=k==f?p:k)==p,M=w==k;if(M&&l(e)){if(!l(t))return!1;b=!0,x=!1}if(M&&!x)return y||(y=new r),b||c(e)?i(e,t,n,v,g,y):a(e,t,w,n,v,g,y);if(!(n&d)){var E=x&&m.call(e,"__wrapped__"),O=S&&m.call(t,"__wrapped__");if(E||O){var T=E?e.value():e,P=O?t.value():t;return y||(y=new r),g(T,P,n,v,y)}}return!!M&&(y||(y=new r),o(e,t,n,v,g,y))}},{"./_Stack":16,"./_equalArrays":71,"./_equalByTag":72,"./_equalObjects":73,"./_getTag":82,"./isArray":141,"./isBuffer":144,"./isTypedArray":151}],40:[function(e,t,n){var r=e("./_Stack"),i=e("./_baseIsEqual"),a=1,o=2;t.exports=function(e,t,n,s){var u=n.length,l=u,c=!s;if(null==e)return!l;for(e=Object(e);u--;){var d=n[u];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++u<l;){var f=(d=n[u])[0],h=e[f],p=d[1];if(c&&d[2]){if(void 0===h&&!(f in e))return!1}else{var m=new r;if(s)var v=s(h,p,f,e,t,m);if(!(void 0===v?i(p,h,a|o,s,m):v))return!1}}return!0}},{"./_Stack":16,"./_baseIsEqual":38}],41:[function(e,t,n){var r=e("./isFunction"),i=e("./_isMasked"),a=e("./isObject"),o=e("./_toSource"),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,d=l.hasOwnProperty,f=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(e){return!(!a(e)||i(e))&&(r(e)?f:s).test(o(e))}},{"./_isMasked":95,"./_toSource":132,"./isFunction":145,"./isObject":147}],42:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./isLength"),a=e("./isObjectLike"),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,t.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},{"./_baseGetTag":35,"./isLength":146,"./isObjectLike":148}],43:[function(e,t,n){var r=e("./_baseMatches"),i=e("./_baseMatchesProperty"),a=e("./identity"),o=e("./isArray"),s=e("./property");t.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):s(e)}},{"./_baseMatches":46,"./_baseMatchesProperty":47,"./identity":139,"./isArray":141,"./property":158}],44:[function(e,t,n){var r=e("./_isPrototype"),i=e("./_nativeKeys"),a=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},{"./_isPrototype":96,"./_nativeKeys":112}],45:[function(e,t,n){var r=e("./isObject"),i=e("./_isPrototype"),a=e("./_nativeKeysIn"),o=Object.prototype.hasOwnProperty;t.exports=function(e){if(!r(e))return a(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},{"./_isPrototype":96,"./_nativeKeysIn":113,"./isObject":147}],46:[function(e,t,n){var r=e("./_baseIsMatch"),i=e("./_getMatchData"),a=e("./_matchesStrictComparable");t.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},{"./_baseIsMatch":40,"./_getMatchData":77,"./_matchesStrictComparable":109}],47:[function(e,t,n){var r=e("./_baseIsEqual"),i=e("./get"),a=e("./hasIn"),o=e("./_isKey"),s=e("./_isStrictComparable"),u=e("./_matchesStrictComparable"),l=e("./_toKey"),c=1,d=2;t.exports=function(e,t){return o(e)&&s(t)?u(l(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,c|d)}}},{"./_baseIsEqual":38,"./_isKey":93,"./_isStrictComparable":97,"./_matchesStrictComparable":109,"./_toKey":131,"./get":137,"./hasIn":138}],48:[function(e,t,n){var r=e("./_Stack"),i=e("./_assignMergeValue"),a=e("./_baseFor"),o=e("./_baseMergeDeep"),s=e("./isObject"),u=e("./keysIn"),l=e("./_safeGet");t.exports=function e(t,n,c,d,f){t!==n&&a(n,function(a,u){if(s(a))f||(f=new r),o(t,n,u,c,e,d,f);else{var h=d?d(l(t,u),a,u+"",t,n,f):void 0;void 0===h&&(h=a),i(t,u,h)}},u)}},{"./_Stack":16,"./_assignMergeValue":26,"./_baseFor":31,"./_baseMergeDeep":49,"./_safeGet":119,"./isObject":147,"./keysIn":153}],49:[function(e,t,n){var r=e("./_assignMergeValue"),i=e("./_cloneBuffer"),a=e("./_cloneTypedArray"),o=e("./_copyArray"),s=e("./_initCloneObject"),u=e("./isArguments"),l=e("./isArray"),c=e("./isArrayLikeObject"),d=e("./isBuffer"),f=e("./isFunction"),h=e("./isObject"),p=e("./isPlainObject"),m=e("./isTypedArray"),v=e("./_safeGet"),g=e("./toPlainObject");t.exports=function(e,t,n,y,b,_,w){var k=v(e,n),x=v(t,n),S=w.get(x);if(S)r(e,n,S);else{var M=_?_(k,x,n+"",e,t,w):void 0,E=void 0===M;if(E){var O=l(x),T=!O&&d(x),P=!O&&!T&&m(x);M=x,O||T||P?l(k)?M=k:c(k)?M=o(k):T?(E=!1,M=i(x,!0)):P?(E=!1,M=a(x,!0)):M=[]:p(x)||u(x)?(M=k,u(k)?M=g(k):h(k)&&!f(k)||(M=s(x))):E=!1}E&&(w.set(x,M),b(M,x,y,_,w),w.delete(x)),r(e,n,M)}}},{"./_assignMergeValue":26,"./_cloneBuffer":62,"./_cloneTypedArray":63,"./_copyArray":64,"./_initCloneObject":90,"./_safeGet":119,"./isArguments":140,"./isArray":141,"./isArrayLikeObject":143,"./isBuffer":144,"./isFunction":145,"./isObject":147,"./isPlainObject":149,"./isTypedArray":151,"./toPlainObject":165}],50:[function(e,t,n){t.exports=function(e){return function(t){return null==t?void 0:t[e]}}},{}],51:[function(e,t,n){var r=e("./_baseGet");t.exports=function(e){return function(t){return r(t,e)}}},{"./_baseGet":33}],52:[function(e,t,n){var r=Math.ceil,i=Math.max;t.exports=function(e,t,n,a){for(var o=-1,s=i(r((t-e)/(n||1)),0),u=Array(s);s--;)u[a?s:++o]=e,e+=n;return u}},{}],53:[function(e,t,n){var r=e("./identity"),i=e("./_overRest"),a=e("./_setToString");t.exports=function(e,t){return a(i(e,t,r),e+"")}},{"./_overRest":117,"./_setToString":123,"./identity":139}],54:[function(e,t,n){var r=e("./constant"),i=e("./_defineProperty"),a=e("./identity"),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;t.exports=o},{"./_defineProperty":70,"./constant":133,"./identity":139}],55:[function(e,t,n){t.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},{}],56:[function(e,t,n){var r=e("./_Symbol"),i=e("./_arrayMap"),a=e("./isArray"),o=e("./isSymbol"),s=1/0,u=r?r.prototype:void 0,l=u?u.toString:void 0;t.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},{"./_Symbol":17,"./_arrayMap":23,"./isArray":141,"./isSymbol":150}],57:[function(e,t,n){t.exports=function(e){return function(t){return e(t)}}},{}],58:[function(e,t,n){t.exports=function(e,t){return e.has(t)}},{}],59:[function(e,t,n){var r=e("./identity");t.exports=function(e){return"function"==typeof e?e:r}},{"./identity":139}],60:[function(e,t,n){var r=e("./isArray"),i=e("./_isKey"),a=e("./_stringToPath"),o=e("./toString");t.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},{"./_isKey":93,"./_stringToPath":130,"./isArray":141,"./toString":166}],61:[function(e,t,n){var r=e("./_Uint8Array");t.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},{"./_Uint8Array":18}],62:[function(e,t,n){var r=e("./_root"),i="object"==typeof n&&n&&!n.nodeType&&n,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===i?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;t.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},{"./_root":118}],63:[function(e,t,n){var r=e("./_cloneArrayBuffer");t.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},{"./_cloneArrayBuffer":61}],64:[function(e,t,n){t.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},{}],65:[function(e,t,n){var r=e("./_assignValue"),i=e("./_baseAssignValue");t.exports=function(e,t,n,a){var o=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var l=t[s],c=a?a(n[l],e[l],l,n,e):void 0;void 0===c&&(c=e[l]),o?i(n,l,c):r(n,l,c)}return n}},{"./_assignValue":27,"./_baseAssignValue":29}],66:[function(e,t,n){var r=e("./_root")["__core-js_shared__"];t.exports=r},{"./_root":118}],67:[function(e,t,n){var r=e("./_baseRest"),i=e("./_isIterateeCall");t.exports=function(e){return r(function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:void 0,s=a>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(a--,o):void 0,s&&i(n[0],n[1],s)&&(o=a<3?void 0:o,a=1),t=Object(t);++r<a;){var u=n[r];u&&e(t,u,r,o)}return t})}},{"./_baseRest":53,"./_isIterateeCall":92}],68:[function(e,t,n){t.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var u=o[e?s:++i];if(!1===n(a[u],u,a))break}return t}}},{}],69:[function(e,t,n){var r=e("./_baseRange"),i=e("./_isIterateeCall"),a=e("./toFinite");t.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&i(t,n,o)&&(n=o=void 0),t=a(t),void 0===n?(n=t,t=0):n=a(n),o=void 0===o?t<n?1:-1:a(o),r(t,n,o,e)}}},{"./_baseRange":52,"./_isIterateeCall":92,"./toFinite":163}],70:[function(e,t,n){var r=e("./_getNative"),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();t.exports=i},{"./_getNative":78}],71:[function(e,t,n){var r=e("./_SetCache"),i=e("./_arraySome"),a=e("./_cacheHas"),o=1,s=2;t.exports=function(e,t,n,u,l,c){var d=n&o,f=e.length,h=t.length;if(f!=h&&!(d&&h>f))return!1;var p=c.get(e);if(p&&c.get(t))return p==t;var m=-1,v=!0,g=n&s?new r:void 0;for(c.set(e,t),c.set(t,e);++m<f;){var y=e[m],b=t[m];if(u)var _=d?u(b,y,m,t,e,c):u(y,b,m,e,t,c);if(void 0!==_){if(_)continue;v=!1;break}if(g){if(!i(t,function(e,t){if(!a(g,t)&&(y===e||l(y,e,n,u,c)))return g.push(t)})){v=!1;break}}else if(y!==b&&!l(y,b,n,u,c)){v=!1;break}}return c.delete(e),c.delete(t),v}},{"./_SetCache":15,"./_arraySome":25,"./_cacheHas":58}],72:[function(e,t,n){var r=e("./_Symbol"),i=e("./_Uint8Array"),a=e("./eq"),o=e("./_equalArrays"),s=e("./_mapToArray"),u=e("./_setToArray"),l=1,c=2,d="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",m="[object Number]",v="[object RegExp]",g="[object Set]",y="[object String]",b="[object Symbol]",_="[object ArrayBuffer]",w="[object DataView]",k=r?r.prototype:void 0,x=k?k.valueOf:void 0;t.exports=function(e,t,n,r,k,S,M){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!S(new i(e),new i(t)));case d:case f:case m:return a(+e,+t);case h:return e.name==t.name&&e.message==t.message;case v:case y:return e==t+"";case p:var E=s;case g:var O=r&l;if(E||(E=u),e.size!=t.size&&!O)return!1;var T=M.get(e);if(T)return T==t;r|=c,M.set(e,t);var P=o(E(e),E(t),r,k,S,M);return M.delete(e),P;case b:if(x)return x.call(e)==x.call(t)}return!1}},{"./_Symbol":17,"./_Uint8Array":18,"./_equalArrays":71,"./_mapToArray":108,"./_setToArray":122,"./eq":135}],73:[function(e,t,n){var r=e("./_getAllKeys"),i=1,a=Object.prototype.hasOwnProperty;t.exports=function(e,t,n,o,s,u){var l=n&i,c=r(e),d=c.length;if(d!=r(t).length&&!l)return!1;for(var f=d;f--;){var h=c[f];if(!(l?h in t:a.call(t,h)))return!1}var p=u.get(e);if(p&&u.get(t))return p==t;var m=!0;u.set(e,t),u.set(t,e);for(var v=l;++f<d;){var g=e[h=c[f]],y=t[h];if(o)var b=l?o(y,g,h,t,e,u):o(g,y,h,e,t,u);if(!(void 0===b?g===y||s(g,y,n,o,u):b)){m=!1;break}v||(v="constructor"==h)}if(m&&!v){var _=e.constructor,w=t.constructor;_!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(m=!1)}return u.delete(e),u.delete(t),m}},{"./_getAllKeys":75}],74:[function(e,t,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],75:[function(e,t,n){var r=e("./_baseGetAllKeys"),i=e("./_getSymbols"),a=e("./keys");t.exports=function(e){return r(e,a,i)}},{"./_baseGetAllKeys":34,"./_getSymbols":81,"./keys":152}],76:[function(e,t,n){var r=e("./_isKeyable");t.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},{"./_isKeyable":94}],77:[function(e,t,n){var r=e("./_isStrictComparable"),i=e("./keys");t.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},{"./_isStrictComparable":97,"./keys":152}],78:[function(e,t,n){var r=e("./_baseIsNative"),i=e("./_getValue");t.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},{"./_baseIsNative":41,"./_getValue":83}],79:[function(e,t,n){var r=e("./_overArg")(Object.getPrototypeOf,Object);t.exports=r},{"./_overArg":116}],80:[function(e,t,n){var r=e("./_Symbol"),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;t.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},{"./_Symbol":17}],81:[function(e,t,n){var r=e("./_arrayFilter"),i=e("./stubArray"),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),function(t){return a.call(e,t)}))}:i;t.exports=s},{"./_arrayFilter":21,"./stubArray":160}],82:[function(e,t,n){var r=e("./_DataView"),i=e("./_Map"),a=e("./_Promise"),o=e("./_Set"),s=e("./_WeakMap"),u=e("./_baseGetTag"),l=e("./_toSource"),c=l(r),d=l(i),f=l(a),h=l(o),p=l(s),m=u;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||a&&"[object Promise]"!=m(a.resolve())||o&&"[object Set]"!=m(new o)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case c:return"[object DataView]";case d:return"[object Map]";case f:return"[object Promise]";case h:return"[object Set]";case p:return"[object WeakMap]"}return t}),t.exports=m},{"./_DataView":8,"./_Map":11,"./_Promise":13,"./_Set":14,"./_WeakMap":19,"./_baseGetTag":35,"./_toSource":132}],83:[function(e,t,n){t.exports=function(e,t){return null==e?void 0:e[t]}},{}],84:[function(e,t,n){var r=e("./_castPath"),i=e("./isArguments"),a=e("./isArray"),o=e("./_isIndex"),s=e("./isLength"),u=e("./_toKey");t.exports=function(e,t,n){for(var l=-1,c=(t=r(t,e)).length,d=!1;++l<c;){var f=u(t[l]);if(!(d=null!=e&&n(e,f)))break;e=e[f]}return d||++l!=c?d:!!(c=null==e?0:e.length)&&s(c)&&o(f,c)&&(a(e)||i(e))}},{"./_castPath":60,"./_isIndex":91,"./_toKey":131,"./isArguments":140,"./isArray":141,"./isLength":146}],85:[function(e,t,n){var r=e("./_nativeCreate");t.exports=function(){this.__data__=r?r(null):{},this.size=0}},{"./_nativeCreate":111}],86:[function(e,t,n){t.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},{}],87:[function(e,t,n){var r=e("./_nativeCreate"),i="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return a.call(t,e)?t[e]:void 0}},{"./_nativeCreate":111}],88:[function(e,t,n){var r=e("./_nativeCreate"),i=Object.prototype.hasOwnProperty;t.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},{"./_nativeCreate":111}],89:[function(e,t,n){var r=e("./_nativeCreate"),i="__lodash_hash_undefined__";t.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}},{"./_nativeCreate":111}],90:[function(e,t,n){var r=e("./_baseCreate"),i=e("./_getPrototype"),a=e("./_isPrototype");t.exports=function(e){return"function"!=typeof e.constructor||a(e)?{}:r(i(e))}},{"./_baseCreate":30,"./_getPrototype":79,"./_isPrototype":96}],91:[function(e,t,n){var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=function(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}},{}],92:[function(e,t,n){var r=e("./eq"),i=e("./isArrayLike"),a=e("./_isIndex"),o=e("./isObject");t.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&a(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},{"./_isIndex":91,"./eq":135,"./isArrayLike":142,"./isObject":147}],93:[function(e,t,n){var r=e("./isArray"),i=e("./isSymbol"),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;t.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||o.test(e)||!a.test(e)||null!=t&&e in Object(t)}},{"./isArray":141,"./isSymbol":150}],94:[function(e,t,n){t.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},{}],95:[function(e,t,n){var r,i=e("./_coreJsData"),a=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(e){return!!a&&a in e}},{"./_coreJsData":66}],96:[function(e,t,n){var r=Object.prototype;t.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},{}],97:[function(e,t,n){var r=e("./isObject");t.exports=function(e){return e==e&&!r(e)}},{"./isObject":147}],98:[function(e,t,n){t.exports=function(){this.__data__=[],this.size=0}},{}],99:[function(e,t,n){var r=e("./_assocIndexOf"),i=Array.prototype.splice;t.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},{"./_assocIndexOf":28}],100:[function(e,t,n){var r=e("./_assocIndexOf");t.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},{"./_assocIndexOf":28}],101:[function(e,t,n){var r=e("./_assocIndexOf");t.exports=function(e){return r(this.__data__,e)>-1}},{"./_assocIndexOf":28}],102:[function(e,t,n){var r=e("./_assocIndexOf");t.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},{"./_assocIndexOf":28}],103:[function(e,t,n){var r=e("./_Hash"),i=e("./_ListCache"),a=e("./_Map");t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},{"./_Hash":9,"./_ListCache":10,"./_Map":11}],104:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},{"./_getMapData":76}],105:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e){return r(this,e).get(e)}},{"./_getMapData":76}],106:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e){return r(this,e).has(e)}},{"./_getMapData":76}],107:[function(e,t,n){var r=e("./_getMapData");t.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},{"./_getMapData":76}],108:[function(e,t,n){t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},{}],109:[function(e,t,n){t.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},{}],110:[function(e,t,n){var r=e("./memoize"),i=500;t.exports=function(e){var t=r(e,function(e){return n.size===i&&n.clear(),e}),n=t.cache;return t}},{"./memoize":155}],111:[function(e,t,n){var r=e("./_getNative")(Object,"create");t.exports=r},{"./_getNative":78}],112:[function(e,t,n){var r=e("./_overArg")(Object.keys,Object);t.exports=r},{"./_overArg":116}],113:[function(e,t,n){t.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},{}],114:[function(e,t,n){var r=e("./_freeGlobal"),i="object"==typeof n&&n&&!n.nodeType&&n,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=s},{"./_freeGlobal":74}],115:[function(e,t,n){var r=Object.prototype.toString;t.exports=function(e){return r.call(e)}},{}],116:[function(e,t,n){t.exports=function(e,t){return function(n){return e(t(n))}}},{}],117:[function(e,t,n){var r=e("./_apply"),i=Math.max;t.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),u=Array(s);++o<s;)u[o]=a[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=a[o];return l[t]=n(u),r(e,this,l)}}},{"./_apply":20}],118:[function(e,t,n){var r=e("./_freeGlobal"),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();t.exports=a},{"./_freeGlobal":74}],119:[function(e,t,n){t.exports=function(e,t){if("__proto__"!=t)return e[t]}},{}],120:[function(e,t,n){var r="__lodash_hash_undefined__";t.exports=function(e){return this.__data__.set(e,r),this}},{}],121:[function(e,t,n){t.exports=function(e){return this.__data__.has(e)}},{}],122:[function(e,t,n){t.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},{}],123:[function(e,t,n){var r=e("./_baseSetToString"),i=e("./_shortOut")(r);t.exports=i},{"./_baseSetToString":54,"./_shortOut":124}],124:[function(e,t,n){var r=800,i=16,a=Date.now;t.exports=function(e){var t=0,n=0;return function(){var o=a(),s=i-(o-n);if(n=o,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},{}],125:[function(e,t,n){var r=e("./_ListCache");t.exports=function(){this.__data__=new r,this.size=0}},{"./_ListCache":10}],126:[function(e,t,n){t.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},{}],127:[function(e,t,n){t.exports=function(e){return this.__data__.get(e)}},{}],128:[function(e,t,n){t.exports=function(e){return this.__data__.has(e)}},{}],129:[function(e,t,n){var r=e("./_ListCache"),i=e("./_Map"),a=e("./_MapCache"),o=200;t.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<o-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(s)}return n.set(e,t),this.size=n.size,this}},{"./_ListCache":10,"./_Map":11,"./_MapCache":12}],130:[function(e,t,n){var r=e("./_memoizeCapped"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)}),t});t.exports=o},{"./_memoizeCapped":110}],131:[function(e,t,n){var r=e("./isSymbol"),i=1/0;t.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},{"./isSymbol":150}],132:[function(e,t,n){var r=Function.prototype.toString;t.exports=function(e){if(null!=e){try{return r.call(e)}catch(t){}try{return e+""}catch(t){}}return""}},{}],133:[function(e,t,n){t.exports=function(e){return function(){return e}}},{}],134:[function(e,t,n){var r=e("./isObject"),i=e("./now"),a=e("./toNumber"),o="Expected a function",s=Math.max,u=Math.min;t.exports=function(e,t,n){var l,c,d,f,h,p,m=0,v=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError(o);function b(t){var n=l,r=c;return l=c=void 0,m=t,f=e.apply(r,n)}function _(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-m>=d}function w(){var e=i();if(_(e))return k(e);h=setTimeout(w,function(e){var n=t-(e-p);return g?u(n,d-(e-m)):n}(e))}function k(e){return h=void 0,y&&l?b(e):(l=c=void 0,f)}function x(){var e=i(),n=_(e);if(l=arguments,c=this,p=e,n){if(void 0===h)return function(e){return m=e,h=setTimeout(w,t),v?b(e):f}(p);if(g)return h=setTimeout(w,t),b(p)}return void 0===h&&(h=setTimeout(w,t)),f}return t=a(t)||0,r(n)&&(v=!!n.leading,d=(g="maxWait"in n)?s(a(n.maxWait)||0,t):d,y="trailing"in n?!!n.trailing:y),x.cancel=function(){void 0!==h&&clearTimeout(h),m=0,l=p=c=h=void 0},x.flush=function(){return void 0===h?f:k(i())},x}},{"./isObject":147,"./now":157,"./toNumber":164}],135:[function(e,t,n){t.exports=function(e,t){return e===t||e!=e&&t!=t}},{}],136:[function(e,t,n){var r=e("./_baseFor"),i=e("./_castFunction"),a=e("./keysIn");t.exports=function(e,t){return null==e?e:r(e,i(t),a)}},{"./_baseFor":31,"./_castFunction":59,"./keysIn":153}],137:[function(e,t,n){var r=e("./_baseGet");t.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},{"./_baseGet":33}],138:[function(e,t,n){var r=e("./_baseHasIn"),i=e("./_hasPath");t.exports=function(e,t){return null!=e&&i(e,t,r)}},{"./_baseHasIn":36,"./_hasPath":84}],139:[function(e,t,n){t.exports=function(e){return e}},{}],140:[function(e,t,n){var r=e("./_baseIsArguments"),i=e("./isObjectLike"),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};t.exports=u},{"./_baseIsArguments":37,"./isObjectLike":148}],141:[function(e,t,n){var r=Array.isArray;t.exports=r},{}],142:[function(e,t,n){var r=e("./isFunction"),i=e("./isLength");t.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},{"./isFunction":145,"./isLength":146}],143:[function(e,t,n){var r=e("./isArrayLike"),i=e("./isObjectLike");t.exports=function(e){return i(e)&&r(e)}},{"./isArrayLike":142,"./isObjectLike":148}],144:[function(e,t,n){var r=e("./_root"),i=e("./stubFalse"),a="object"==typeof n&&n&&!n.nodeType&&n,o=a&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===a?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;t.exports=u},{"./_root":118,"./stubFalse":161}],145:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./isObject"),a="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",u="[object Proxy]";t.exports=function(e){if(!i(e))return!1;var t=r(e);return t==o||t==s||t==a||t==u}},{"./_baseGetTag":35,"./isObject":147}],146:[function(e,t,n){var r=9007199254740991;t.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}},{}],147:[function(e,t,n){t.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},{}],148:[function(e,t,n){t.exports=function(e){return null!=e&&"object"==typeof e}},{}],149:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./_getPrototype"),a=e("./isObjectLike"),o="[object Object]",s=Function.prototype,u=Object.prototype,l=s.toString,c=u.hasOwnProperty,d=l.call(Object);t.exports=function(e){if(!a(e)||r(e)!=o)return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}},{"./_baseGetTag":35,"./_getPrototype":79,"./isObjectLike":148}],150:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./isObjectLike"),a="[object Symbol]";t.exports=function(e){return"symbol"==typeof e||i(e)&&r(e)==a}},{"./_baseGetTag":35,"./isObjectLike":148}],151:[function(e,t,n){var r=e("./_baseIsTypedArray"),i=e("./_baseUnary"),a=e("./_nodeUtil"),o=a&&a.isTypedArray,s=o?i(o):r;t.exports=s},{"./_baseIsTypedArray":42,"./_baseUnary":57,"./_nodeUtil":114}],152:[function(e,t,n){var r=e("./_arrayLikeKeys"),i=e("./_baseKeys"),a=e("./isArrayLike");t.exports=function(e){return a(e)?r(e):i(e)}},{"./_arrayLikeKeys":22,"./_baseKeys":44,"./isArrayLike":142}],153:[function(e,t,n){var r=e("./_arrayLikeKeys"),i=e("./_baseKeysIn"),a=e("./isArrayLike");t.exports=function(e){return a(e)?r(e,!0):i(e)}},{"./_arrayLikeKeys":22,"./_baseKeysIn":45,"./isArrayLike":142}],154:[function(e,t,n){var r=e("./_baseAssignValue"),i=e("./_baseForOwn"),a=e("./_baseIteratee");t.exports=function(e,t){var n={};return t=a(t,3),i(e,function(e,i,a){r(n,i,t(e,i,a))}),n}},{"./_baseAssignValue":29,"./_baseForOwn":32,"./_baseIteratee":43}],155:[function(e,t,n){var r=e("./_MapCache"),i="Expected a function";function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(a.Cache||r),n}a.Cache=r,t.exports=a},{"./_MapCache":12}],156:[function(e,t,n){var r=e("./_baseMerge"),i=e("./_createAssigner")(function(e,t,n){r(e,t,n)});t.exports=i},{"./_baseMerge":48,"./_createAssigner":67}],157:[function(e,t,n){var r=e("./_root");t.exports=function(){return r.Date.now()}},{"./_root":118}],158:[function(e,t,n){var r=e("./_baseProperty"),i=e("./_basePropertyDeep"),a=e("./_isKey"),o=e("./_toKey");t.exports=function(e){return a(e)?r(o(e)):i(e)}},{"./_baseProperty":50,"./_basePropertyDeep":51,"./_isKey":93,"./_toKey":131}],159:[function(e,t,n){var r=e("./_createRange")();t.exports=r},{"./_createRange":69}],160:[function(e,t,n){t.exports=function(){return[]}},{}],161:[function(e,t,n){t.exports=function(){return!1}},{}],162:[function(e,t,n){var r=e("./debounce"),i=e("./isObject"),a="Expected a function";t.exports=function(e,t,n){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError(a);return i(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:o,maxWait:t,trailing:s})}},{"./debounce":134,"./isObject":147}],163:[function(e,t,n){var r=e("./toNumber"),i=1/0,a=1.7976931348623157e308;t.exports=function(e){return e?(e=r(e))===i||e===-i?(e<0?-1:1)*a:e==e?e:0:0===e?e:0}},{"./toNumber":164}],164:[function(e,t,n){var r=e("./isObject"),i=e("./isSymbol"),a=NaN,o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(e){if("number"==typeof e)return e;if(i(e))return a;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=u.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?a:+e}},{"./isObject":147,"./isSymbol":150}],165:[function(e,t,n){var r=e("./_copyObject"),i=e("./keysIn");t.exports=function(e){return r(e,i(e))}},{"./_copyObject":65,"./keysIn":153}],166:[function(e,t,n){var r=e("./_baseToString");t.exports=function(e){return null==e?"":r(e)}},{"./_baseToString":56}],167:[function(e,t,n){(function(e,n){!function(){"use strict";function r(e,t,n,r,i,a){return{tag:e,key:t,attrs:n,children:r,text:i,dom:a,domSize:void 0,state:void 0,_state:void 0,events:void 0,instance:void 0,skip:!1}}r.normalize=function(e){return Array.isArray(e)?r("[",void 0,void 0,r.normalizeChildren(e),void 0,void 0):null!=e&&"object"!=typeof e?r("#",void 0,void 0,!1===e?"":e,void 0,void 0):e},r.normalizeChildren=function(e){for(var t=0;t<e.length;t++)e[t]=r.normalize(e[t]);return e};var i=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,a={},o={}.hasOwnProperty;function s(e){for(var t in e)if(o.call(e,t))return!1;return!0}function u(e){var t,n=arguments[1],u=2;if(null==e||"string"!=typeof e&&"function"!=typeof e&&"function"!=typeof e.view)throw Error("The selector must be either a string or a component.");if("string"==typeof e)var l=a[e]||function(e){for(var t,n="div",r=[],o={};t=i.exec(e);){var s=t[1],u=t[2];if(""===s&&""!==u)n=u;else if("#"===s)o.id=u;else if("."===s)r.push(u);else if("["===t[3][0]){var l=t[6];l&&(l=l.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===t[4]?r.push(l):o[t[4]]=""===l?l:l||!0}}return r.length>0&&(o.className=r.join(" ")),a[e]={tag:n,attrs:o}}(e);if(null==n?n={}:("object"!=typeof n||null!=n.tag||Array.isArray(n))&&(n={},u=1),arguments.length===u+1)t=arguments[u],Array.isArray(t)||(t=[t]);else for(t=[];u<arguments.length;)t.push(arguments[u++]);var c=r.normalizeChildren(t);return"string"==typeof e?function(e,t,n){var i,a,u=!1,l=t.className||t.class;if(!s(e.attrs)&&!s(t)){var c={};for(var d in t)o.call(t,d)&&(c[d]=t[d]);t=c}for(var d in e.attrs)o.call(e.attrs,d)&&(t[d]=e.attrs[d]);for(var d in void 0!==l&&(void 0!==t.class&&(t.class=void 0,t.className=l),null!=e.attrs.className&&(t.className=e.attrs.className+" "+l)),t)if(o.call(t,d)&&"key"!==d){u=!0;break}return Array.isArray(n)&&1===n.length&&null!=n[0]&&"#"===n[0].tag?a=n[0].children:i=n,r(e.tag,t.key,u?t:void 0,i,a)}(l,n,c):r(e,n.key,n,c)}u.trust=function(e){return null==e&&(e=""),r("<",void 0,void 0,e,void 0,void 0)},u.fragment=function(e,t){return r("[",e.key,e,r.normalizeChildren(t),void 0,void 0)};var l=u;if((c=function(e){if(!(this instanceof c))throw new Error("Promise must be called with `new`");if("function"!=typeof e)throw new TypeError("executor must be a function");var t=this,r=[],i=[],a=l(r,!0),o=l(i,!1),s=t._instance={resolvers:r,rejectors:i},u="function"==typeof n?n:setTimeout;function l(e,n){return function a(l){var c;try{if(!n||null==l||"object"!=typeof l&&"function"!=typeof l||"function"!=typeof(c=l.then))u(function(){n||0!==e.length||console.error("Possible unhandled promise rejection:",l);for(var t=0;t<e.length;t++)e[t](l);r.length=0,i.length=0,s.state=n,s.retry=function(){a(l)}});else{if(l===t)throw new TypeError("Promise can't be resolved w/ itself");d(c.bind(l))}}catch(f){o(f)}}}function d(e){var t=0;function n(e){return function(n){t++>0||e(n)}}var r=n(o);try{e(n(a),r)}catch(i){r(i)}}d(e)}).prototype.then=function(e,t){var n,r,i=this._instance;function a(e,t,a,o){t.push(function(t){if("function"!=typeof e)a(t);else try{n(e(t))}catch(i){r&&r(i)}}),"function"==typeof i.retry&&o===i.state&&i.retry()}var o=new c(function(e,t){n=e,r=t});return a(e,i.resolvers,n,!0),a(t,i.rejectors,r,!1),o},c.prototype.catch=function(e){return this.then(null,e)},c.resolve=function(e){return e instanceof c?e:new c(function(t){t(e)})},c.reject=function(e){return new c(function(t,n){n(e)})},c.all=function(e){return new c(function(t,n){var r=e.length,i=0,a=[];if(0===e.length)t([]);else for(var o=0;o<e.length;o++)!function(o){function s(e){i++,a[o]=e,i===r&&t(a)}null==e[o]||"object"!=typeof e[o]&&"function"!=typeof e[o]||"function"!=typeof e[o].then?s(e[o]):e[o].then(s,n)}(o)})},c.race=function(e){return new c(function(t,n){for(var r=0;r<e.length;r++)e[r].then(t,n)})},"undefined"!=typeof window){void 0===window.Promise&&(window.Promise=c);var c=window.Promise}else if(void 0!==e){void 0===e.Promise&&(e.Promise=c);c=e.Promise}var d=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return"";var t=[];for(var n in e)r(n,e[n]);return t.join("&");function r(e,n){if(Array.isArray(n))for(var i=0;i<n.length;i++)r(e+"["+i+"]",n[i]);else if("[object Object]"===Object.prototype.toString.call(n))for(var i in n)r(e+"["+i+"]",n[i]);else t.push(encodeURIComponent(e)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}},f=new RegExp("^file://","i"),h=function(e,t){var n,r=0;function i(){var e=0;function t(){0==--e&&"function"==typeof n&&n()}return function n(r){var i=r.then;return r.then=function(){e++;var a=i.apply(r,arguments);return a.then(t,function(n){if(t(),0===e)throw n}),n(a)},r}}function a(e,t){if("string"==typeof e){var n=e;null==(e=t||{}).url&&(e.url=n)}return e}function o(e,t){if(null==t)return e;for(var n=e.match(/:[^\/]+/gi)||[],r=0;r<n.length;r++){var i=n[r].slice(1);null!=t[i]&&(e=e.replace(n[r],t[i]))}return e}function s(e,t){var n=d(t);if(""!==n){var r=e.indexOf("?")<0?"?":"&";e+=r+n}return e}function u(e){try{return""!==e?JSON.parse(e):null}catch(t){throw new Error(e)}}function l(e){return e.responseText}function c(e,t){if("function"==typeof e){if(!Array.isArray(t))return new e(t);for(var n=0;n<t.length;n++)t[n]=new e(t[n])}return t}return{request:function(n,r){var d=i();n=a(n,r);var h=new t(function(t,r){null==n.method&&(n.method="GET"),n.method=n.method.toUpperCase();var i="GET"!==n.method&&"TRACE"!==n.method&&("boolean"!=typeof n.useBody||n.useBody);"function"!=typeof n.serialize&&(n.serialize="undefined"!=typeof FormData&&n.data instanceof FormData?function(e){return e}:JSON.stringify),"function"!=typeof n.deserialize&&(n.deserialize=u),"function"!=typeof n.extract&&(n.extract=l),n.url=o(n.url,n.data),i?n.data=n.serialize(n.data):n.url=s(n.url,n.data);var a=new e.XMLHttpRequest,d=!1,h=a.abort;for(var p in a.abort=function(){d=!0,h.call(a)},a.open(n.method,n.url,"boolean"!=typeof n.async||n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),n.serialize!==JSON.stringify||!i||n.headers&&n.headers.hasOwnProperty("Content-Type")||a.setRequestHeader("Content-Type","application/json; charset=utf-8"),n.deserialize!==u||n.headers&&n.headers.hasOwnProperty("Accept")||a.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(a.withCredentials=n.withCredentials),n.headers)({}).hasOwnProperty.call(n.headers,p)&&a.setRequestHeader(p,n.headers[p]);"function"==typeof n.config&&(a=n.config(a,n)||a),a.onreadystatechange=function(){if(!d&&4===a.readyState)try{var e=n.extract!==l?n.extract(a,n):n.deserialize(n.extract(a,n));if(a.status>=200&&a.status<300||304===a.status||f.test(n.url))t(c(n.type,e));else{var i=new Error(a.responseText);for(var o in e)i[o]=e[o];r(i)}}catch(s){r(s)}},i&&null!=n.data?a.send(n.data):a.send()});return!0===n.background?h:d(h)},jsonp:function(n,u){var l=i();n=a(n,u);var d=new t(function(t,i){var a=n.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+r++,u=e.document.createElement("script");e[a]=function(r){u.parentNode.removeChild(u),t(c(n.type,r)),delete e[a]},u.onerror=function(){u.parentNode.removeChild(u),i(new Error("JSONP request failed")),delete e[a]},null==n.data&&(n.data={}),n.url=o(n.url,n.data),n.data[n.callbackKey||"callback"]=a,u.src=s(n.url,n.data),e.document.documentElement.appendChild(u)});return!0===n.background?d:l(d)},setCompletionCallback:function(e){n=e}}}(window,c),p=function(e){var t,n=e.document,i=n.createDocumentFragment(),a={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function o(e){return e.attrs&&e.attrs.xmlns||a[e.tag]}function s(e,t,n,r,i,a,o){for(var s=n;s<r;s++){var l=t[s];null!=l&&u(e,l,i,o,a)}}function u(e,t,a,d,f){var h=t.tag;if("string"!=typeof h)return function(e,t,n,r,a){if(c(t,n),null!=t.instance){var o=u(e,t.instance,n,r,a);return t.dom=t.instance.dom,t.domSize=null!=t.dom?t.instance.domSize:0,v(e,o,a),o}return t.domSize=0,i}(e,t,a,d,f);switch(t.state={},null!=t.attrs&&S(t.attrs,t,a),h){case"#":return function(e,t,r){return t.dom=n.createTextNode(t.children),v(e,t.dom,r),t.dom}(e,t,f);case"<":return l(e,t,f);case"[":return function(e,t,r,i,a){var o=n.createDocumentFragment();if(null!=t.children){var u=t.children;s(o,u,0,u.length,r,null,i)}return t.dom=o.firstChild,t.domSize=o.childNodes.length,v(e,o,a),o}(e,t,a,d,f);default:return function(e,t,i,a,u){var l=t.tag,c=t.attrs,d=c&&c.is,f=(a=o(t)||a)?d?n.createElementNS(a,l,{is:d}):n.createElementNS(a,l):d?n.createElement(l,{is:d}):n.createElement(l);t.dom=f,null!=c&&function(e,t,n){for(var r in t)w(e,r,null,t[r],n)}(t,c,a);if(v(e,f,u),null!=t.attrs&&null!=t.attrs.contenteditable)g(t);else if(null!=t.text&&(""!==t.text?f.textContent=t.text:t.children=[r("#",void 0,void 0,t.text,void 0,void 0)]),null!=t.children){var h=t.children;s(f,h,0,h.length,i,null,a),function(e){var t=e.attrs;"select"===e.tag&&null!=t&&("value"in t&&w(e,"value",null,t.value,void 0),"selectedIndex"in t&&w(e,"selectedIndex",null,t.selectedIndex,void 0))}(t)}return f}(e,t,a,d,f)}}function l(e,t,r){var i={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(t.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div",a=n.createElement(i);a.innerHTML=t.children,t.dom=a.firstChild,t.domSize=a.childNodes.length;for(var o,s=n.createDocumentFragment();o=a.firstChild;)s.appendChild(o);return v(e,s,r),s}function c(e,t){var n;if("function"==typeof e.tag.view){if(e.state=Object.create(e.tag),null!=(n=e.state.view).$$reentrantLock$$)return i;n.$$reentrantLock$$=!0}else{if(e.state=void 0,null!=(n=e.tag).$$reentrantLock$$)return i;n.$$reentrantLock$$=!0,e.state=null!=e.tag.prototype&&"function"==typeof e.tag.prototype.view?new e.tag(e):e.tag(e)}if(e._state=e.state,null!=e.attrs&&S(e.attrs,e,t),S(e._state,e,t),e.instance=r.normalize(e._state.view.call(e.state,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null}function d(e,t,n,r,i,a,o){if(t!==n&&(null!=t||null!=n))if(null==t)s(e,n,0,n.length,i,a,o);else if(null==n)y(t,0,t.length,n);else{if(t.length===n.length){for(var l=!1,c=0;c<n.length;c++)if(null!=n[c]&&null!=t[c]){l=null==n[c].key&&null==t[c].key;break}if(l){for(c=0;c<t.length;c++)t[c]!==n[c]&&(null==t[c]&&null!=n[c]?u(e,n[c],i,o,m(t,c+1,a)):null==n[c]?y(t,c,c+1,n):f(e,t[c],n[c],i,m(t,c+1,a),r,o));return}}if(r=r||function(e,t){if(null!=e.pool&&Math.abs(e.pool.length-t.length)<=Math.abs(e.length-t.length)){var n=e[0]&&e[0].children&&e[0].children.length||0,r=e.pool[0]&&e.pool[0].children&&e.pool[0].children.length||0,i=t[0]&&t[0].children&&t[0].children.length||0;if(Math.abs(r-i)<=Math.abs(n-i))return!0}return!1}(t,n)){var d=t.pool;t=t.concat(t.pool)}for(var g,b=0,_=0,w=t.length-1,k=n.length-1;w>=b&&k>=_;){if((S=t[b])!==(M=n[_])||r)if(null==S)b++;else if(null==M)_++;else if(S.key===M.key){var x=null!=d&&b>=t.length-d.length||null==d&&r;_++,f(e,S,M,i,m(t,++b,a),x,o),r&&S.tag===M.tag&&v(e,p(S),a)}else{if((S=t[w])!==M||r)if(null==S)w--;else if(null==M)_++;else{if(S.key!==M.key)break;x=null!=d&&w>=t.length-d.length||null==d&&r;f(e,S,M,i,m(t,w+1,a),x,o),(r||_<k)&&v(e,p(S),m(t,b,a)),w--,_++}else w--,_++}else b++,_++}for(;w>=b&&k>=_;){var S,M;if((S=t[w])!==(M=n[k])||r)if(null==S)w--;else if(null==M)k--;else if(S.key===M.key){x=null!=d&&w>=t.length-d.length||null==d&&r;f(e,S,M,i,m(t,w+1,a),x,o),r&&S.tag===M.tag&&v(e,p(S),a),null!=S.dom&&(a=S.dom),w--,k--}else{if(g||(g=h(t,w)),null!=M){var E=g[M.key];if(null!=E){var O=t[E];x=null!=d&&E>=t.length-d.length||null==d&&r;f(e,O,M,i,m(t,w+1,a),r,o),v(e,p(O),a),t[E].skip=!0,null!=O.dom&&(a=O.dom)}else{a=u(e,M,i,o,a)}}k--}else w--,k--;if(k<_)break}s(e,n,_,k+1,i,a,o),y(t,b,w+1,n)}}function f(e,t,n,i,a,s,h){var m=t.tag;if(m===n.tag){if(n.state=t.state,n._state=t._state,n.events=t.events,!s&&function(e,t){var n,r;null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate&&(n=e.attrs.onbeforeupdate.call(e.state,e,t));"string"!=typeof e.tag&&"function"==typeof e._state.onbeforeupdate&&(r=e._state.onbeforeupdate.call(e.state,e,t));if(!(void 0===n&&void 0===r||n||r))return e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,!0;return!1}(n,t))return;if("string"==typeof m)switch(null!=n.attrs&&(s?(n.state={},S(n.attrs,n,i)):M(n.attrs,n,i)),m){case"#":!function(e,t){e.children.toString()!==t.children.toString()&&(e.dom.nodeValue=t.children);t.dom=e.dom}(t,n);break;case"<":!function(e,t,n,r){t.children!==n.children?(p(t),l(e,n,r)):(n.dom=t.dom,n.domSize=t.domSize)}(e,t,n,a);break;case"[":!function(e,t,n,r,i,a,o){d(e,t.children,n.children,r,i,a,o);var s=0,u=n.children;if(n.dom=null,null!=u){for(var l=0;l<u.length;l++){var c=u[l];null!=c&&null!=c.dom&&(null==n.dom&&(n.dom=c.dom),s+=c.domSize||1)}1!==s&&(n.domSize=s)}}(e,t,n,s,i,a,h);break;default:!function(e,t,n,i,a){var s=t.dom=e.dom;a=o(t)||a,"textarea"===t.tag&&(null==t.attrs&&(t.attrs={}),null!=t.text&&(t.attrs.value=t.text,t.text=void 0));(function(e,t,n,r){if(null!=n)for(var i in n)w(e,i,t&&t[i],n[i],r);if(null!=t)for(var i in t)null!=n&&i in n||("className"===i&&(i="class"),"o"!==i[0]||"n"!==i[1]||k(i)?"key"!==i&&e.dom.removeAttribute(i):x(e,i,void 0))})(t,e.attrs,t.attrs,a),null!=t.attrs&&null!=t.attrs.contenteditable?g(t):null!=e.text&&null!=t.text&&""!==t.text?e.text.toString()!==t.text.toString()&&(e.dom.firstChild.nodeValue=t.text):(null!=e.text&&(e.children=[r("#",void 0,void 0,e.text,void 0,e.dom.firstChild)]),null!=t.text&&(t.children=[r("#",void 0,void 0,t.text,void 0,void 0)]),d(s,e.children,t.children,n,i,null,a))}(t,n,s,i,h)}else!function(e,t,n,i,a,o,s){if(o)c(n,i);else{if(n.instance=r.normalize(n._state.view.call(n.state,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");null!=n.attrs&&M(n.attrs,n,i),M(n._state,n,i)}null!=n.instance?(null==t.instance?u(e,n.instance,i,s,a):f(e,t.instance,n.instance,i,a,o,s),n.dom=n.instance.dom,n.domSize=n.instance.domSize):null!=t.instance?(b(t.instance,null),n.dom=void 0,n.domSize=0):(n.dom=t.dom,n.domSize=t.domSize)}(e,t,n,i,a,s,h)}else b(t,null),u(e,n,i,h,a)}function h(e,t){var n={},r=0;for(r=0;r<t;r++){var i=e[r];if(null!=i){var a=i.key;null!=a&&(n[a]=r)}}return n}function p(e){var t=e.domSize;if(null!=t||null==e.dom){var r=n.createDocumentFragment();if(t>0){for(var i=e.dom;--t;)r.appendChild(i.nextSibling);r.insertBefore(i,r.firstChild)}return r}return e.dom}function m(e,t,n){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return n}function v(e,t,n){n&&n.parentNode?e.insertBefore(t,n):e.appendChild(t)}function g(e){var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var n=t[0].children;e.dom.innerHTML!==n&&(e.dom.innerHTML=n)}else if(null!=e.text||null!=t&&0!==t.length)throw new Error("Child node of a contenteditable must be trusted")}function y(e,t,n,r){for(var i=t;i<n;i++){var a=e[i];null!=a&&(a.skip?a.skip=!1:b(a,r))}}function b(e,t){var n,r=1,i=0;e.attrs&&"function"==typeof e.attrs.onbeforeremove&&(null!=(n=e.attrs.onbeforeremove.call(e.state,e))&&"function"==typeof n.then&&(r++,n.then(a,a)));"string"!=typeof e.tag&&"function"==typeof e._state.onbeforeremove&&(null!=(n=e._state.onbeforeremove.call(e.state,e))&&"function"==typeof n.then&&(r++,n.then(a,a)));function a(){if(++i===r&&(function e(t){t.attrs&&"function"==typeof t.attrs.onremove&&t.attrs.onremove.call(t.state,t);if("string"!=typeof t.tag)"function"==typeof t._state.onremove&&t._state.onremove.call(t.state,t),null!=t.instance&&e(t.instance);else{var n=t.children;if(Array.isArray(n))for(var r=0;r<n.length;r++){var i=n[r];null!=i&&e(i)}}}(e),e.dom)){var n=e.domSize||1;if(n>1)for(var a=e.dom;--n;)_(a.nextSibling);_(e.dom),null==t||null!=e.domSize||null!=(o=e.attrs)&&(o.oncreate||o.onupdate||o.onbeforeremove||o.onremove)||"string"!=typeof e.tag||(t.pool?t.pool.push(e):t.pool=[e])}var o}a()}function _(e){var t=e.parentNode;null!=t&&t.removeChild(e)}function w(e,t,r,i,a){var o=e.dom;if("key"!==t&&"is"!==t&&(r!==i||function(e,t){return"value"===t||"checked"===t||"selectedIndex"===t||"selected"===t&&e.dom===n.activeElement}(e,t)||"object"==typeof i)&&void 0!==i&&!k(t)){var s,u=t.indexOf(":");if(u>-1&&"xlink"===t.substr(0,u))o.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(u+1),i);else if("o"===t[0]&&"n"===t[1]&&"function"==typeof i)x(e,t,i);else if("style"===t)!function(e,t,n){t===n&&(e.style.cssText="",t=null);if(null==n)e.style.cssText="";else if("string"==typeof n)e.style.cssText=n;else{for(var r in"string"==typeof t&&(e.style.cssText=""),n)e.style[r]=n[r];if(null!=t&&"string"!=typeof t)for(var r in t)r in n||(e.style[r]="")}}(o,r,i);else if(t in o&&("href"!==(s=t)&&"list"!==s&&"form"!==s&&"width"!==s&&"height"!==s)&&void 0===a&&!function(e){return e.attrs.is||e.tag.indexOf("-")>-1}(e)){if("value"===t){var l=""+i;if(("input"===e.tag||"textarea"===e.tag)&&e.dom.value===l&&e.dom===n.activeElement)return;if("select"===e.tag)if(null===i){if(-1===e.dom.selectedIndex&&e.dom===n.activeElement)return}else if(null!==r&&e.dom.value===l&&e.dom===n.activeElement)return;if("option"===e.tag&&null!=r&&e.dom.value===l)return}if("input"===e.tag&&"type"===t)return void o.setAttribute(t,i);o[t]=i}else"boolean"==typeof i?i?o.setAttribute(t,""):o.removeAttribute(t):o.setAttribute("className"===t?"class":t,i)}}function k(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function x(e,n,r){var i=e.dom,a="function"!=typeof t?r:function(e){var n=r.call(i,e);return t.call(i,e),n};if(n in i)i[n]="function"==typeof r?a:null;else{var o=n.slice(2);if(void 0===e.events&&(e.events={}),e.events[n]===a)return;null!=e.events[n]&&i.removeEventListener(o,e.events[n],!1),"function"==typeof r&&(e.events[n]=a,i.addEventListener(o,e.events[n],!1))}}function S(e,t,n){"function"==typeof e.oninit&&e.oninit.call(t.state,t),"function"==typeof e.oncreate&&n.push(e.oncreate.bind(t.state,t))}function M(e,t,n){"function"==typeof e.onupdate&&n.push(e.onupdate.bind(t.state,t))}return{render:function(e,t){if(!e)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var i=[],a=n.activeElement,o=e.namespaceURI;null==e.vnodes&&(e.textContent=""),Array.isArray(t)||(t=[t]),d(e,e.vnodes,r.normalizeChildren(t),!1,i,null,"http://www.w3.org/1999/xhtml"===o?void 0:o),e.vnodes=t,null!=a&&n.activeElement!==a&&a.focus();for(var s=0;s<i.length;s++)i[s]()},setEventCallback:function(e){return t=e}}};var m=function(e){var t=p(e);t.setEventCallback(function(e){!1===e.redraw?e.redraw=void 0:i()});var n=[];function r(e){var t=n.indexOf(e);t>-1&&n.splice(t,2)}function i(){for(var e=1;e<n.length;e+=2)n[e]()}return{subscribe:function(e,t){r(e),n.push(e,function(e){var t=0,n=null,r="function"==typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var i=Date.now();0===t||i-t>=16?(t=i,e()):null===n&&(n=r(function(){n=null,e(),t=Date.now()},16-(i-t)))}}(t))},unsubscribe:r,redraw:i,render:t.render}}(window);h.setCompletionCallback(m.redraw);var v;l.mount=(v=m,function(e,t){if(null===t)return v.render(e,[]),void v.unsubscribe(e);if(null==t.view&&"function"!=typeof t)throw new Error("m.mount(element, component) expects a component, not a vnode");v.subscribe(e,function(){v.render(e,r(t))}),v.redraw()});var g=c,y=function(e){if(""===e||null==e)return{};"?"===e.charAt(0)&&(e=e.slice(1));for(var t=e.split("&"),n={},r={},i=0;i<t.length;i++){var a=t[i].split("="),o=decodeURIComponent(a[0]),s=2===a.length?decodeURIComponent(a[1]):"";"true"===s?s=!0:"false"===s&&(s=!1);var u=o.split(/\]\[?|\[/),l=n;o.indexOf("[")>-1&&u.pop();for(var c=0;c<u.length;c++){var d=u[c],f=u[c+1],h=""==f||!isNaN(parseInt(f,10)),p=c===u.length-1;if(""===d)null==r[o=u.slice(0,c).join()]&&(r[o]=0),d=r[o]++;null==l[d]&&(l[d]=p?s:h?[]:{}),l=l[d]}}return n},b=function(e){var t,r="function"==typeof e.history.pushState,i="function"==typeof n?n:setTimeout;function a(t){var n=e.location[t].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return"pathname"===t&&"/"!==n[0]&&(n="/"+n),n}function o(e,t,n){var r=e.indexOf("?"),i=e.indexOf("#"),a=r>-1?r:i>-1?i:e.length;if(r>-1){var o=i>-1?i:e.length,s=y(e.slice(r+1,o));for(var u in s)t[u]=s[u]}if(i>-1){var l=y(e.slice(i+1));for(var u in l)n[u]=l[u]}return e.slice(0,a)}var s={prefix:"#!",getPath:function(){switch(s.prefix.charAt(0)){case"#":return a("hash").slice(s.prefix.length);case"?":return a("search").slice(s.prefix.length)+a("hash");default:return a("pathname").slice(s.prefix.length)+a("search")+a("hash")}},setPath:function(t,n,i){var a={},u={};if(t=o(t,a,u),null!=n){for(var l in n)a[l]=n[l];t=t.replace(/:([^\/]+)/g,function(e,t){return delete a[t],n[t]})}var c=d(a);c&&(t+="?"+c);var f=d(u);if(f&&(t+="#"+f),r){var h=i?i.state:null,p=i?i.title:null;e.onpopstate(),i&&i.replace?e.history.replaceState(h,p,s.prefix+t):e.history.pushState(h,p,s.prefix+t)}else e.location.href=s.prefix+t}};return s.defineRoutes=function(n,a,u){function l(){var t=s.getPath(),r={},i=o(t,r,r),l=e.history.state;if(null!=l)for(var c in l)r[c]=l[c];for(var d in n){var f=new RegExp("^"+d.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(f.test(i))return void i.replace(f,function(){for(var e=d.match(/:[^\/]+/g)||[],i=[].slice.call(arguments,1,-2),o=0;o<e.length;o++)r[e[o].replace(/:|\./g,"")]=decodeURIComponent(i[o]);a(n[d],r,t,d)})}u(t,r)}var c;r?e.onpopstate=(c=l,function(){null==t&&(t=i(function(){t=null,c()}))}):"#"===s.prefix.charAt(0)&&(e.onhashchange=l),l()},s};l.route=function(e,t){var n,i,a,o,s,u=b(e),l=function(e,l,c){if(null==e)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var d=function(){null!=n&&t.render(e,n(r(i,a.key,a)))},f=function(e){if(e===l)throw new Error("Could not resolve default route "+l);u.setPath(l,null,{replace:!0})};u.defineRoutes(c,function(e,t,r){var u=s=function(e,l){u===s&&(i=null==l||"function"!=typeof l.view&&"function"!=typeof l?"div":l,a=t,o=r,s=null,n=(e.render||function(e){return e}).bind(e),d())};e.view||"function"==typeof e?u({},e):e.onmatch?g.resolve(e.onmatch(t,r)).then(function(t){u(e,t)},f):u(e,"div")},f),t.subscribe(e,d)};return l.set=function(e,t,n){null!=s&&((n=n||{}).replace=!0),s=null,u.setPath(e,t,n)},l.get=function(){return o},l.prefix=function(e){u.prefix=e},l.link=function(e){e.dom.setAttribute("href",u.prefix+e.attrs.href),e.dom.onclick=function(e){if(!(e.ctrlKey||e.metaKey||e.shiftKey||2===e.which)){e.preventDefault(),e.redraw=!1;var t=this.getAttribute("href");0===t.indexOf(u.prefix)&&(t=t.slice(u.prefix.length)),l.set(t,void 0,void 0)}}},l.param=function(e){return void 0!==a&&void 0!==e?a[e]:a},l}(window,m),l.withAttr=function(e,t,n){return function(r){t.call(n||this,e in r.currentTarget?r.currentTarget[e]:r.currentTarget.getAttribute(e))}};var _=p(window);l.render=_.render,l.redraw=m.redraw,l.request=h.request,l.jsonp=h.jsonp,l.parseQueryString=y,l.buildQueryString=d,l.version="1.1.6",l.vnode=r,void 0!==t?t.exports=l:window.m=l}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{timers:172}],168:[function(e,t,n){var r,i;r=this,i=function(){"use strict";var n,r;function i(){return n.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,r){return Dt(e,t,n,r,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){if(null==e._isValid){var t=p(e),n=r.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function v(e){var t=h(NaN);return null!=e?f(p(t),e):p(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var g=i.momentProperties=[];function y(e,t){var n,r,i;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=p(t)),s(t._locale)||(e._locale=t._locale),g.length>0)for(n=0;n<g.length;n++)s(i=t[r=g[n]])||(e[r]=i);return e}var b=!1;function _(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,i.updateOffset(this),b=!1)}function w(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function k(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function x(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=k(t)),n}function S(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&x(e[r])!==x(t[r]))&&o++;return o+a}function M(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return f(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){for(var r,a=[],o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(var s in r+="\n["+o+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[o];a.push(r)}M(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var O,T={};function P(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),T[e]||(M(t),T[e]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function j(e,t){var n,r=f({},e);for(n in t)d(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)d(e,n)&&!d(t,n)&&o(e[n])&&(r[n]=f({},r[n]));return r}function R(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,O=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};var C={};function N(e,t){var n=e.toLowerCase();C[n]=C[n+"s"]=C[t]=e}function A(e){return"string"==typeof e?C[e]||C[e.toLowerCase()]:void 0}function Y(e){var t,n,r={};for(n in e)d(e,n)&&(t=A(n))&&(r[t]=e[n]);return r}var L={};function I(e,t){L[e]=t}function F(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},V={};function W(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(V[e]=i),t&&(V[t[0]]=function(){return F(i.apply(this,arguments),t[1],t[2])}),n&&(V[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function G(e,t){return e.isValid()?(t=U(t,e.localeData()),B[t]=B[t]||function(e){var t,n,r,i=e.match(z);for(t=0,n=i.length;t<n;t++)V[i[t]]?i[t]=V[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,a="";for(r=0;r<n;r++)a+=D(i[r])?i[r].call(t,e):i[r];return a}}(t),B[t](e)):e.localeData().invalidDate()}function U(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(H.lastIndex=0;n>=0&&H.test(e);)e=e.replace(H,r),H.lastIndex=0,n-=1;return e}var X=/\d/,q=/\d\d/,K=/\d{3}/,$=/\d{4}/,Z=/[+-]?\d{6}/,J=/\d\d?/,Q=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,ne=/\d{1,4}/,re=/[+-]?\d{1,6}/,ie=/\d+/,ae=/[+-]?\d+/,oe=/Z|[+-]\d\d:?\d\d/gi,se=/Z|[+-]\d\d(?::?\d\d)?/gi,ue=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,le={};function ce(e,t,n){le[e]=D(t)?t:function(e,r){return e&&n?n:t}}function de(e,t){return d(le,e)?le[e](t._strict,t._locale):new RegExp(fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})))}function fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var he={};function pe(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),u(t)&&(r=function(e,n){n[t]=x(e)}),n=0;n<e.length;n++)he[e[n]]=r}function me(e,t){pe(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ve(e,t,n){null!=t&&d(he,e)&&he[e](t,n._a,n,e)}var ge=0,ye=1,be=2,_e=3,we=4,ke=5,xe=6,Se=7,Me=8;function Ee(e){return Oe(e)?366:365}function Oe(e){return e%4==0&&e%100!=0||e%400==0}W("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),N("year","y"),I("year",1),ce("Y",ae),ce("YY",J,q),ce("YYYY",ne,$),ce("YYYYY",re,Z),ce("YYYYYY",re,Z),pe(["YYYYY","YYYYYY"],ge),pe("YYYY",function(e,t){t[ge]=2===e.length?i.parseTwoDigitYear(e):x(e)}),pe("YY",function(e,t){t[ge]=i.parseTwoDigitYear(e)}),pe("Y",function(e,t){t[ge]=parseInt(e,10)}),i.parseTwoDigitYear=function(e){return x(e)+(x(e)>68?1900:2e3)};var Te,Pe=De("FullYear",!0);function De(e,t){return function(n){return null!=n?(Re(this,e,n),i.updateOffset(this,t),this):je(this,e)}}function je(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Re(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Oe(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ce(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Ce(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?Oe(e)?29:28:31-r%7%2}Te=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),W("MMMM",0,0,function(e){return this.localeData().months(this,e)}),N("month","M"),I("month",8),ce("M",J),ce("MM",J,q),ce("MMM",function(e,t){return t.monthsShortRegex(e)}),ce("MMMM",function(e,t){return t.monthsRegex(e)}),pe(["M","MM"],function(e,t){t[ye]=x(e)-1}),pe(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ye]=i:p(n).invalidMonth=e});var Ne=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ae="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ye="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Le(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=x(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ce(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ie(e){return null!=e?(Le(this,e),i.updateOffset(this,!0),this):je(this,"Month")}var Fe=ue,ze=ue;function He(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=h([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=fe(r[t]),i[t]=fe(i[t]);for(t=0;t<24;t++)a[t]=fe(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Be(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Ve(e,t,n){var r=7+t-n;return-((7+Be(e,0,r).getUTCDay()-t)%7)+r-1}function We(e,t,n,r,i){var a,o,s=1+7*(t-1)+(7+n-r)%7+Ve(e,r,i);return s<=0?o=Ee(a=e-1)+s:s>Ee(e)?(a=e+1,o=s-Ee(e)):(a=e,o=s),{year:a,dayOfYear:o}}function Ge(e,t,n){var r,i,a=Ve(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+Ue(i=e.year()-1,t,n):o>Ue(e.year(),t,n)?(r=o-Ue(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function Ue(e,t,n){var r=Ve(e,t,n),i=Ve(e+1,t,n);return(Ee(e)-r+i)/7}function Xe(e,t){return e.slice(t,7).concat(e.slice(0,t))}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),I("week",5),I("isoWeek",5),ce("w",J),ce("ww",J,q),ce("W",J),ce("WW",J,q),me(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=x(e)}),W("d",0,"do","day"),W("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),W("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),W("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),I("day",11),I("weekday",11),I("isoWeekday",11),ce("d",J),ce("e",J),ce("E",J),ce("dd",function(e,t){return t.weekdaysMinRegex(e)}),ce("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ce("dddd",function(e,t){return t.weekdaysRegex(e)}),me(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e}),me(["d","e","E"],function(e,t,n,r){t[r]=x(e)});var qe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ke="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$e="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ze=ue,Je=ue,Qe=ue;function et(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],s=[],u=[],l=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(r),s.push(i),u.push(a),l.push(r),l.push(i),l.push(a);for(o.sort(e),s.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)s[t]=fe(s[t]),u[t]=fe(u[t]),l[t]=fe(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function tt(){return this.hours()%12||12}function nt(e,t){W(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function rt(e,t){return t._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,tt),W("k",["kk",2],0,function(){return this.hours()||24}),W("hmm",0,0,function(){return""+tt.apply(this)+F(this.minutes(),2)}),W("hmmss",0,0,function(){return""+tt.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),nt("a",!0),nt("A",!1),N("hour","h"),I("hour",13),ce("a",rt),ce("A",rt),ce("H",J),ce("h",J),ce("k",J),ce("HH",J,q),ce("hh",J,q),ce("kk",J,q),ce("hmm",Q),ce("hmmss",ee),ce("Hmm",Q),ce("Hmmss",ee),pe(["H","HH"],_e),pe(["k","kk"],function(e,t,n){var r=x(e);t[_e]=24===r?0:r}),pe(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),pe(["h","hh"],function(e,t,n){t[_e]=x(e),p(n).bigHour=!0}),pe("hmm",function(e,t,n){var r=e.length-2;t[_e]=x(e.substr(0,r)),t[we]=x(e.substr(r)),p(n).bigHour=!0}),pe("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[_e]=x(e.substr(0,r)),t[we]=x(e.substr(r,2)),t[ke]=x(e.substr(i)),p(n).bigHour=!0}),pe("Hmm",function(e,t,n){var r=e.length-2;t[_e]=x(e.substr(0,r)),t[we]=x(e.substr(r))}),pe("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[_e]=x(e.substr(0,r)),t[we]=x(e.substr(r,2)),t[ke]=x(e.substr(i))});var it,at=De("Hours",!0),ot={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ae,monthsShort:Ye,week:{dow:0,doy:6},weekdays:qe,weekdaysMin:$e,weekdaysShort:Ke,meridiemParse:/[ap]\.?m?\.?/i},st={},ut={};function lt(e){return e?e.toLowerCase().replace("_","-"):e}function ct(n){var r=null;if(!st[n]&&void 0!==t&&t&&t.exports)try{r=it._abbr,e("./locale/"+n),dt(r)}catch(i){}return st[n]}function dt(e,t){var n;return e&&((n=s(t)?ht(e):ft(e,t))?it=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),it._abbr}function ft(e,t){if(null!==t){var n,r=ot;if(t.abbr=e,null!=st[e])P("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=st[e]._config;else if(null!=t.parentLocale)if(null!=st[t.parentLocale])r=st[t.parentLocale]._config;else{if(null==(n=ct(t.parentLocale)))return ut[t.parentLocale]||(ut[t.parentLocale]=[]),ut[t.parentLocale].push({name:e,config:t}),null;r=n._config}return st[e]=new R(j(r,t)),ut[e]&&ut[e].forEach(function(e){ft(e.name,e.config)}),dt(e),st[e]}return delete st[e],null}function ht(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return it;if(!a(e)){if(t=ct(e))return t;e=[e]}return function(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=lt(e[a]).split("-")).length,n=(n=lt(e[a+1]))?n.split("-"):null;t>0;){if(r=ct(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&S(i,n,!0)>=t-1)break;t--}a++}return it}(e)}function pt(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[ye]<0||n[ye]>11?ye:n[be]<1||n[be]>Ce(n[ge],n[ye])?be:n[_e]<0||n[_e]>24||24===n[_e]&&(0!==n[we]||0!==n[ke]||0!==n[xe])?_e:n[we]<0||n[we]>59?we:n[ke]<0||n[ke]>59?ke:n[xe]<0||n[xe]>999?xe:-1,p(e)._overflowDayOfYear&&(t<ge||t>be)&&(t=be),p(e)._overflowWeeks&&-1===t&&(t=Se),p(e)._overflowWeekday&&-1===t&&(t=Me),p(e).overflow=t),e}function mt(e,t,n){return null!=e?e:null!=t?t:n}function vt(e){var t,n,r,a,o,s=[];if(!e._d){for(r=function(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[be]&&null==e._a[ye]&&function(e){var t,n,r,i,a,o,s,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)a=1,o=4,n=mt(t.GG,e._a[ge],Ge(jt(),1,4).year),r=mt(t.W,1),((i=mt(t.E,1))<1||i>7)&&(u=!0);else{a=e._locale._week.dow,o=e._locale._week.doy;var l=Ge(jt(),a,o);n=mt(t.gg,e._a[ge],l.year),r=mt(t.w,l.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(u=!0)):i=a}r<1||r>Ue(n,a,o)?p(e)._overflowWeeks=!0:null!=u?p(e)._overflowWeekday=!0:(s=We(n,r,i,a,o),e._a[ge]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=mt(e._a[ge],r[ge]),(e._dayOfYear>Ee(o)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=Be(o,0,e._dayOfYear),e._a[ye]=n.getUTCMonth(),e._a[be]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[_e]&&0===e._a[we]&&0===e._a[ke]&&0===e._a[xe]&&(e._nextDay=!0,e._a[_e]=0),e._d=(e._useUTC?Be:function(e,t,n,r,i,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,i,a,o),s}).apply(null,s),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[_e]=24),e._w&&void 0!==e._w.d&&e._w.d!==a&&(p(e).weekdayMismatch=!0)}}var gt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bt=/Z|[+-]\d\d(?::?\d\d)?/,_t=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],wt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kt=/^\/?Date\((\-?\d+)/i;function xt(e){var t,n,r,i,a,o,s=e._i,u=gt.exec(s)||yt.exec(s);if(u){for(p(e).iso=!0,t=0,n=_t.length;t<n;t++)if(_t[t][1].exec(u[1])){i=_t[t][0],r=!1!==_t[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=wt.length;t<n;t++)if(wt[t][1].exec(u[3])){a=(u[2]||" ")+wt[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(u[4]){if(!bt.exec(u[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),Tt(e)}else e._isValid=!1}var St=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Mt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var Et={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ot(e){var t,n,r,i,a,o,s,u=St.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(u){var l=(t=u[4],n=u[3],r=u[2],i=u[5],a=u[6],o=u[7],s=[Mt(t),Ye.indexOf(n),parseInt(r,10),parseInt(i,10),parseInt(a,10)],o&&s.push(parseInt(o,10)),s);if(!function(e,t,n){return!e||Ke.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(p(n).weekdayMismatch=!0,n._isValid=!1,!1)}(u[1],l,e))return;e._a=l,e._tzm=function(e,t,n){if(e)return Et[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(u[8],u[9],u[10]),e._d=Be.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function Tt(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],p(e).empty=!0;var t,n,r,a,o,s=""+e._i,u=s.length,l=0;for(r=U(e._f,e._locale).match(z)||[],t=0;t<r.length;t++)a=r[t],(n=(s.match(de(a,e))||[])[0])&&((o=s.substr(0,s.indexOf(n))).length>0&&p(e).unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),l+=n.length),V[a]?(n?p(e).empty=!1:p(e).unusedTokens.push(a),ve(a,n,e)):e._strict&&!n&&p(e).unusedTokens.push(a);p(e).charsLeftOver=u-l,s.length>0&&p(e).unusedInput.push(s),e._a[_e]<=12&&!0===p(e).bigHour&&e._a[_e]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[_e]=function(e,t,n){var r;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[_e],e._meridiem),vt(e),pt(e)}else Ot(e);else xt(e)}function Pt(e){var t=e._i,n=e._f;return e._locale=e._locale||ht(e._l),null===t||void 0===n&&""===t?v({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new _(pt(t)):(l(t)?e._d=t:a(n)?function(e){var t,n,r,i,a;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)a=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Tt(t),m(t)&&(a+=p(t).charsLeftOver,a+=10*p(t).unusedTokens.length,p(t).score=a,(null==r||a<r)&&(r=a,n=t));f(e,n||t)}(e):n?Tt(e):function(e){var t=e._i;s(t)?e._d=new Date(i.now()):l(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=kt.exec(e._i);null===t?(xt(e),!1===e._isValid&&(delete e._isValid,Ot(e),!1===e._isValid&&(delete e._isValid,i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):a(t)?(e._a=c(t.slice(0),function(e){return parseInt(e,10)}),vt(e)):o(t)?function(e){if(!e._d){var t=Y(e._i);e._a=c([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),vt(e)}}(e):u(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function Dt(e,t,n,r,i){var s,u={};return!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||a(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=i,u._l=n,u._i=e,u._f=t,u._strict=r,(s=new _(pt(Pt(u))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function jt(e,t,n,r){return Dt(e,t,n,r,!1)}i.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var Rt=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=jt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()}),Ct=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=jt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()});function Nt(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return jt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var At=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Yt(e){var t=Y(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Te.call(At,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<At.length;++r)if(e[At[r]]){if(n)return!1;parseFloat(e[At[r]])!==x(e[At[r]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*l+6e4*u+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=ht(),this._bubble()}function Lt(e){return e instanceof Yt}function It(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,t){W(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+F(~~(e/60),2)+t+F(~~e%60,2)})}Ft("Z",":"),Ft("ZZ",""),ce("Z",se),ce("ZZ",se),pe(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ht(se,e)});var zt=/([\+\-]|\d\d)/gi;function Ht(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(zt)||["-",0,0],i=60*r[1]+x(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Bt(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(w(e)||l(e)?e.valueOf():jt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):jt(e).local()}function Vt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Wt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}i.updateOffset=function(){};var Gt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ut=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Xt(e,t){var n,r,i,a=e,o=null;return Lt(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:u(e)?(a={},t?a[t]=e:a.milliseconds=e):(o=Gt.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:x(o[be])*n,h:x(o[_e])*n,m:x(o[we])*n,s:x(o[ke])*n,ms:x(It(1e3*o[xe]))*n}):(o=Ut.exec(e))?(n="-"===o[1]?-1:1,a={y:qt(o[2],n),M:qt(o[3],n),w:qt(o[4],n),d:qt(o[5],n),h:qt(o[6],n),m:qt(o[7],n),s:qt(o[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Bt(t,e),e.isBefore(t)?n=Kt(e,t):((n=Kt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(jt(a.from),jt(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new Yt(a),Lt(e)&&d(e,"_locale")&&(r._locale=e._locale),r}function qt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Kt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function $t(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(P(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Zt(this,Xt(n="string"==typeof n?+n:n,r),e),this}}function Zt(e,t,n,r){var a=t._milliseconds,o=It(t._days),s=It(t._months);e.isValid()&&(r=null==r||r,s&&Le(e,je(e,"Month")+s*n),o&&Re(e,"Date",je(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),r&&i.updateOffset(e,o||s))}Xt.fn=Yt.prototype,Xt.invalid=function(){return Xt(NaN)};var Jt=$t(1,"add"),Qt=$t(-1,"subtract");function en(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function tn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ht(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var nn=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function rn(){return this._locale}var an=1e3,on=60*an,sn=60*on,un=3506328*sn;function ln(e,t){return(e%t+t)%t}function cn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-un:new Date(e,t,n).valueOf()}function dn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-un:Date.UTC(e,t,n)}function fn(e,t){W(0,[e,e.length],0,t)}function hn(e,t,n,r,i){var a;return null==e?Ge(this,r,i).year:(t>(a=Ue(e,r,i))&&(t=a),function(e,t,n,r,i){var a=We(e,t,n,r,i),o=Be(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,e,t,n,r,i))}W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),fn("gggg","weekYear"),fn("ggggg","weekYear"),fn("GGGG","isoWeekYear"),fn("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),I("weekYear",1),I("isoWeekYear",1),ce("G",ae),ce("g",ae),ce("GG",J,q),ce("gg",J,q),ce("GGGG",ne,$),ce("gggg",ne,$),ce("GGGGG",re,Z),ce("ggggg",re,Z),me(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=x(e)}),me(["gg","GG"],function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)}),W("Q",0,"Qo","quarter"),N("quarter","Q"),I("quarter",7),ce("Q",X),pe("Q",function(e,t){t[ye]=3*(x(e)-1)}),W("D",["DD",2],"Do","date"),N("date","D"),I("date",9),ce("D",J),ce("DD",J,q),ce("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),pe(["D","DD"],be),pe("Do",function(e,t){t[be]=x(e.match(J)[0])});var pn=De("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),I("dayOfYear",4),ce("DDD",te),ce("DDDD",K),pe(["DDD","DDDD"],function(e,t,n){n._dayOfYear=x(e)}),W("m",["mm",2],0,"minute"),N("minute","m"),I("minute",14),ce("m",J),ce("mm",J,q),pe(["m","mm"],we);var mn=De("Minutes",!1);W("s",["ss",2],0,"second"),N("second","s"),I("second",15),ce("s",J),ce("ss",J,q),pe(["s","ss"],ke);var vn,gn=De("Seconds",!1);for(W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),I("millisecond",16),ce("S",te,X),ce("SS",te,q),ce("SSS",te,K),vn="SSSS";vn.length<=9;vn+="S")ce(vn,ie);function yn(e,t){t[xe]=x(1e3*("0."+e))}for(vn="S";vn.length<=9;vn+="S")pe(vn,yn);var bn=De("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var _n=_.prototype;function wn(e){return e}_n.add=Jt,_n.calendar=function(e,t){var n=e||jt(),r=Bt(n,this).startOf("day"),a=i.calendarFormat(this,r)||"sameElse",o=t&&(D(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,jt(n)))},_n.clone=function(){return new _(this)},_n.diff=function(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=Bt(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=A(t)){case"year":a=en(this,r)/12;break;case"month":a=en(this,r);break;case"quarter":a=en(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:k(a)},_n.endOf=function(e){var t;if(void 0===(e=A(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?dn:cn;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=sn-ln(t+(this._isUTC?0:this.utcOffset()*on),sn)-1;break;case"minute":t=this._d.valueOf(),t+=on-ln(t,on)-1;break;case"second":t=this._d.valueOf(),t+=an-ln(t,an)-1}return this._d.setTime(t),i.updateOffset(this,!0),this},_n.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=G(this,e);return this.localeData().postformat(t)},_n.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||jt(e).isValid())?Xt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},_n.fromNow=function(e){return this.from(jt(),e)},_n.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||jt(e).isValid())?Xt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},_n.toNow=function(e){return this.to(jt(),e)},_n.get=function(e){return D(this[e=A(e)])?this[e]():this},_n.invalidAt=function(){return p(this).overflow},_n.isAfter=function(e,t){var n=w(e)?e:jt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},_n.isBefore=function(e,t){var n=w(e)?e:jt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=A(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},_n.isBetween=function(e,t,n,r){var i=w(e)?e:jt(e),a=w(t)?t:jt(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))},_n.isSame=function(e,t){var n,r=w(e)?e:jt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=A(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},_n.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},_n.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},_n.isValid=function(){return m(this)},_n.lang=nn,_n.locale=tn,_n.localeData=rn,_n.max=Ct,_n.min=Rt,_n.parsingFlags=function(){return f({},p(this))},_n.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:L[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=Y(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(D(this[e=A(e)]))return this[e](t);return this},_n.startOf=function(e){var t;if(void 0===(e=A(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?dn:cn;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ln(t+(this._isUTC?0:this.utcOffset()*on),sn);break;case"minute":t=this._d.valueOf(),t-=ln(t,on);break;case"second":t=this._d.valueOf(),t-=ln(t,an)}return this._d.setTime(t),i.updateOffset(this,!0),this},_n.subtract=Qt,_n.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},_n.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},_n.toDate=function(){return new Date(this.valueOf())},_n.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?G(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",G(n,"Z")):G(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},_n.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},_n.toJSON=function(){return this.isValid()?this.toISOString():null},_n.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},_n.unix=function(){return Math.floor(this.valueOf()/1e3)},_n.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},_n.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},_n.year=Pe,_n.isLeapYear=function(){return Oe(this.year())},_n.weekYear=function(e){return hn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},_n.isoWeekYear=function(e){return hn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},_n.quarter=_n.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},_n.month=Ie,_n.daysInMonth=function(){return Ce(this.year(),this.month())},_n.week=_n.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},_n.isoWeek=_n.isoWeeks=function(e){var t=Ge(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},_n.weeksInYear=function(){var e=this.localeData()._week;return Ue(this.year(),e.dow,e.doy)},_n.isoWeeksInYear=function(){return Ue(this.year(),1,4)},_n.date=pn,_n.day=_n.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},_n.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},_n.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},_n.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},_n.hour=_n.hours=at,_n.minute=_n.minutes=mn,_n.second=_n.seconds=gn,_n.millisecond=_n.milliseconds=bn,_n.utcOffset=function(e,t,n){var r,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ht(se,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Vt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==e&&(!t||this._changeInProgress?Zt(this,Xt(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Vt(this)},_n.utc=function(e){return this.utcOffset(0,e)},_n.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Vt(this),"m")),this},_n.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ht(oe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},_n.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?jt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},_n.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},_n.isLocal=function(){return!!this.isValid()&&!this._isUTC},_n.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},_n.isUtc=Wt,_n.isUTC=Wt,_n.zoneAbbr=function(){return this._isUTC?"UTC":""},_n.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},_n.dates=E("dates accessor is deprecated. Use date instead.",pn),_n.months=E("months accessor is deprecated. Use month instead",Ie),_n.years=E("years accessor is deprecated. Use year instead",Pe),_n.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),_n.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=Pt(e))._a){var t=e._isUTC?h(e._a):jt(e._a);this._isDSTShifted=this.isValid()&&S(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var kn=R.prototype;function xn(e,t,n,r){var i=ht(),a=h().set(r,t);return i[n](a,e)}function Sn(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return xn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=xn(e,r,n,"month");return i}function Mn(e,t,n,r){"boolean"==typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var i,a=ht(),o=e?a._week.dow:0;if(null!=n)return xn(t,(n+o)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=xn(t,(i+o)%7,r,"day");return s}kn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return D(r)?r.call(t,n):r},kn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},kn.invalidDate=function(){return this._invalidDate},kn.ordinal=function(e){return this._ordinal.replace("%d",e)},kn.preparse=wn,kn.postformat=wn,kn.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return D(i)?i(e,t,n,r):i.replace(/%d/i,e)},kn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)},kn.set=function(e){var t,n;for(n in e)D(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},kn.months=function(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ne).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone},kn.monthsShort=function(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ne.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},kn.monthsParse=function(e,t,n){var r,i,a;if(this._monthsParseExact)return function(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Te.call(this._shortMonthsParse,o))?i:null:-1!==(i=Te.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Te.call(this._shortMonthsParse,o))?i:-1!==(i=Te.call(this._longMonthsParse,o))?i:null:-1!==(i=Te.call(this._longMonthsParse,o))?i:-1!==(i=Te.call(this._shortMonthsParse,o))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},kn.monthsRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||He.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=ze),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},kn.monthsShortRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||He.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},kn.week=function(e){return Ge(e,this._week.dow,this._week.doy).week},kn.firstDayOfYear=function(){return this._week.doy},kn.firstDayOfWeek=function(){return this._week.dow},kn.weekdays=function(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Xe(n,this._week.dow):e?n[e.day()]:n},kn.weekdaysMin=function(e){return!0===e?Xe(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},kn.weekdaysShort=function(e){return!0===e?Xe(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},kn.weekdaysParse=function(e,t,n){var r,i,a;if(this._weekdaysParseExact)return function(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Te.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Te.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Te.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Te.call(this._weekdaysParse,o))?i:-1!==(i=Te.call(this._shortWeekdaysParse,o))?i:-1!==(i=Te.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Te.call(this._shortWeekdaysParse,o))?i:-1!==(i=Te.call(this._weekdaysParse,o))?i:-1!==(i=Te.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Te.call(this._minWeekdaysParse,o))?i:-1!==(i=Te.call(this._weekdaysParse,o))?i:-1!==(i=Te.call(this._shortWeekdaysParse,o))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},kn.weekdaysRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Ze),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},kn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Je),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},kn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},kn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},kn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},dt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=E("moment.lang is deprecated. Use moment.locale instead.",dt),i.langData=E("moment.langData is deprecated. Use moment.localeData instead.",ht);var En=Math.abs;function On(e,t,n,r){var i=Xt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Tn(e){return e<0?Math.floor(e):Math.ceil(e)}function Pn(e){return 4800*e/146097}function Dn(e){return 146097*e/4800}function jn(e){return function(){return this.as(e)}}var Rn=jn("ms"),Cn=jn("s"),Nn=jn("m"),An=jn("h"),Yn=jn("d"),Ln=jn("w"),In=jn("M"),Fn=jn("Q"),zn=jn("y");function Hn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Bn=Hn("milliseconds"),Vn=Hn("seconds"),Wn=Hn("minutes"),Gn=Hn("hours"),Un=Hn("days"),Xn=Hn("months"),qn=Hn("years"),Kn=Math.round,$n={ss:44,s:45,m:45,h:22,d:26,M:11},Zn=Math.abs;function Jn(e){return(e>0)-(e<0)||+e}function Qn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Zn(this._milliseconds)/1e3,r=Zn(this._days),i=Zn(this._months);e=k(n/60),t=k(e/60),n%=60,e%=60;var a=k(i/12),o=i%=12,s=r,u=t,l=e,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=d<0?"-":"",h=Jn(this._months)!==Jn(d)?"-":"",p=Jn(this._days)!==Jn(d)?"-":"",m=Jn(this._milliseconds)!==Jn(d)?"-":"";return f+"P"+(a?h+a+"Y":"")+(o?h+o+"M":"")+(s?p+s+"D":"")+(u||l||c?"T":"")+(u?m+u+"H":"")+(l?m+l+"M":"")+(c?m+c+"S":"")}var er=Yt.prototype;return er.isValid=function(){return this._isValid},er.abs=function(){var e=this._data;return this._milliseconds=En(this._milliseconds),this._days=En(this._days),this._months=En(this._months),e.milliseconds=En(e.milliseconds),e.seconds=En(e.seconds),e.minutes=En(e.minutes),e.hours=En(e.hours),e.months=En(e.months),e.years=En(e.years),this},er.add=function(e,t){return On(this,e,t,1)},er.subtract=function(e,t){return On(this,e,t,-1)},er.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=A(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Pn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Dn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},er.asMilliseconds=Rn,er.asSeconds=Cn,er.asMinutes=Nn,er.asHours=An,er.asDays=Yn,er.asWeeks=Ln,er.asMonths=In,er.asQuarters=Fn,er.asYears=zn,er.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN},er._bubble=function(){var e,t,n,r,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Tn(Dn(s)+o),o=0,s=0),u.milliseconds=a%1e3,e=k(a/1e3),u.seconds=e%60,t=k(e/60),u.minutes=t%60,n=k(t/60),u.hours=n%24,o+=k(n/24),s+=i=k(Pn(o)),o-=Tn(Dn(i)),r=k(s/12),s%=12,u.days=o,u.months=s,u.years=r,this},er.clone=function(){return Xt(this)},er.get=function(e){return e=A(e),this.isValid()?this[e+"s"]():NaN},er.milliseconds=Bn,er.seconds=Vn,er.minutes=Wn,er.hours=Gn,er.days=Un,er.weeks=function(){return k(this.days()/7)},er.months=Xn,er.years=qn,er.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Xt(e).abs(),i=Kn(r.as("s")),a=Kn(r.as("m")),o=Kn(r.as("h")),s=Kn(r.as("d")),u=Kn(r.as("M")),l=Kn(r.as("y")),c=i<=$n.ss&&["s",i]||i<$n.s&&["ss",i]||a<=1&&["m"]||a<$n.m&&["mm",a]||o<=1&&["h"]||o<$n.h&&["hh",o]||s<=1&&["d"]||s<$n.d&&["dd",s]||u<=1&&["M"]||u<$n.M&&["MM",u]||l<=1&&["y"]||["yy",l];return c[2]=t,c[3]=+e>0,c[4]=n,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply(null,c)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},er.toISOString=Qn,er.toString=Qn,er.toJSON=Qn,er.locale=tn,er.localeData=rn,er.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Qn),er.lang=nn,W("X",0,0,"unix"),W("x",0,0,"valueOf"),ce("x",ae),ce("X",/[+-]?\d+(\.\d{1,3})?/),pe("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),pe("x",function(e,t,n){n._d=new Date(x(e))}),i.version="2.24.0",n=jt,i.fn=_n,i.min=function(){return Nt("isBefore",[].slice.call(arguments,0))},i.max=function(){return Nt("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=h,i.unix=function(e){return jt(1e3*e)},i.months=function(e,t){return Sn(e,t,"months")},i.isDate=l,i.locale=dt,i.invalid=v,i.duration=Xt,i.isMoment=w,i.weekdays=function(e,t,n){return Mn(e,t,n,"weekdays")},i.parseZone=function(){return jt.apply(null,arguments).parseZone()},i.localeData=ht,i.isDuration=Lt,i.monthsShort=function(e,t){return Sn(e,t,"monthsShort")},i.weekdaysMin=function(e,t,n){return Mn(e,t,n,"weekdaysMin")},i.defineLocale=ft,i.updateLocale=function(e,t){if(null!=t){var n,r,i=ot;null!=(r=ct(e))&&(i=r._config),(n=new R(t=j(i,t))).parentLocale=st[e],st[e]=n,dt(e)}else null!=st[e]&&(null!=st[e].parentLocale?st[e]=st[e].parentLocale:null!=st[e]&&delete st[e]);return st[e]},i.locales=function(){return O(st)},i.weekdaysShort=function(e,t,n){return Mn(e,t,n,"weekdaysShort")},i.normalizeUnits=A,i.relativeTimeRounding=function(e){return void 0===e?Kn:"function"==typeof e&&(Kn=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==$n[e]&&(void 0===t?$n[e]:($n[e]=t,"s"===e&&($n.ss=t-1),!0))},i.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=_n,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i},"object"==typeof n&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):r.moment=i()},{}],169:[function(e,t,n){var r,i,a=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(e){r=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var l,c=[],d=!1,f=-1;function h(){d&&l&&(d=!1,l.length?c=l.concat(c):f=-1,c.length&&p())}function p(){if(!d){var e=u(h);d=!0;for(var t=c.length;t;){for(l=c,c=[];++f<t;)l&&l[f].run();f=-1,t=c.length}l=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function v(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||d||u(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],170:[function(e,t,n){(function(e,r){!function(e){"use strict";if("function"==typeof bootstrap)bootstrap("promise",e);else if("object"==typeof n&&"object"==typeof t)t.exports=e();else if("function"==typeof define&&define.amd)define(e);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=e}else{if("undefined"==typeof self)throw new Error("This environment was not anticiapted by Q. Please file a bug.");self.Q=e()}}(function(){"use strict";var t=!1;try{throw new Error}catch(U){t=!!U.stack}var n,i=k(),a=function(){},o=function(){var t={task:void 0,next:null},n=t,i=!1,a=void 0,s=!1;function u(){for(;t.next;){var e=(t=t.next).task;t.task=void 0;var n=t.domain;n&&(t.domain=void 0,n.enter());try{e()}catch(U){if(s)throw n&&n.exit(),setTimeout(u,0),n&&n.enter(),U;setTimeout(function(){throw U},0)}n&&n.exit()}i=!1}if(o=function(t){n=n.next={task:t,domain:s&&e.domain,next:null},i||(i=!0,a())},void 0!==e&&e.nextTick)s=!0,a=function(){e.nextTick(u)};else if("function"==typeof r)a="undefined"!=typeof window?r.bind(window,u):function(){r(u)};else if("undefined"!=typeof MessageChannel){var l=new MessageChannel;l.port1.onmessage=function(){a=c,l.port1.onmessage=u,u()};var c=function(){l.port2.postMessage(0)};a=function(){setTimeout(u,0),c()}}else a=function(){setTimeout(u,0)};return o}(),s=Function.call;function u(e){return function(){return s.apply(e,arguments)}}var l,c=u(Array.prototype.slice),d=u(Array.prototype.reduce||function(e,t){var n=0,r=this.length;if(1===arguments.length)for(;;){if(n in this){t=this[n++];break}if(++n>=r)throw new TypeError}for(;n<r;n++)n in this&&(t=e(t,this[n],n));return t}),f=u(Array.prototype.indexOf||function(e){for(var t=0;t<this.length;t++)if(this[t]===e)return t;return-1}),h=u(Array.prototype.map||function(e,t){var n=this,r=[];return d(n,function(i,a,o){r.push(e.call(t,a,o,n))},void 0),r}),p=Object.create||function(e){function t(){}return t.prototype=e,new t},m=u(Object.prototype.hasOwnProperty),v=Object.keys||function(e){var t=[];for(var n in e)m(e,n)&&t.push(n);return t},g=u(Object.prototype.toString);l="undefined"!=typeof ReturnValue?ReturnValue:function(e){this.value=e};var y="From previous event:";function b(e,n){if(t&&n.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf(y)){for(var r=[],i=n;i;i=i.source)i.stack&&r.unshift(i.stack);r.unshift(e.stack);var a=r.join("\n"+y+"\n");e.stack=function(e){for(var t=e.split("\n"),n=[],r=0;r<t.length;++r){var i=t[r];!w(i)&&(-1===(a=i).indexOf("(module.js:")&&-1===a.indexOf("(node.js:"))&&i&&n.push(i)}var a;return n.join("\n")}(a)}}function _(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function w(e){var t=_(e);if(!t)return!1;var r=t[0],a=t[1];return r===n&&a>=i&&a<=G}function k(){if(t)try{throw new Error}catch(U){var e=U.stack.split("\n"),r=_(e[0].indexOf("@")>0?e[1]:e[2]);if(!r)return;return n=r[0],r[1]}}function x(e){return e instanceof O?e:j(e)?(t=e,n=S(),x.nextTick(function(){try{t.then(n.resolve,n.reject,n.notify)}catch(e){n.reject(e)}}),n.promise):z(e);var t,n}function S(){var e,n=[],r=[],i=p(S.prototype),a=p(O.prototype);if(a.promiseDispatch=function(t,i,a){var o=c(arguments);n?(n.push(o),"when"===i&&a[1]&&r.push(a[1])):x.nextTick(function(){e.promiseDispatch.apply(e,o)})},a.valueOf=function(){if(n)return a;var t=P(e);return D(t)&&(e=t),t},a.inspect=function(){return e?e.inspect():{state:"pending"}},x.longStackSupport&&t)try{throw new Error}catch(U){a.stack=U.stack.substring(U.stack.indexOf("\n")+1)}function o(t){e=t,a.source=t,d(n,function(e,n){x.nextTick(function(){t.promiseDispatch.apply(t,n)})},void 0),n=void 0,r=void 0}return i.promise=a,i.resolve=function(t){e||o(x(t))},i.fulfill=function(t){e||o(z(t))},i.reject=function(t){e||o(F(t))},i.notify=function(t){e||d(r,function(e,n){x.nextTick(function(){n(t)})},void 0)},i}function M(e){if("function"!=typeof e)throw new TypeError("resolver must be a function.");var t=S();try{e(t.resolve,t.reject,t.notify)}catch(n){t.reject(n)}return t.promise}function E(e){return M(function(t,n){for(var r=0,i=e.length;r<i;r++)x(e[r]).then(t,n)})}function O(e,t,n){void 0===t&&(t=function(e){return F(new Error("Promise does not support operation: "+e))}),void 0===n&&(n=function(){return{state:"unknown"}});var r=p(O.prototype);if(r.promiseDispatch=function(n,i,a){var o;try{o=e[i]?e[i].apply(r,a):t.call(r,i,a)}catch(s){o=F(s)}n&&n(o)},r.inspect=n,n){var i=n();"rejected"===i.state&&(r.exception=i.reason),r.valueOf=function(){var e=n();return"pending"===e.state||"rejected"===e.state?r:e.value}}return r}function T(e,t,n,r){return x(e).then(t,n,r)}function P(e){if(D(e)){var t=e.inspect();if("fulfilled"===t.state)return t.value}return e}function D(e){return e instanceof O}function j(e){return(t=e)===Object(t)&&"function"==typeof e.then;var t}x.resolve=x,x.nextTick=o,x.longStackSupport=!1,"object"==typeof e&&e&&e.env&&e.env.Q_DEBUG&&(x.longStackSupport=!0),x.defer=S,S.prototype.makeNodeResolver=function(){var e=this;return function(t,n){t?e.reject(t):arguments.length>2?e.resolve(c(arguments,1)):e.resolve(n)}},x.Promise=M,x.promise=M,M.race=E,M.all=V,M.reject=F,M.resolve=x,x.passByCopy=function(e){return e},O.prototype.passByCopy=function(){return this},x.join=function(e,t){return x(e).join(t)},O.prototype.join=function(e){return x([this,e]).spread(function(e,t){if(e===t)return e;throw new Error("Can't join: not the same: "+e+" "+t)})},x.race=E,O.prototype.race=function(){return this.then(x.race)},x.makePromise=O,O.prototype.toString=function(){return"[object Promise]"},O.prototype.then=function(e,t,n){var r=this,i=S(),a=!1;return x.nextTick(function(){r.promiseDispatch(function(t){a||(a=!0,i.resolve(function(t){try{return"function"==typeof e?e(t):t}catch(n){return F(n)}}(t)))},"when",[function(e){a||(a=!0,i.resolve(function(e){if("function"==typeof t){b(e,r);try{return t(e)}catch(n){return F(n)}}return F(e)}(e)))}])}),r.promiseDispatch(void 0,"when",[void 0,function(e){var t,r=!1;try{t=function(e){return"function"==typeof n?n(e):e}(e)}catch(U){if(r=!0,!x.onerror)throw U;x.onerror(U)}r||i.notify(t)}]),i.promise},x.tap=function(e,t){return x(e).tap(t)},O.prototype.tap=function(e){return e=x(e),this.then(function(t){return e.fcall(t).thenResolve(t)})},x.when=T,O.prototype.thenResolve=function(e){return this.then(function(){return e})},x.thenResolve=function(e,t){return x(e).thenResolve(t)},O.prototype.thenReject=function(e){return this.then(function(){throw e})},x.thenReject=function(e,t){return x(e).thenReject(t)},x.nearer=P,x.isPromise=D,x.isPromiseAlike=j,x.isPending=function(e){return D(e)&&"pending"===e.inspect().state},O.prototype.isPending=function(){return"pending"===this.inspect().state},x.isFulfilled=function(e){return!D(e)||"fulfilled"===e.inspect().state},O.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},x.isRejected=function(e){return D(e)&&"rejected"===e.inspect().state},O.prototype.isRejected=function(){return"rejected"===this.inspect().state};var R,C,N,A=[],Y=[],L=!0;function I(){A.length=0,Y.length=0,L||(L=!0)}function F(e){var t=O({when:function(t){return t&&function(e){if(L){var t=f(Y,e);-1!==t&&(Y.splice(t,1),A.splice(t,1))}}(this),t?t(e):this}},function(){return this},function(){return{state:"rejected",reason:e}});return function(e,t){L&&(Y.push(e),t&&void 0!==t.stack?A.push(t.stack):A.push("(no stack) "+t))}(t,e),t}function z(e){return O({when:function(){return e},get:function(t){return e[t]},set:function(t,n){e[t]=n},delete:function(t){delete e[t]},post:function(t,n){return null==t?e.apply(void 0,n):e[t].apply(e,n)},apply:function(t,n){return e.apply(t,n)},keys:function(){return v(e)}},void 0,function(){return{state:"fulfilled",value:e}})}function H(e,t,n){return x(e).spread(t,n)}function B(e,t,n){return x(e).dispatch(t,n)}function V(e){return T(e,function(e){var t=0,n=S();return d(e,function(r,i,a){var o;D(i)&&"fulfilled"===(o=i.inspect()).state?e[a]=o.value:(++t,T(i,function(r){e[a]=r,0==--t&&n.resolve(e)},n.reject,function(e){n.notify({index:a,value:e})}))},void 0),0===t&&n.resolve(e),n.promise})}function W(e){return T(e,function(e){return e=h(e,x),T(V(h(e,function(e){return T(e,a,a)})),function(){return e})})}x.resetUnhandledRejections=I,x.getUnhandledReasons=function(){return A.slice()},x.stopUnhandledRejectionTracking=function(){I(),L=!1},I(),x.reject=F,x.fulfill=z,x.master=function(e){return O({isDef:function(){}},function(t,n){return B(e,t,n)},function(){return x(e).inspect()})},x.spread=H,O.prototype.spread=function(e,t){return this.all().then(function(t){return e.apply(void 0,t)},t)},x.async=function(e){return function(){function t(e,t){var a;if("undefined"==typeof StopIteration){try{a=n[e](t)}catch(o){return F(o)}return a.done?x(a.value):T(a.value,r,i)}try{a=n[e](t)}catch(o){return function(e){return"[object StopIteration]"===g(e)||e instanceof l}(o)?x(o.value):F(o)}return T(a,r,i)}var n=e.apply(this,arguments),r=t.bind(t,"next"),i=t.bind(t,"throw");return r()}},x.spawn=function(e){x.done(x.async(e)())},x.return=function(e){throw new l(e)},x.promised=function(e){return function(){return H([this,V(arguments)],function(t,n){return e.apply(t,n)})}},x.dispatch=B,O.prototype.dispatch=function(e,t){var n=this,r=S();return x.nextTick(function(){n.promiseDispatch(r.resolve,e,t)}),r.promise},x.get=function(e,t){return x(e).dispatch("get",[t])},O.prototype.get=function(e){return this.dispatch("get",[e])},x.set=function(e,t,n){return x(e).dispatch("set",[t,n])},O.prototype.set=function(e,t){return this.dispatch("set",[e,t])},x.del=x.delete=function(e,t){return x(e).dispatch("delete",[t])},O.prototype.del=O.prototype.delete=function(e){return this.dispatch("delete",[e])},x.mapply=x.post=function(e,t,n){return x(e).dispatch("post",[t,n])},O.prototype.mapply=O.prototype.post=function(e,t){return this.dispatch("post",[e,t])},x.send=x.mcall=x.invoke=function(e,t){return x(e).dispatch("post",[t,c(arguments,2)])},O.prototype.send=O.prototype.mcall=O.prototype.invoke=function(e){return this.dispatch("post",[e,c(arguments,1)])},x.fapply=function(e,t){return x(e).dispatch("apply",[void 0,t])},O.prototype.fapply=function(e){return this.dispatch("apply",[void 0,e])},x.try=x.fcall=function(e){return x(e).dispatch("apply",[void 0,c(arguments,1)])},O.prototype.fcall=function(){return this.dispatch("apply",[void 0,c(arguments)])},x.fbind=function(e){var t=x(e),n=c(arguments,1);return function(){return t.dispatch("apply",[this,n.concat(c(arguments))])}},O.prototype.fbind=function(){var e=this,t=c(arguments);return function(){return e.dispatch("apply",[this,t.concat(c(arguments))])}},x.keys=function(e){return x(e).dispatch("keys",[])},O.prototype.keys=function(){return this.dispatch("keys",[])},x.all=V,O.prototype.all=function(){return V(this)},x.allResolved=(R=W,C="allResolved",N="allSettled",function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(C+" is deprecated, use "+N+" instead.",new Error("").stack),R.apply(R,arguments)}),O.prototype.allResolved=function(){return W(this)},x.allSettled=function(e){return x(e).allSettled()},O.prototype.allSettled=function(){return this.then(function(e){return V(h(e,function(e){function t(){return e.inspect()}return(e=x(e)).then(t,t)}))})},x.fail=x.catch=function(e,t){return x(e).then(void 0,t)},O.prototype.fail=O.prototype.catch=function(e){return this.then(void 0,e)},x.progress=function(e,t){return x(e).then(void 0,void 0,t)},O.prototype.progress=function(e){return this.then(void 0,void 0,e)},x.fin=x.finally=function(e,t){return x(e).finally(t)},O.prototype.fin=O.prototype.finally=function(e){return e=x(e),this.then(function(t){return e.fcall().then(function(){return t})},function(t){return e.fcall().then(function(){throw t})})},x.done=function(e,t,n,r){return x(e).done(t,n,r)},O.prototype.done=function(t,n,r){var i=function(e){x.nextTick(function(){if(b(e,a),!x.onerror)throw e;x.onerror(e)})},a=t||n||r?this.then(t,n,r):this;"object"==typeof e&&e&&e.domain&&(i=e.domain.bind(i)),a.then(void 0,i)},x.timeout=function(e,t,n){return x(e).timeout(t,n)},O.prototype.timeout=function(e,t){var n=S(),r=setTimeout(function(){t&&"string"!=typeof t||((t=new Error(t||"Timed out after "+e+" ms")).code="ETIMEDOUT"),n.reject(t)},e);return this.then(function(e){clearTimeout(r),n.resolve(e)},function(e){clearTimeout(r),n.reject(e)},n.notify),n.promise},x.delay=function(e,t){return void 0===t&&(t=e,e=void 0),x(e).delay(t)},O.prototype.delay=function(e){return this.then(function(t){var n=S();return setTimeout(function(){n.resolve(t)},e),n.promise})},x.nfapply=function(e,t){return x(e).nfapply(t)},O.prototype.nfapply=function(e){var t=S(),n=c(e);return n.push(t.makeNodeResolver()),this.fapply(n).fail(t.reject),t.promise},x.nfcall=function(e){var t=c(arguments,1);return x(e).nfapply(t)},O.prototype.nfcall=function(){var e=c(arguments),t=S();return e.push(t.makeNodeResolver()),this.fapply(e).fail(t.reject),t.promise},x.nfbind=x.denodeify=function(e){var t=c(arguments,1);return function(){var n=t.concat(c(arguments)),r=S();return n.push(r.makeNodeResolver()),x(e).fapply(n).fail(r.reject),r.promise}},O.prototype.nfbind=O.prototype.denodeify=function(){var e=c(arguments);return e.unshift(this),x.denodeify.apply(void 0,e)},x.nbind=function(e,t){var n=c(arguments,2);return function(){var r=n.concat(c(arguments)),i=S();return r.push(i.makeNodeResolver()),x(function(){return e.apply(t,arguments)}).fapply(r).fail(i.reject),i.promise}},O.prototype.nbind=function(){var e=c(arguments,0);return e.unshift(this),x.nbind.apply(void 0,e)},x.nmapply=x.npost=function(e,t,n){return x(e).npost(t,n)},O.prototype.nmapply=O.prototype.npost=function(e,t){var n=c(t||[]),r=S();return n.push(r.makeNodeResolver()),this.dispatch("post",[e,n]).fail(r.reject),r.promise},x.nsend=x.nmcall=x.ninvoke=function(e,t){var n=c(arguments,2),r=S();return n.push(r.makeNodeResolver()),x(e).dispatch("post",[t,n]).fail(r.reject),r.promise},O.prototype.nsend=O.prototype.nmcall=O.prototype.ninvoke=function(e){var t=c(arguments,1),n=S();return t.push(n.makeNodeResolver()),this.dispatch("post",[e,t]).fail(n.reject),n.promise},x.nodeify=function(e,t){return x(e).nodeify(t)},O.prototype.nodeify=function(e){if(!e)return this;this.then(function(t){x.nextTick(function(){e(null,t)})},function(t){x.nextTick(function(){e(t)})})};var G=k();return x})}).call(this,e("_process"),e("timers").setImmediate)},{_process:169,timers:172}],171:[function(e,t,n){var r;r=function(){"use strict";var t=window.Q||e("q"),n=window.requestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};return function(e){var r=t.defer();return n(function(){try{r.resolve(e())}catch(t){r.reject(t)}}),r.promise}},"object"==typeof n?t.exports=r():window.QanimationFrame=r()},{q:170}],172:[function(e,t,n){(function(t,r){var i=e("process/browser.js").nextTick,a=Function.prototype.apply,o=Array.prototype.slice,s={},u=0;function l(e,t){this._id=e,this._clearFn=t}n.setTimeout=function(){return new l(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new l(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,r=!(arguments.length<2)&&o.call(arguments,1);return s[t]=!0,i(function(){s[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete s[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":169,timers:172}],173:[function(e,t,n){"use strict";var r=document.createElement("p").style,i="O ms Moz webkit".split(" "),a=/^(o|ms|moz|webkit)/,o={};function s(e){return e in o?o[e]:o[e]=function(e){var t,n=e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}),a=i.length;if(void 0!==r[n])return n;o=e,n=o.charAt(0).toUpperCase()+o.slice(1);var o;for(;a--;)if(t=i[a]+n,void 0!==r[t])return t;throw new Error("unable to prefix "+e)}(e)}t.exports=s,t.exports.dash=function(e){var t=s(e),n=/([A-Z])/g;return n.test(t)&&(t=(a.test(t)?"-":"")+t.replace(n,"-$1")),t.toLowerCase()}},{}],174:[function(e,t,n){"use strict";var r=e("q"),i=e("qanimationframe"),a=e("vendor-prefix"),o=e("../src/normalize-transform-value"),s=e("../src/transition-shorthand-property"),u=a("transition"),l="WebkitTransition"in document.body.style?"webkitTransitionEnd":"transitionend",c=function(e,t,n){return e._zanimo&&e._zanimo.hasOwnProperty(t)&&(e._zanimo[t].defer.reject(new Error("Zanimo transition with transform="+e._zanimo[t].value+" stopped by transform="+n)),e._zanimo[t].cb()),function(e,t,n){return i(function(){return e.style[a.dash(t)]=n,e})}(e,t,n)},d=function(e,t,n,c,d){var f,h=a.dash(t),p=r.defer(),m=function(n){f&&(clearTimeout(f),f=null),function(e,t){e.style[u]=e.style[u].split(",").filter(function(e){return!e.match(t)}).join(",")}(e,t),e.removeEventListener(l,v),n&&delete e._zanimo[t]},v=function(t){a(t.propertyName)===a(h)&&(m(!0),p.resolve(e))};return e.addEventListener(l,v),i(function(){!function(e,t,n,r,i){var o=e.style[u];t=a.dash(t),e.style[u]=o?o+", "+s(t,r,i):s(t,r,i),e.style[a(t)]=n}(e,t,o(n),c,d),f=setTimeout(function(){var r=e.style.getPropertyValue(h),i=o(r),a=o(n);m(!0),i===a?p.resolve(e):p.reject(new Error("Zanimo transition: with "+t+" = "+a+", DOM value="+i))},c+20),e._zanimo=e._zanimo||{},e._zanimo[t]&&(e._zanimo[t].defer.reject(new Error("Zanimo transition with "+t+"="+e._zanimo[t].value+" stopped by transition with "+t+"="+n)),e._zanimo[t].cb()),e._zanimo[t]={cb:m,value:n,defer:p}}),p.promise},f=function(e,t,n,i,o){var s=arguments,u=arguments.length;if(0===u||2===u||u>5)return r.reject(new Error("Zanimo invalid arguments"));if(r.isPromise(e))return e.then(function(e){return f.apply(this,[e].concat(Array.prototype.slice.call(s,1)))});if(!function(e){try{return e&&e.nodeType}catch(t){return!1}}(e))return r.reject(new Error("Zanimo require an HTMLElement, or a promise of an HTMLElement"));if(1===u)return r(e);try{a.dash(t)}catch(l){return r.reject(new Error("Zanimo transition: "+t+" is not supported!"))}return 3===u?c(e,t,n):window.isNaN(parseInt(i,10))?r.reject(new Error("Zanimo transition: duration must be an integer!")):d(e,t,n,i,o)};f.f=function(e,t,n,r){var i=Array.prototype.slice.call(arguments);return function(e){return f.apply(this,[e].concat(i))}},t.exports=f},{"../src/normalize-transform-value":176,"../src/transition-shorthand-property":177,q:170,qanimationframe:171,"vendor-prefix":173}],175:[function(e,t,n){"use strict";var r=/(\(.+?\))/g,i=/ +/g,a=function(e){return"("+e.substr(1,e.length-2).split(",").map(function(e){return parseFloat(e.replace(i,""))}).join(",")+")"};t.exports=function(e){return"string"==typeof e?e.replace(i," ").replace(r,a):e}},{}],176:[function(e,t,n){"use strict";var r=e("color"),i=/(\(.+?\))/g,a=/(\brgba\b|\bhsl\b|\bhsla\b)(\(.+?\))/g,o=/ +/g,s=/^0px$/g,u=function(e){return"("+e.substr(1,e.length-2).split(",").map(function(e){return e.replace(o,"").replace(s,"0")}).join(",")+")"},l=function(e){var t=r(e);return t.alpha()&&t.alpha(Math.round(10*t.alpha())/10),t.rgbString()};t.exports=function(e){return null==e?"":window.isNaN(e)?function(e){return e.replace(o," ").replace(a,l).replace(i,u)}(e):e.toString()}},{color:6}],177:[function(e,t,n){"use strict";var r=e("vendor-prefix"),i=e("./normalize-transform-value"),a=e("./normalize-timing-function"),o=r.dash("transition"),s=document.createElement("div"),u=i("opacity 100ms linear 0s"),l=function(e,t,n){return e+" "+t+"ms "+(n||"linear")};s.style[o]=u,i(s.style[o])===u&&(l=function(e,t,n){return e+" "+t+"ms "+(a(n)||"linear")+" 0s"}),t.exports=l},{"./normalize-timing-function":175,"./normalize-transform-value":176,"vendor-prefix":173}],178:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=l;var r=s(e("lodash/isFunction")),i=s(e("./i18n")),a=e("./utils"),o=s(e("mithril"));function s(e){return e&&e.__esModule?e:{default:e}}var u=[];function l(){var e=u.pop();(0,r.default)(e)?(e("backbutton"),o.default.redraw()):/^\/$/.test(o.default.route())?window.navigator.app.exitApp():/^\/game\/[a-zA-Z0-9]{12}/.test(o.default.route())?navigator.notification.confirm((0,i.default)("thereIsAGameInProgress"),function(e){1===e&&(0,a.backHistory)()}):(0,a.backHistory)()}l.stack=u},{"./i18n":180,"./utils":246,"lodash/isFunction":145,mithril:167}],179:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.apiVersion=void 0,n.request=function(e,t,n,o){var s={url:"http://"+u+e,method:"GET",data:{},config:o||d,deserialize:function(e){try{return JSON.parse(e)}catch(t){throw{response:{error:"Cannot read data from the server"}}}},unwrapError:function(e,t){return{response:e,status:t.status}}};(0,r.default)(s,t),"GET"===s.method&&(s.data._=Date.now());var f=a.default.request(s);return n?(i.default.spin(document.body),f.then(l,c)):f};var r=o(e("lodash/merge")),i=o(e("./spinner")),a=o(e("mithril"));function o(e){return e&&e.__esModule?e:{default:e}}var s=n.apiVersion=1,u=window.oyunkeyf.apiEndPoint;function l(e){return i.default.stop(),e}function c(e){throw i.default.stop(),e}function d(e){e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("Accept","application/vnd.oyunkeyf.v"+s+"+json"),e.withCredentials=!0,e.timeout=8e3}},{"./spinner":188,"lodash/merge":156,mithril:167}],180:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){for(var t=o[e]||s[e]||e,n=1;n<arguments.length;++n)t=t.replace("%s",arguments[n]);return t},n.loadPreferredLanguage=function(){if(r.default.general.lang())return l();var e=i.default.deferred();return window.navigator.globalization.getPreferredLanguage(function(t){return e.resolve(t.value.split("-")[0])},function(){return e.resolve(u)}),e.promise.then(function(e){return r.default.general.lang(e),e}).then(c).then(d)},n.getAvailableLanguages=function(){return i.default.request({url:"i18n/refs.json",method:"GET"}).then(function(e){return e},function(e){if(e&&"tr"===e[0][0])return e;throw{error:"Cannot load languages"}})},n.loadFromSettings=l;var r=a(e("./settings")),i=a(e("mithril"));function a(e){return e&&e.__esModule?e:{default:e}}var o=[],s={},u="tr";function l(){return c(r.default.general.lang()).then(d)}function c(e){return i.default.request({url:"i18n/"+e+".json",method:"GET",deserialize:function(e){try{return JSON.parse(e)}catch(t){throw{error:"Lang not available"}}}}).then(function(t){return o=t,e},function(t){if(t&&t.playWithAFriend)return o=t,e;if(e===u)throw new Error(t);return c(u)})}function d(e){if("en"!==e){var t=document.createElement("script");t.src="moment/locale/"+e+".js",document.head.appendChild(t)}return window.moment.locale(e),e}},{"./settings":186,mithril:167}],181:[function(e,t,n){"use strict";var r=m(e("moment")),i=m(e("mithril")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./utils")),o=m(e("./session")),s=m(e("./settings")),u=e("./i18n"),l=e("./xhr"),c=m(e("./ui/helper")),d=m(e("./backbutton")),f=m(e("./socket")),h=m(e("./routes")),p=e("./utils/appMode");function m(e){return e&&e.__esModule?e:{default:e}}function v(){h.default.init(),c.default.viewportDim(),a.hasNetwork()&&g(),document.addEventListener("online",g,!1),document.addEventListener("offline",y,!1),document.addEventListener("resume",_,!1),document.addEventListener("pause",w,!1),document.addEventListener("backbutton",d.default,!1),window.addEventListener("unload",function(){f.default.destroy(),f.default.terminate()}),window.addEventListener("resize",b,!1),"android"===cordova.platformId&&window.StatusBar.backgroundColorByHexString("#151A1E"),setTimeout(function(){window.navigator.splashscreen.hide(),window.StatusBar.hide()},500)}function g(){(0,p.isForeground)()&&o.default.rememberLogin().then(function(){i.default.redraw()}).then(function(){return(0,l.setServerLang)(s.default.general.lang())})}function y(){(0,p.isForeground)()&&(f.default.disconnect(),i.default.redraw())}function b(){c.default.clearCachedViewportDim(),i.default.redraw()}function _(){(0,p.setForeground)(),f.default.connect()}function w(){(0,p.setBackground)(),f.default.disconnect()}window.moment=r.default,document.addEventListener("deviceready",function(){return(0,u.loadPreferredLanguage)().then(v)},!1)},{"./backbutton":178,"./i18n":180,"./routes":184,"./session":185,"./settings":186,"./socket":187,"./ui/helper":196,"./utils":246,"./utils/appMode":245,"./xhr":247,mithril:167,moment:168}],182:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("../i18n")),i=a(e("./status"));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return e.game.status.id<i.default.ids.aborted}function s(e){return o(e)&&!e.player.spectator}function u(e){return s(e)&&e.game.player===e.player.side}function l(e,t){return["player","opponentLeft","opponentRight","opponentUp"].map(function(t){return e[t]}).filter(function(e){return e.side===t})[0]}var c=["east","north","west","south"];n.default={isPlayerPlaying:s,isPlayerTurn:u,getPlayer:l,sideByPly:function(e){return c[e%4]},playable:o,setOnGame:function(e,t,n){l(e,t).onGame=n},title:function(e){return u(e)?(0,r.default)("yourTurn"):(0,r.default)("waitingForOpponent")},result:function(e){return i.default.aborted(e)?(0,r.default)("gameAborted"):i.default.finished(e)?(0,r.default)("gameFinished"):void 0}}},{"../i18n":180,"./status":183}],183:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=e("../i18n"),a=(r=i)&&r.__esModule?r:{default:r};var o={created:10,started:20,aborted:25,middleEnd:30,normalEnd:40,variantEnd:70};function s(e){return e.game.status.id>=o.started}function u(e){return e.game.status.id>=o.middleEnd}function l(e){return e.game.status.id===o.aborted}n.default={ids:o,started:s,finished:u,aborted:l,playing:function(e){return s(e)&&!u(e)&&!l(e)},middleEnd:function(e){return e.game.status.id===o.middleEnd},toLabel:function(e,t,n){switch(e){case"started":return(0,a.default)("playingRightNow");case"aborted":return(0,a.default)("gameAborted");case"middleEnd":return(0,a.default)("gameMiddleFinished");case"normalEnd":case"variantEnd":return(0,a.default)("gameFinished")}}}},{"../i18n":180}],184:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=h(e("./ui/helper")),i=h(e("./ui/home")),a=h(e("./ui/game")),o=h(e("./ui/user")),s=h(e("./ui/players")),u=h(e("./ui/masa/detail")),l=h(e("./ui/masa")),c=h(e("./ui/settings")),d=h(e("./ui/settings/lang")),f=h(e("mithril"));function h(e){return e&&e.__esModule?e:{default:e}}var p=r.default.slidingPage,m=r.default.fadingPage;n.default={init:function(){f.default.route(document.body,"/",{"/":m(i.default),"/@/:id":p(o.default),"/players":m(s.default),"/game/:id":a.default,"/masa":m(l.default),"/masa/:id":m(u.default),"/masa/:masaId/game/:id":m(a.default),"/settings":p(c.default),"/settings/lang":p(d.default)})}}},{"./ui/game":192,"./ui/helper":196,"./ui/home":199,"./ui/masa":207,"./ui/masa/detail":203,"./ui/players":215,"./ui/settings":230,"./ui/settings/lang":231,"./ui/user":241,mithril:167}],185:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./http"),i=e("./utils"),a=l(e("./i18n")),o=l(e("./settings")),s=l(e("lodash/throttle")),u=l(e("mithril"));function l(e){return e&&e.__esModule?e:{default:e}}var c=null;function d(){return!!c}n.default={isConnected:d,signup:function(e,t,n){return(0,r.request)("/signup",{method:"POST",data:{username:e,email:t,password:n}},!0).then(function(e){return c=e})},logout:function(){return(0,r.request)("/logout",{},!0).then(function(){c=null},function(e){throw(0,i.handleXhrError)(e),e})},login:(0,s.default)(function(e,t){return(0,r.request)("/login",{method:"POST",data:{username:e,password:t}},!0).then(function(e){return c=e})},1e3),rememberLogin:(0,s.default)(function(){return(0,r.request)("/account/info",{background:!0}).then(function(e){return c=e,e})},1e3),refresh:(0,s.default)(function(){return(0,i.hasNetwork)()&&d()?(0,r.request)("/account/info",{background:!0}).then(function(e){return c=e,u.default.redraw(),c},function(e){throw c&&401===e.status&&(c=null,u.default.redraw(),window.plugins.toast.show((0,a.default)("signedOut"),"short","center")),e}):Promise.resolve(!1)},1e3),get:function(){return c},getUserId:function(){return c&&c.id?c.id:null},nowPlaying:function(){return(c&&c.nowPlaying||[]).filter(function(e){return-1!==o.default.game.supportedVariants.indexOf(e.variant.key)})}}},{"./http":179,"./i18n":180,"./settings":186,"./utils":246,"lodash/throttle":162,mithril:167}],186:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=i(e("./storage"));i(e("lodash/range"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return function(){arguments.length&&r.default.set(e,arguments[0]);var n=r.default.get(e);return null!==n?n:t}}n.default={general:{lang:a("settings.lang"),theme:{background:a("settings.bgTheme","dark")}},game:{supportedVariants:["standard","yuzbir","duzokey"]},gameSetup:{availableRounds:[1,5,10,15,20,25,30].map(function(e){return[e.toString(),e.toString()]}),isRoundValid:function(e){return"0"!==e.rounds()},human:{availableVariants:[["101 Okey","1"],["Düz Okey","3"]],variant:a("settings.game.human.variant","1"),rounds:a("settings.game.human.rounds","1"),mode:a("settings.game.human.mode","0"),membersOnly:a("settings.game.human.membersOnly",!1)}}}},{"./storage":189,"lodash/range":159}],187:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("./storage")),i=e("./utils"),a=o(e("mithril"));function o(e){return e&&e.__esModule?e:{default:e}}var s=new Worker("lib/socketWorker.js"),u=void 0,l=!1,c=!0,d=!1,f=void 0,h=void 0,p="Oyunkeyf sunucularına bağlantı koptu. Problem sürekli yaşanıyorsa proxy yada network'la ilgili olabilir.",m={};s.addEventListener("message",function(e){switch(e.data.topic){case"onOpen":u.onOpen&&u.onOpen();break;case"disconnected":o=c,c=!1,o&&(f=setTimeout(function(){a.default.redraw()},2e3)),!o||d||r.default.get("donotshowproxyfailwarning")||(h=setTimeout(function(){(0,i.hasNetwork)()&&!c&&(d=!0,window.navigator.notification.alert(p,function(){r.default.set("donotshowproxyfailwarning",!0)}))},2e4));break;case"connected":n=!c,c=!0,clearTimeout(h),clearTimeout(f),n&&a.default.redraw();break;case"onError":u.onError&&u.onError();break;case"handle":var t=u.events[e.data.payload.t];t&&t(e.data.payload.d||null,e.data.payload)}var n,o}),n.default={createDefault:function(){if((0,i.hasNetwork)()){u={events:m};var e={options:{name:"default",debug:!1,pingDelay:2e3,registeredEvents:Object.keys(u.events)}};(0,i.tellWorker)(s,"create",{clientId:i.oyunkeyfSri,socketEndPoint:window.oyunkeyf.socketEndPoint,url:"/socket",version:0,opts:e})}},createMasa:function(e,t,n){var r="/masa/"+e+"/socket/v1";u={events:Object.assign({},m,n)};var a={options:{name:"masa",debug:!1,pingDelay:2e3,registeredEvents:Object.keys(u.events)}};(0,i.tellWorker)(s,"create",{clientId:i.oyunkeyfSri,socketEndPoint:window.oyunkeyf.socketEndPoint,url:r,version:t,opts:a})},createMasaHome:function(e){u={events:Object.assign({},m,e)};var t={params:{flag:"masa"},options:{name:"masaHome",debug:!1,pingDelay:2e3,registeredEvents:Object.keys(u.events)}};(0,i.tellWorker)(s,"create",{clientId:i.oyunkeyfSri,socketEndPoint:window.oyunkeyf.socketEndPoint,url:"/socket",version:0,opts:t})},createGame:function(e,t,n,r){l=!1,u={onError:function(){l||(l=!0,xhr.game(r.substring(1)).then(function(){},function(e){401===e.status&&(window.plugins.toast.show(i18n("unauthorizedError"),"short","center"),a.default.route("/"))}))},events:Object.assign({},m,n)};var o={options:{name:"game",debug:!1,registeredEvents:Object.keys(u.events)}};(0,i.tellWorker)(s,"create",{clientId:i.oyunkeyfSri,socketEndPoint:window.oyunkeyf.socketEndPoint,url:e,version:t,opts:o})},createLobby:function(e,t,n){u={onOpen:t,events:Object.assign({},m,n)};var r={options:{name:"lobby",debug:!1,pingDelay:2e3,registeredEvents:Object.keys(u.events)}};(0,i.tellWorker)(s,"create",{clientId:i.oyunkeyfSri,socketEndPoint:window.oyunkeyf.socketEndPoint,url:"/lobby/socket/v1",version:e,opts:r})},setVersion:function(e){(0,i.tellWorker)(s,"setVersion",e)},send:function(e,t,n){(0,i.tellWorker)(s,"send",[e,t,n])},connect:function(){(0,i.tellWorker)(s,"connect")},disconnect:function(){(0,i.tellWorker)(s,"disconnect")},isConnected:function(){return c},destroy:function(){(0,i.tellWorker)(s,"destroy")},terminate:function(){s&&s.terminate()}}},{"./storage":189,"./utils":246,mithril:167}],188:[function(e,t,n){"use strict";var r;Object.defineProperty(n,"__esModule",{value:!0}),n.default={spin:function(){if(r||document.getElementsByClassName("globalSpinner").length>0)return!1;var e=document.createElement("div");e.className="spinner globalSpinner";var t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttribute("viewBox","0 0 40 40");var n=document.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("cx","20"),n.setAttribute("cy","20"),n.setAttribute("r","18"),n.setAttribute("fill","none"),t.appendChild(n),e.appendChild(t),r=setTimeout(function(){return document.body.appendChild(e)},200)},stop:function(){clearTimeout(r),r=null;var e=document.getElementsByClassName("globalSpinner");e.length&&setTimeout(function(){for(;e[0];)document.body.removeChild(e[0])},500)},getVdom:function(e){return React.createElement("div",{class:"spinner "+e},React.createElement("svg",{viewBox:"0 0 40 40"},React.createElement("circle",{cx:"20",cy:"20",r:"18",fill:"none"})))}}},{}],189:[function(e,t,n){"use strict";function r(e){try{return window.localStorage?e(window.localStorage):null}catch(t){}}Object.defineProperty(n,"__esModule",{value:!0}),n.default={get:function(e){return r(function(t){return JSON.parse(t.getItem(e))})},remove:function(e){return r(function(t){t.removeItem(e)})},set:function(e,t){return r(function(n){n.removeItem(e),n.setItem(e,JSON.stringify(t))})}}},{}],190:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e;(0,r.hasNetwork)()&&(0,i.game)(o.default.route.param("id")).then(function(t){t,e=new a.default(t)},function(e){(0,r.handleXhrError)(e),o.default.route("/")});return{onunload:function(){e&&(e.onunload(),e=null)},getRound:function(){return e}}};var r=e("../../utils"),i=e("../../xhr"),a=s(e("../round/roundCtrl")),o=s(e("mithril"));function s(e){return e&&e.__esModule?e:{default:e}}},{"../../utils":246,"../../xhr":247,"../round/roundCtrl":224,mithril:167}],191:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){if(e.getRound())return(0,r.default)(e.getRound())};var r=i(e("../round/view/roundView"));i(e("mithril"));function i(e){return e&&e.__esModule?e:{default:e}}},{"../round/view/roundView":229,mithril:167}],192:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("./gameCtrl")),i=a(e("./gameView"));function a(e){return e&&e.__esModule?e:{default:e}}n.default={controller:r.default,view:i.default}},{"./gameCtrl":190,"./gameView":191}],193:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});f(e("./shared/popup")),f(e("./shared/form"));var r=f(e("../i18n")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils")),a=f(e("./newGameForm")),o=f(e("./helper")),s=f(e("iscroll")),u=(f(e("../settings")),f(e("../session"))),l=f(e("../backbutton")),c=(f(e("./lobby")),f(e("mithril"))),d=f(e("./shared/ViewOnlyBoard"));function f(e){return e&&e.__esModule?e:{default:e}}var h=null,p={};function m(e,t,n,r){var i=e?e.innerW/(4/3):0,a=e?e.innerW:0,o=e?{height:i+"px"}:{},s=e?{width:a,height:i}:null;return React.createElement("div",{className:"boardWrapper",style:o},c.default.component(d.default,{bounds:s,fen:t,orientation:n,variant:r}))}function v(e,t,n){i.gameIcon(e.perf);var a=["card","standard"].join(" "),s=["timeIndication",e.isMyTurn?"myTurn":"opponentTurn"].join(" "),u=o.default.ontouchX(function(){return function(e){p.close(),c.default.route("/game/"+e.fullId)}(e)});return React.createElement("div",{className:a,key:"game."+e.gameId,style:n,config:u},m(t,e.fen,e.side,e.variant),React.createElement("div",{className:"infos"},React.createElement("div",{className:"description"},React.createElement("p",null,React.createElement("span",{className:"variant"},e.variant.name),React.createElement("span",{className:s},function(e){return e.isMyTurn?(0,r.default)("yourTurn"):(0,r.default)("waitingForOpponent")}(e))))))}function g(e){var t=u.default.nowPlaying(),n=e?{width:e.w-2*e.margin+"px",height:e.h+"px",marginLeft:e.margin+"px",marginRight:e.margin+"px"}:{},s=i.hasNetwork()?t.length+1:0,l=void 0;e&&(l={width:(e.w+2*e.margin)*s+2*e.margin+"px",marginLeft:3*e.margin+"px"});var d=t.map(function(t){return v(t,e,n)});if(!o.default.isWideScreen()){var f=React.createElement("div",{className:"card standard",key:"game.new-game",style:n,config:o.default.ontouchX(function(){p.close(),a.default.open()})},m(e),React.createElement("div",{className:"infos"},React.createElement("div",{className:"description"},React.createElement("h2",{className:"title"},(0,r.default)("createAGame")),React.createElement("p",null,(0,r.default)("newOpponent")))));i.hasNetwork()&&d.unshift(f)}return(0,c.default)("div#all_games",{style:l},d)}p.isOpen=!1,p.open=function(){l.default.stack.push(p.close),p.isOpen=!0,setTimeout(function(){i.hasNetwork()&&h&&h.goToPage(1,0)},400),u.default.refresh()},p.close=function(e){"backbutton"!==e&&p.isOpen&&l.default.stack.pop(),p.isOpen=!1},p.view=function(){if(!p.isOpen)return null;var e=o.default.viewportDim().vh,t=(o.default.viewportDim(),{w:220,h:220,innerW:200,margin:10}),n=o.default.isWideScreen()?{}:{top:(e-t.h)/2+"px"},a=o.default.isWideScreen()?i.noop:function(e,t,n){t||(h=new s.default(e,{scrollX:!0,scrollY:!1,momentum:!1,snap:".card",snapSpeed:400,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT|LABEL)$/}}),n.unonload=function(){h&&(h.destroy(),h=null)}),h.options.snap=e.querySelectorAll(".card"),h.refresh()},l=o.default.isWideScreen(),c=l?"overlay_popup":"";return React.createElement("div",{id:"games_menu",className:"overlay_popup_wrapper"},React.createElement("div",{className:"wrapper_overlay_close",config:o.default.ontouch(o.default.fadesOut(p.close,".overlay_popup_wrapper"))}),React.createElement("div",{id:"wrapper_games",className:c,style:n,config:a},l?React.createElement("header",null,(0,r.default)("nbGamesInPlay",u.default.nowPlaying().length)):null,l?React.createElement("div",{className:"popup_content"},g(null)):g(t)))},n.default=p},{"../backbutton":178,"../i18n":180,"../session":185,"../settings":186,"../utils":246,"./helper":196,"./lobby":201,"./newGameForm":214,"./shared/ViewOnlyBoard":234,"./shared/form":236,"./shared/popup":238,iscroll:7,mithril:167}],194:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,a){return function(o,s,u){var l,c,d;if(o.nodeType)return h(o,s,u);if(o.attrs)return f(o);if(o.view)return{controller:o.controller||r.noop,view:function(e){return f(o.view(e))}};function f(e){return e?(l=e.attrs.config,e.attrs.config=h,e):null}function h(o,s,u){var f,h;return l&&(f=l(o,s,u),h=u.onunload),s||((e&&n||i)&&e(o,r.noop,u),u.onunload=t?h?function(){p(),h()}:p:h,c=o.parentElement,d=o.nextSibling),f;function p(){var e=a?o:o.cloneNode(!0),n=null;d&&c&&d.parentNode===c&&(n=d),i=!0,setTimeout(function(){i=!1},0),c.insertBefore(e,n),t(e,function(){c.contains(e)&&c.removeChild(e)},u)}}}};var r=e("../../utils"),i=!1},{"../../utils":246}],195:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,r,i,c,d){var f=void 0,h=void 0,p=void 0,m=void 0,v=void 0,g=void 0,y=void 0;if("function"!=typeof t)throw new Error("ButtonHandler 2nd argument must be a function!");if(n&&"function"!=typeof n)throw new Error("ButtonHandler 3rd argument must be a function!");if(r&&"function"!=typeof r)throw new Error("ButtonHandler 4rd argument must be a function!");function b(){var e=r();y=setTimeout(b,s),e||clearTimeout(y),a.default.redraw()}function _(){n&&(n(),m=!1,e.classList.remove(l))}e.addEventListener("touchstart",function(t){var n=t.changedTouches[0],i=e.getBoundingClientRect();f=n.clientX,h=n.clientY,p={minX:i.left,maxX:i.right,minY:i.top,maxY:i.bottom},m=!0,setTimeout(function(){m&&e.classList.add(l)},200),"ios"===window.cordova.platformId&&(v=setTimeout(_,o));clearTimeout(y),r&&(g=setTimeout(function(){y=setTimeout(b,s)},150))},!1),e.addEventListener("touchmove",function(t){if(m){var n=t.changedTouches[0];(m=function(e){var t=e.clientX,n=e.clientY,r=p,a=0;i&&(a=Math.abs(t-f));c&&(a=Math.abs(n-h));return t<r.maxX&&t>r.minX&&n<r.maxY&&n>r.minY&&a<u}(n))||(clearTimeout(v),clearTimeout(g),clearTimeout(y),e.classList.remove(l))}},!1),e.addEventListener("touchend",function(n){n.cancelable&&n.preventDefault();clearTimeout(g),clearTimeout(y),m&&(clearTimeout(v),d&&e.classList.add(l),t(n),m=!1,setTimeout(function(){return e.classList.remove(l)},80))},!1),e.addEventListener("touchcancel",function(){clearTimeout(v),clearTimeout(g),clearTimeout(y),m=!1,e.classList.remove(l)},!1),e.addEventListener("contextmenu",function(e){e.preventDefault(),e.stopPropagation(),void 0===v&&_()},!1)};var r,i=e("mithril"),a=(r=i)&&r.__esModule?r:{default:r};var o=600,s=20,u=8,l="active"},{mithril:167}],196:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=u(e("zanimo")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../../utils")),a=u(e("./button")),o=u(e("./animator")),s=u(e("mithril"));function u(e){return e&&e.__esModule?e:{default:e}}var l=void 0,c=void 0,d=null;function f(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1}function h(e,t,n,r,o,u){return function(l,c){c||(0,a.default)(l,function(t){s.default.startComputation();try{e(t)}finally{s.default.endComputation()}},t?function(){return i.autoredraw(t)}:null,n,r,o,u)}}function p(){if(d)return d;var e=document.documentElement;return d={vw:e.clientWidth,vh:e.clientHeight}}n.default={slidingPage:(0,o.default)(function(e,t){if(s.default.route()!==l){l=s.default.route();var n="fwd"===i.getViewSlideDirection()?"100%":"-100%";e.style.transform="translate3d("+n+",0,0)",e.style.transition="transform 200ms ease-out",setTimeout(function(){e.style.transform="translate3d(0%,0,0)"}),e.addEventListener("transitionend",function(){i.setViewSlideDirection("fwd"),e.removeAttribute("style"),t()},!1)}else t()},function(e,t){if(s.default.route()!==l){var n="fwd"===i.getViewSlideDirection()?"-100%":"100%";e.style.transform="translate3d(0%,0,0)",e.style.transition="transform 200ms ease-out",setTimeout(function(){e.style.transform="translate3d("+n+",0,0)"}),e.addEventListener("transitionend",function(){i.setViewSlideDirection("fwd"),t()},!1)}else t()}),fadingPage:(0,o.default)(function(e,t){var n;function r(){clearTimeout(n),e&&(e.removeAttribute("style"),e.removeEventListener("transitioned",r,!1)),t()}e.style.opacity="0.5",e.style.transition="opacity 200ms ease-out",setTimeout(function(){e.style.opacity="1"}),e.addEventListener("transitioned",r,!1),n=setTimeout(r,250)},function(e,t){var n;function r(){clearTimeout(n),t()}e.style.opacity="1",e.style.transition="opacity 200ms ease-out, visibility 0s linear 200ms",setTimeout(function(){e.style.opacity="0",e.style.visibility="hidden"}),e.addEventListener("transitioned",r,!1),n=setTimeout(r,250)}),viewportDim:p,clearCachedViewportDim:function(){d=null},transformProp:function(){return c||(c="transform"in document.body.style?"transform":"webkitTransform"in document.body.style?"webkitTransform":"mozTransform"in document.body.style?"mozTransform":"oTransform"in document.body.style?"oTransform":"msTransform"),c},slidesInUp:function(e,t,n){t||(e.style.transform="translateY(100%)",n.lol=e.offsetHeight,(0,r.default)(e,"transform","translateY(0)",250,"ease-out").catch(console.log.bind(console)))},slidesOutDown:function(e,t){return function(){var n=document.getElementById(t);return s.default.redraw.strategy("none"),(0,r.default)(n,"transform","translateY(100%)",250,"ease-out").then(i.autoredraw.bind(null,e)).catch(e)}},fadesOut:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:150;return function(a){a.stopPropagation();var o=t?function(e,t){for(var n=document.querySelectorAll(t),r=e.parentNode;r&&!f(n,r);)r=r.parentNode;return r}(a.target,t):a.target;return s.default.redraw.strategy("none"),(0,r.default)(o,"opacity",0,n).then(function(){return i.autoredraw(e)}).catch(console.log.bind(console))}},ontouch:function(e,t,n){return h(e,t,n,!1,!1,!(arguments.length>3&&void 0!==arguments[3])||arguments[3])},ontouchX:function(e,t){return h(e,t,null,!0,!1,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])},ontouchY:function(e,t){return h(e,t,null,!1,!0,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])},classSet:function(e){var t=[];for(var n in e)e[n]&&t.push(n);return t.join(" ")},isWideScreen:function(){return p().vw>=600},isIpadLike:function(){var e=p(),t=e.vh,n=e.vw;return t>=700&&n<=1050},isPortrait:function(){return window.matchMedia("(orientation: portrait)").matches},isLandscape:function(){return window.matchMedia("(orientation: landscape)").matches},progress:function(e){return 0===e?null:(0,s.default)("span",{className:"progress "+(e>0?"positive":"negative"),"data-icon":e>0?"N":"M"},Math.abs(e))}}},{"../../utils":246,"./animator":194,"./button":195,mithril:167,zanimo:174}],197:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=s.default.prop(),t=s.default.prop();function n(){(0,o.isForeground)()&&(0,i.lobby)(!0).then(function(n){r.default.createLobby(n.lobby.version,a.noop,{n:function(n,r){e(r.d),t(r.r),s.default.redraw()}})})}function u(){(0,o.setForeground)(),n()}(0,a.hasNetwork)()&&n();return document.addEventListener("online",n),document.addEventListener("resume",u),{nbConnectedPlayers:e,nbGamesInPlay:t,onunload:function(){r.default.destroy(),document.removeEventListener("online",n),document.removeEventListener("resume",u)}}};var r=u(e("../../socket")),i=e("../../xhr"),a=e("../../utils"),o=e("../../utils/appMode"),s=u(e("mithril"));function u(e){return e&&e.__esModule?e:{default:e}}},{"../../socket":187,"../../utils":246,"../../utils/appMode":245,"../../xhr":247,mithril:167}],198:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=s.header.bind(null,"oyunkeyf.net");return i.default.free(t,function(){var t=(0,r.default)("nbConnectedPlayers",e.nbConnectedPlayers()||"?"),n=(0,r.default)("nbGamesInPlay",e.nbGamesInPlay()||"?");return React.createElement("div",{className:"native_scroller page"},React.createElement("div",{className:"home"},React.createElement("section",null,React.createElement("div",null,u.default.trust(t.replace(/(\d+)/,"<strong>$1</strong>"))),React.createElement("div",null,u.default.trust(n.replace(/(\d+)/,"<strong>$1</strong>")))),React.createElement("section",{id:"homeCreate"},React.createElement("button",{className:"fatButton",config:a.default.ontouchY(o.default.openRealtime)},(0,r.default)("createAGame")))))})};var r=l(e("../../i18n")),i=l(e("../layout")),a=l(e("../helper")),o=l(e("../newGameForm")),s=e("../shared/common"),u=l(e("mithril"));function l(e){return e&&e.__esModule?e:{default:e}}},{"../../i18n":180,"../helper":196,"../layout":200,"../newGameForm":214,"../shared/common":235,mithril:167}],199:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("./homeCtrl")),i=a(e("./homeView"));function a(e){return e&&e.__esModule?e:{default:e}}n.default={controller:r.default,view:i.default}},{"./homeCtrl":197,"./homeView":198}],200:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=f(e("./menu")),a=f(e("./menu/menuView")),o=f(e("./gamesMenu")),s=f(e("./newGameForm")),u=f(e("./loginModal")),l=f(e("./signupModal")),c=f(e("./helper")),d=f(e("../settings"));function f(e){return e&&e.__esModule?e:{default:e}}n.default={onBackgroundChange:function(e){r=e},board:function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return r=r||d.default.general.theme.background(),React.createElement("div",{className:"view-container "+r},React.createElement("main",{id:"page",className:s},React.createElement("div",{className:"content_round"},t()),i.default.isOpen?React.createElement("div",{className:"menu-close-overlay",config:c.default.ontouch(i.default.close)}):null),(0,a.default)(),o.default.view(),u.default.view(),l.default.view(),n?n():null)},free:function(e,t,n,f){return r=r||d.default.general.theme.background(),React.createElement("div",{className:"view-container "+r},React.createElement("main",{id:"page"},React.createElement("header",{className:"main_header"},e()),React.createElement("div",{className:"content"+(n?" withFooter":"")},t()),n?React.createElement("footer",{className:"main_footer"},n()):null,i.default.isOpen?React.createElement("div",{className:"menu-close-overlay",config:c.default.ontouch(i.default.close)}):null),(0,a.default)(),o.default.view(),u.default.view(),l.default.view(),s.default.view(),f?f():null)}}},{"../settings":186,"./gamesMenu":193,"./helper":196,"./loginModal":202,"./menu":212,"./menu/menuView":213,"./newGameForm":214,"./signupModal":240}],201:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=u(e("../utils")),a=u(e("../xhr")),o=e("mithril"),s=(r=o)&&r.__esModule?r:{default:r};function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var l={isOpen:!1,startSeeking:function(){a.newGame().then(function(e){s.default.route("/masa/"+e.id)},function(e){throw i.handleXhrError(e),e})}};n.default=l},{"../utils":246,"../xhr":247,mithril:167}],202:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=c(e("../session")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../utils")),a=c(e("../i18n")),o=c(e("./helper")),s=c(e("../backbutton")),u=c(e("./signupModal")),l=c(e("mithril"));function c(e){return e&&e.__esModule?e:{default:e}}var d={},f=!1;d.open=function(){s.default.stack.push(o.default.slidesOutDown(d.close,"loginModal")),f=!0},d.close=function(e){window.cordova.plugins.Keyboard.close(),"backbutton"!==e&&f&&s.default.stack.pop(),f=!1},d.view=function(){return f?(0,l.default)("div.modal#loginModal",{config:o.default.slidesInUp},[(0,l.default)("header",[(0,l.default)("button.modal_close[data-icon=L]",{config:o.default.ontouch(o.default.slidesOutDown(d.close,"loginModal"))}),(0,l.default)("h2",(0,a.default)("signIn"))]),(0,l.default)("div.modal_content",[(0,l.default)("form.login",{onsubmit:function(e){return e.preventDefault(),t=e.target,n=t[0].value.trim(),o=t[1].value,!(!n||!o)&&(window.cordova.plugins.Keyboard.close(),r.default.login(n,o).then(function(){d.close(),window.plugins.toast.show((0,a.default)("loginSuccessful"),"short","center"),r.default.refresh().catch(function(e){401===e.status&&window.navigator.notification.alert("oyunkeyfAuthenticationCannotWorkWithoutCookies")})}).catch(i.handleXhrError));var t,n,o}},[(0,l.default)("input#pseudo[type=text]",{placeholder:(0,a.default)("username"),autocomplete:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false",required:!0}),(0,l.default)("input#password[type=password]",{placeholder:(0,a.default)("password"),required:!0}),(0,l.default)("button.fat",(0,a.default)("signIn"))]),(0,l.default)("div.signup",[(0,l.default)("a",{config:o.default.ontouch(u.default.open)},[(0,a.default)("newToOyunkeyf")," ",(0,a.default)("signUp")])])])]):null},n.default=d},{"../backbutton":178,"../i18n":180,"../session":185,"../utils":246,"./helper":196,"./signupModal":240,mithril:167}],203:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("./masaDetailCtrl")),i=a(e("./masaDetailView"));function a(e){return e&&e.__esModule?e:{default:e}}n.default={controller:r.default,view:i.default}},{"./masaDetailCtrl":204,"./masaDetailView":205}],204:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=l.default.prop(),t=l.default.prop(!1),n=l.default.prop(!1),c=s.default.controller(e),d=u.default.controller(e);function f(i){n(!1);var a=e();e(i),t(i.me&&i.me.active),i.socketVersion&&r.default.setVersion(i.socketVersion),a.playerId!==i.playerId&&r.default.connect(),l.default.redraw()}var h=l.default.route.param("id"),p=(0,i.default)(function(e){n(!0),o.reload(e).then(f).catch(function(){return n(!1)})},1e3),m={reload:function(){return p(h)},resync:function(){return p(h)},redirect:function(t){l.default.route("/masa/"+e().id+"/game/"+t,null,!0)}};return o.masa(h).then(function(n){e(n),t(n.me),r.default.createMasa(h,e().socketVersion,m)}).catch(a.handleXhrError),{masa:e,hasJoined:t,faqCtrl:c,playerInfoCtrl:d,join:(0,i.default)(function(e,n){o.join(e,n).then(function(){t(!0),l.default.redraw()}).catch(a.handleXhrError)},1e3),withdraw:(0,i.default)(function(e){o.withdraw(e).then(function(){t(!1),l.default.redraw()}).catch(a.handleXhrError)},1e3),isLoading:n,onunload:function(){r.default.destroy()}}};var r=d(e("../../../socket")),i=d(e("lodash/throttle")),a=c(e("../../../utils")),o=c(e("../masaXhr")),s=d(e("../faq")),u=d(e("../playerInfo")),l=d(e("mithril"));function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}},{"../../../socket":187,"../../../utils":246,"../faq":206,"../masaXhr":210,"../playerInfo":211,"lodash/throttle":162,mithril:167}],205:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=a.header.bind(null,null,(0,a.backButton)(e.masa()?e.masa().fullName:null)),n=function(e){var t=e.masa();if(!t)return null;var n=void 0;n=t.isFinished?function(e){var t=e.masa();return[m(t,t.roundsToFinish,""),t.podium?(n=t.podium.map(function(e){return(0,i.default)(e,t.players[e.id])}),React.createElement("div",{key:"podium",className:"podium"},_(n[0]))):null,b(e)];var n}(e):t.isStarted?function(e){var t=e.masa(),n=function(e){var t=e.playerId;if(!t)return null;var n=p(e).filter(function(e){return e.u.filter(function(e){return e.toLowerCase()===t.toLowerCase()})[0]})[0];return n?n.id:null}(t),r=p(t),i=r[0]?r[0].id:null;return[m(t,t.roundsToFinish,""),n?(0,f.default)("a.pov.button.glowed",{config:c.default.ontouch(f.default.route.bind(null,"/masa/"+t.id+"/game/"+n))},[(0,u.default)("youArePlaying"),(0,f.default)("span.text[data-icon=G]",(0,u.default)("joinTheGame"))]):i?(0,f.default)("a.pov.spectator.button",{config:c.default.ontouch(f.default.route.bind(null,"/masa/"+t.id+"/game/"+i))},[(0,u.default)("playingRightNow"),(0,f.default)("span.text[data-icon=G]",(0,u.default)("spectateGame"))]):null,b(e)]}(e):function(e){var t=e.masa();return[m(t,t.roundsToFinish,""),v(e),b(e)]}(e);return React.createElement("div",{class:"masaContainer native_scroller page withFooter"},n)}.bind(null,e),r=function(e){if(!e.masa())return null;return React.createElement("div",{className:"actions_bar"},React.createElement("button",{key:"faq",className:"action_bar_button",config:c.default.ontouch(e.faqCtrl.open)},React.createElement("span",{className:"fa fa-question-circle"}),(0,u.default)("faq")),e.hasJoined()?function(e){if(e.masa().isFinished)return null;return React.createElement("button",{key:"withdraw",className:"action_bar_button",config:c.default.ontouch(function(){return e.withdraw(e.masa().id)})},React.createElement("span",{className:"fa fa-flag"}),(0,u.default)("withdraw"))}(e):w(e,"action_bar_button"))}.bind(null,e),o=function(e){return[l.default.view(e.faqCtrl)]}.bind(null,e);return s.default.free(t,n,r,function(){return[o()]})};var r=h(e("lodash/mapValues")),i=h(e("lodash/merge")),a=e("../../shared/common"),o=h(e("../../../session")),s=h(e("../../layout")),u=h(e("../../../i18n")),l=h(e("../faq")),c=h(e("../../helper")),d=e("../../../utils"),f=h(e("mithril"));function h(e){return e&&e.__esModule?e:{default:e}}function p(e){var t=25;return e.pairings.filter(function(e){return e.s<t})}function m(e,t,n){var r=function(e){var t=k(e);return(0,u.default)(t)}(e),i=(0,u.default)("rated"),a=(0,u.default)("hands"),o=e.rounds?e.nbRounds+"/"+e.rounds+a:e.scores+"P";return React.createElement("div",{key:"header",className:"masaHeader"},React.createElement("div",{className:"masaInfoRounds"},React.createElement("strong",{className:"masaInfo","data-icon":(0,d.gameIcon)(k(e))},r+" • "+i+" • "+o)),React.createElement("div",{className:"masaCreatorInfo"},(0,u.default)("by",function(e){var t=e.players[e.createdBy];return t?t.name?t.name:(0,u.default)("anonymous"):e.createdBy}(e))," • ",window.moment(e.createdAt).calendar()))}function v(e){var t=e.masa(),n=t.players,i=(0,r.default)(t.actives,function(e){return n[e.id]}),a=t.me?t.me.side:"";return React.createElement("div",{key:"seats",className:"masaSeats"},y(e,"north",i.north,a),React.createElement("div",{className:"middle"},y(e,"west",i.west,a),React.createElement("div",{className:"table"}),y(e,"east",i.east,a)),y(e,"south",i.south,a))}function g(e){return e.ai?(0,u.default)("aiBot",e.ai):e.name?e.name:(0,u.default)("anonymous")}function y(e,t,n,r){var i=n?g(n):"",a=" in"+(n?"":" empty")+(r===t[0]?" me":"");return React.createElement("div",{className:"masaSeat"+a},i?React.createElement("span",{className:"title"},i):w(e,"",t))}function b(e){var t=e.masa(),n=t.standing.players.map(function(e){return(0,i.default)(e,t.players[e.id])}),r=o.default.get(),a=r?r.username:"";return React.createElement("div",{key:"leaderboard",className:"masaLeaderboard"},React.createElement("p",{className:"masaTitle"}," ",(0,u.default)("leaderboard")," (",(0,u.default)("nbPlayers",t.nbPlayers),")"),React.createElement("table",{className:"masaStandings"},n.map(function(e,t,n,r){var i=r.id===n,a=r.name||g(r),o=r.rating?" ("+r.rating+") ":"",s=a+o;return React.createElement("tr",{key:r.name,className:"list_item"+(i?" me":""),config:c.default.ontouchY(e.open.bind(null,r))},React.createElement("td",{className:"masaPlayer"},React.createElement("span",{className:"flagRank","data-icon":r.active?"":"b"},r.active?r.rank+". ":""),React.createElement("span",null," ",s," ")),React.createElement("td",{className:"masaPoints"},React.createElement("span",{"data-icon":"Q"},r.score)))}.bind(null,e.playerInfoCtrl,a,t.playerId))))}function _(e){if(!e)return null;var t=e.rank;return React.createElement("div",{className:"place"+t},React.createElement("div",{className:"trophy"}),React.createElement("div",{className:"username",config:e.name?c.default.ontouch(function(){return f.default.route("/@/"+e.name)}):null},g(e)),e.rating?React.createElement("div",{className:"rating"}," ",e.rating," ",c.default.progress(e.ratingDiff)," "):null,React.createElement("table",{className:"stats"}))}function w(e,t,n){return e.masa().isFinished?null:(t=t||"",React.createElement("button",{key:"join",className:t,config:c.default.ontouch(function(){return e.join(e.masa().id,n)})},React.createElement("span",{className:"fa fa-play"}),(0,u.default)("join")))}function k(e){return e.variant}},{"../../../i18n":180,"../../../session":185,"../../../utils":246,"../../helper":196,"../../layout":200,"../../shared/common":235,"../faq":206,"lodash/mapValues":154,"lodash/merge":156,mithril:167}],206:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("../../i18n")),i=o(e("../../backbutton")),a=o(e("../helper"));function o(e){return e&&e.__esModule?e:{default:e}}n.default={controller:function(e){var t=!1;function n(e){"backbutton"!==e&&t&&i.default.stack.pop(),t=!1}return{open:function(){i.default.stack.push(n),t=!0},close:n,isOpen:function(){return t},masa:e}},view:function(e){if(!e.isOpen())return null;var t=e.masa();return t?React.createElement("div",{className:"modal",id:"masaFaqModal",config:a.default.slidesInUp},React.createElement("header",null,React.createElement("button",{className:"modal_close","data-icon":"L",config:a.default.ontouch(a.default.slidesOutDown(e.close,"masaFaqModal"))}),React.createElement("h2",null,(0,r.default)("masaFAQ"))),React.createElement("div",{className:"modal_content"},React.createElement("div",{className:"masaFaq"},React.createElement("h2",null,"Puanlı mı?"),void 0===t.rated?"Bazı masalar puanlıdır ve reytinginizi etkiler.":t.rated?"Bu masa puanlıdır ve reytinginizi etkiler.":"Bu masa puanlı *değildir* ve reytinginizi *etkilemez*.",React.createElement("h2",null," Puanlar nasıl hesaplanır? "),"Masaya katılımda her oyuncu ortaya el sayısı kadar puanını koyar. Masa sonunda ortadaki puanlar şöyle dağıtılır:",React.createElement("ul",null,React.createElement("li",null,"1. %50 puan"),React.createElement("li",null,"2. %25 puan"),React.createElement("li",null,"3. %15 puan"),React.createElement("li",null,"4. %10 puan")),"Örneğin 10 ellik bir oyunda oyuncuların puanları 1500 olsun. Masaya katıldıklarında puanları 1490 olur. Ortada toplam 40 puan vardır, ve şöyle dağıtılır:",React.createElement("ul",null,React.createElement("li",null,"1. +20 = 1510"),React.createElement("li",null,"2. +10 = 1500"),React.createElement("li",null,"3. +6 = 1496"),React.createElement("li",null,"4. +4 = 1494")),"Masa bitmeden ayrılan oyuncu puan alamaz.",React.createElement("h2",null," Kazanan nasıl belirlenir? "),"Masada bütün eller oynandıktan sonra en az cezası olan oyuncu galip ilan edilir.",React.createElement("h2",null," Masada eslestirme nasil yapilir? "),"Masaya 4 oyuncu katildiginda el baslar. Bir el bittikten sonra yeni el baslar, yeni ele katilmak icin oyuncular masaya geri donmelidir.",React.createElement("h2",null," Masa ne zaman biter? "),"Masada el sayısı kadar oyun oynandığında masa biter.",React.createElement("h2",null," Oyundan ayrılma "),"Oyun devam ederken oyundan ayrilan oyuncu masadan atilir, ve o el iptal olur. Masa bitmeden masadan ayrılan oyuncu puan alamaz.",React.createElement("h2",null," Diğer önemli kurallar "),"Siraniz geldiginde, oyanama sürenizi aşarsanız sistem sizin yerinize oynar."))):null}}},{"../../backbutton":178,"../../i18n":180,"../helper":196}],207:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("./masaCtrl")),i=a(e("./masaView"));function a(e){return e&&e.__esModule?e:{default:e}}n.default={controller:r.default,view:i.default}},{"./masaCtrl":208,"./masaView":209}],208:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){var e=u.default.prop(),t=u.default.prop(u.default.route.param("tab")||"created");function n(t){return t.started=t.started.filter(d),t.created=t.created.filter(d),t.finished=t.finished.filter(d),e(t),t}var s={reload:function(e){n(e),u.default.redraw()}};i.default.createMasaHome(s);var l=(0,r.default)(function(){o.currentMasas().then(n).catch(a.handleXhrError)},1e3);return l(),{masas:e,currentTab:t,refresh:l}};var r=c(e("lodash/throttle")),i=c(e("../../socket")),a=l(e("../../utils")),o=l(e("./masaXhr")),s=c(e("../../session")),u=(c(e("../helper")),c(e("mithril")));function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}function d(e){return s.default.isConnected()||!e.rated&&!e.mOnly}},{"../../session":185,"../../socket":187,"../../utils":246,"../helper":196,"./masaXhr":210,"lodash/throttle":162,mithril:167}],209:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=function(e){if(!e.masas())return null;var t=e.masas()[e.currentTab()];return(0,u.default)(".module-tabs.tabs-routing",[(o=e.currentTab,(0,u.default)(".nav-header",u.default.component(l.default,{buttons:d(s.default),selectedTab:o(),onTabChange:function(e){var t=window.location.search.replace(/\?tab\=\w+$/,"");window.history.replaceState(null,null,t+"?tab="+e),o(e)}}))),(0,u.default)(".tab-content.layout.center-center.native_scroller",(n=t,i=e.currentTab(),a=e.refresh,n.length?React.createElement("table",{key:i,className:"masaList"},n.map(f)):React.createElement("div",{className:"vertical_align empty_masas_list"},React.createElement("div",null,(0,s.default)("nothingHere")),React.createElement("button",{id:"refreshButton",config:r.default.ontouchY(a)},React.createElement("span",{className:"fa fa-refresh"}),(0,s.default)("refresh")))))]);var n,i,a;var o}.bind(null,e);return o.default.free(i.header.bind(null,(0,s.default)("masas")),t)};var r=c(e("../helper")),i=e("../shared/common"),a=e("../../utils"),o=c(e("../layout")),s=c(e("../../i18n")),u=c(e("mithril")),l=c(e("../shared/tabs"));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){return[{key:"started",label:e("inProgressTables")},{key:"created",label:e("openTables")},{key:"finished",label:e("completed")}]};function f(e){var t,n,i,o,l=e.rated?(0,s.default)("rated"):(0,s.default)("casual"),c=(0,a.formatMasaDuration)(e.rounds,e.scores),d=(0,a.capitalize)(e.variant.short);return React.createElement("tr",{key:e.id,className:"list_item masa_item",config:r.default.ontouchY(function(){return u.default.route("/masa/"+e.id)})},React.createElement("td",{className:"masaListName","data-icon":e.perf?e.perf.icon:"8"},React.createElement("div",{className:"fullName"},e.fullName),React.createElement("small",{className:"infos"}," ",d," ",l," • ",c," ")),React.createElement("td",{className:"masaListTime"},React.createElement("div",{className:"time"},(t=e.createdAt,n=new Date(t),i=(0,a.pad)(n.getHours().toString(),2),o=(0,a.pad)(n.getMinutes().toString(),2),i+":"+o)),React.createElement("small",{className:"nbUsers withIcon","data-icon":"r"},e.nbPlayers)),React.createElement("td",{className:"masaListNav"},""))}},{"../../i18n":180,"../../utils":246,"../helper":196,"../layout":200,"../shared/common":235,"../shared/tabs":239,mithril:167}],210:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.currentMasas=function(){return(0,r.request)("/masa",{},!0)},n.masa=function(e){return(0,r.request)("/masa/"+e,{data:{socketVersion:1}},!0)},n.reload=function(e){return(0,r.request)("/masa/"+e,{method:"GET",data:{},background:!0})},n.join=function(e,t){return t=t?"?side="+t:"",(0,r.request)("/masa/"+e+"/join"+t,{method:"POST"},!0)},n.withdraw=function(e){return(0,r.request)("/masa/"+e+"/withdraw",{method:"POST"},!0)};var r=e("../../http")},{"../../http":179}],211:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("../../backbutton")),i=(a(e("../helper")),a(e("mithril")));function a(e){return e&&e.__esModule?e:{default:e}}n.default={controller:function(e){var t=!1;i.default.prop();function n(e){"backbutton"!==e&&t&&r.default.stack.pop(),t=!1}return{open:function(){r.default.stack.push(n),t=!0},close:n,isOpen:function(){return t},masa:e}},view:function(e){}}},{"../../backbutton":178,"../helper":196,mithril:167}],212:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=o(e("zanimo")),i=o(e("../../backbutton")),a=o(e("mithril"));function o(e){return e&&e.__esModule?e:{default:e}}var s={isOpen:!1};s.headerOpen=a.default.prop(!1),s.route=function(e){return function(){return s.close().then(a.default.route.bind(null,e))}},s.popup=function(e){return function(){return s.close().then(function(){e(),a.default.redraw()})}},s.toggle=function(){s.isOpen?s.close():s.open()},s.open=function(){i.default.stack.push(s.close),s.isOpen=!0},s.willClose=!1,s.close=function(e){var t=document.getElementById("side_menu");return s.willClose||!t?Promise.resolve(null):(s.willClose=!0,"backbutton"!==e&&s.isOpen&&i.default.stack.pop(),a.default.redraw.strategy("none"),(0,r.default)(t,"transform","translate3d(-100%,0,0",250,"ease-out").then(function(){s.headerOpen(!1),s.isOpen=!1,s.willClose=!1,a.default.redraw()}).catch(function(e){console.error(e),s.headerOpen(!1),s.isOpen=!1,s.willClose=!1,a.default.redraw()}))},s.toggleHeader=function(){return s.headerOpen()?s.headerOpen(!1):s.headerOpen(!0)},n.default=s},{"../../backbutton":178,mithril:167,zanimo:174}],213:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){return a.default.isOpen?React.createElement("aside",{id:"side_menu",config:f},(e=i.default.get(),React.createElement("div",{className:"native_scroller"},function(e){return React.createElement("header",{className:"side_menu_header"},React.createElement("div",{className:"logo"},"oyunkeyf"),React.createElement("h2",{className:"username"},(0,u.hasNetwork)()?e?e.username:(0,r.default)("anonymous"):(0,r.default)("offline")),(0,u.hasNetwork)()&&e?React.createElement("button",{className:"open_button","data-icon":a.default.headerOpen()?"S":"R",config:l.default.ontouch(a.default.toggleHeader,null,null,!1)}):null,(0,u.hasNetwork)()&&!e?React.createElement("button",{className:"login",config:l.default.ontouchY(o.default.open)},(0,r.default)("signIn")):null)}(e),e&&a.default.headerOpen()?function(e){return React.createElement("ul",{className:"side_links profileActions"},React.createElement("li",{className:"side_link",config:l.default.ontouch(a.default.route("/@/"+e.id))},React.createElement("span",{"data-icon":"r"}),(0,r.default)("profile")),React.createElement("li",{className:"side_link",config:l.default.ontouch(a.default.route("/settings/preferences"))},React.createElement("span",{"data-icon":"%"}),(0,r.default)("preferences")),React.createElement("li",{className:"side_link",config:l.default.ontouch(function(){i.default.logout(),a.default.headerOpen(!1)})},React.createElement("span",{"data-icon":"w"}),(0,r.default)("logOut")))}(e):React.createElement("ul",{className:"side_links"},React.createElement("li",{className:"side_link",key:"home",config:l.default.ontouchY(a.default.route("/"))},React.createElement("span",{className:"fa fa-home"}),(0,r.default)("home")),(0,u.hasNetwork)()?React.createElement("li",{className:"sep_link",key:"sep_link_online"},(0,r.default)("playOnline")):null,(0,u.hasNetwork)()?React.createElement("li",{className:"side_link",key:"play_real_time",config:l.default.ontouchY(a.default.popup(s.default.openRealtime))},React.createElement("span",{className:"fa fa-plus-circle"}),(0,r.default)("createAGame")):null,(0,u.hasNetwork)()?React.createElement("li",{className:"side_link",key:"masas",config:l.default.ontouchY(a.default.route("/masa"))},React.createElement("span",{className:"fa fa-trophy"}),(0,r.default)("masas")):null,(0,u.hasNetwork)()?React.createElement("li",{className:"sep_link",key:"sep_link_community"},(0,r.default)("community")):null,(0,u.hasNetwork)()?React.createElement("li",{className:"side_link",key:"players",config:l.default.ontouchY(a.default.route("/players"))},React.createElement("span",{className:"fa fa-at"}),(0,r.default)("players")):null,(0,u.hasNetwork)()?React.createElement("li",{className:"side_link",key:"ranking"},React.createElement("span",{className:"fa fa-cubes"}),(0,r.default)("leaderboard")):null,React.createElement("li",{className:"hr",key:"set_link_settings"}),React.createElement("li",{className:"side_link",key:"settings",config:l.default.ontouchY(a.default.route("/settings"))},React.createElement("span",{className:"fa fa-cog"}),(0,r.default)("settings")))))):null;var e};var r=d(e("../../i18n")),i=d(e("../../session")),a=d(e(".")),o=d(e("../loginModal")),s=d(e("../newGameForm")),u=e("../../utils"),l=d(e("../helper")),c=d(e("zanimo"));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n){t||(e.style.transform="translate3d(-100%, 0, 0)",n.lol=e.offsetHeight,(0,c.default)(e,"transform","translate3d(0,0,0)",250,"ease-out"))}},{".":212,"../../i18n":180,"../../session":185,"../../utils":246,"../helper":196,"../loginModal":202,"../newGameForm":214,zanimo:174}],214:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=d(e("./shared/popup")),i=d(e("./shared/form")),a=d(e("../i18n")),o=d(e("../settings")),s=d(e("../session")),u=d(e("../backbutton")),l=d(e("./lobby")),c=d(e("mithril"));function d(e){return e&&e.__esModule?e:{default:e}}var f={};function h(){f.close(),l.default.startSeeking()}f.isOpen=!1,f.open=function(){u.default.stack.push(f.close),f.isOpen=!0},f.close=function(e){"backbutton"!==e&&f.isOpen&&u.default.stack.pop(),f.isOpen=!1},f.openRealtime=function(){f.open()},f.view=function(){return(0,r.default)("new_game_form_popup game_form_popup",null,function(){return function(e,t,n,r){var u=[(0,c.default)("div.select_input",{key:e+"variant"},[i.default.renderSelect("variant",e+" variant",r,n.variant)])];if(n.mode){var l=s.default.isConnected()?[["casual","0"],["rated","1"]]:[["casual","0"]];u.push((0,c.default)("div.select_input",{key:e+"mode"},[i.default.renderSelect("mode",e+"mode",l,n.mode)])),s.default.isConnected()&&"0"===n.mode()&&u.push(i.default.renderCheckbox((0,a.default)("membersOnly"),"membersOnly",n.membersOnly))}var d=[];return d.push((0,c.default)("div.select_input",{key:e+"rounds"},[i.default.renderSelect("rounds",e+"round",o.default.gameSetup.availableRounds,n.rounds,!1)])),(0,c.default)("form#new_game_form.game_form",{onsubmit:function(e){e.preventDefault(),o.default.gameSetup.isRoundValid(n)&&(f.close(),t())}},[(0,c.default)("fieldset",[]),(0,c.default)("fieldset",u),(0,c.default)("fieldset#round",d),(0,c.default)("button[data-icon=E][type=submit].newGameButton",(0,a.default)("createAGame"))])}("human",h,o.default.gameSetup.human,o.default.gameSetup.human.availableVariants)},f.isOpen,f.close)},n.default=f},{"../backbutton":178,"../i18n":180,"../session":185,"../settings":186,"./lobby":201,"./shared/form":236,"./shared/popup":238,mithril:167}],215:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("./playersCtrl")),i=a(e("./playersView"));function a(e){return e&&e.__esModule?e:{default:e}}n.default={controller:r.default,view:i.default}},{"./playersCtrl":217,"./playersView":218}],216:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.onlinePlayers=function(){return(0,r.request)("/player/online",{},!0)};var r=e("../../http")},{"../../http":179}],217:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){r.default.createDefault();var e=o.default.prop([]);return a.onlinePlayers().then(e,function(e){return i.handleXhrError(e)}),{players:e,goToProfile:function(e){o.default.route("/@/"+e)},onunload:function(){}}};var r=u(e("../../socket")),i=s(e("../../utils")),a=s(e("./playerXhr")),o=u(e("mithril"));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}},{"../../socket":187,"../../utils":246,"./playerXhr":216,mithril:167}],218:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=function(e){return React.createElement("nav",null,(0,o.menuButton)(),React.createElement("h1",null,(0,s.default)("players")),React.createElement("div",{className:"buttons"},React.createElement("button",{className:"main_header_button",key:"searchPlayers","data-icon":"y"})))}.bind(null,e),n=function(e){return React.createElement("ul",{className:"playersSuggestion native_scroller_page"},e.players().map(c))}.bind(null,e);return a.default.free(t,n,null)};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../../utils")),i=l(e("../helper")),a=l(e("../layout")),o=e("../shared/common"),s=l(e("../../i18n")),u=l(e("mithril"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=Object.keys(e.perfs).reduce(function(t,n){return t?e.perfs[t].rating<e.perfs[n].rating?n:t:n});return React.createElement("li",{className:"list_item playerSuggestion nav",config:i.default.ontouchY(function(){return u.default.route("/@/"+e.id)})},(0,o.userStatus)(e),React.createElement("span",{className:"rating","data-icon":r.gameIcon(t)},e.perfs[t].rating))}},{"../../i18n":180,"../../utils":246,"../helper":196,"../layout":200,"../shared/common":235,mithril:167}],219:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=c(e("../../i18n")),i=c(e("../helper")),a=c(e("../../storage")),o=c(e("../../socket")),s=c(e("../../backbutton")),u=c(e("../../oyunkeyf/game")),l=c(e("mithril"));function c(e){return e&&e.__esModule?e:{default:e}}n.default={controller:function(e){var t=this,n="chat."+e.data.game.id;this.root=e,this.showing=!1,this.messages=e.data.chat||[],this.inputValue="",this.unread=!1;var r=function(){var e=a.default.get(n);t.messages&&e<t.messages.length&&(t.unread=!0)};r(),a.default.set(n,this.messages.length),this.open=function(){s.default.stack.push(i.default.slidesOutDown(t.close,"chat")),t.showing=!0},this.close=function(e){window.cordova.plugins.Keyboard.close(),"backbutton"!==e&&t.showing&&s.default.stack.pop(),t.showing=!1,t.unread=!1},this.onReload=function(e){e&&(t.messages=e,r(),a.default.set(n,t.messages.length))},this.append=function(e){t.messages.push(e),a.default.set(n,t.messages.length),"oyunkeyf"!==e.u&&(t.unread=!0),l.default.redraw()},this.onunload=function(){u.default.playable(t.root.data)&&a.default.remove(n)}},view:function(e){return e.showing?(0,l.default)("div#chat.modal",{config:i.default.slidesInUp},[(0,l.default)("header",[(0,l.default)("button.modal_close[data-icon=L]",{config:i.default.ontouch(i.default.slidesOutDown(e.close,"chat"))}),(0,l.default)("h2",(0,r.default)("chat"))]),(0,l.default)("div.modal_content",[(0,l.default)("div#chat_scroller.native_scroller",{config:function(e){e.scrollTop=e.scrollHeight}},[(0,l.default)("ul.chat_messages",e.messages.map(function(t,n,r){var a,o=e.root.data.player,s="oyunkeyf"===t.u,u=t.s?t.s===o.side:o.user&&t.u===o.user.username,c=!0,d=r[n+1];return d&&(a=d.s?d.s===o.side:o.user&&d.u===o.user.username),a&&(c=a!==u),(0,l.default)("li.chat_msg.allow_select",{className:i.default.classSet({system:s,player:u,opponent:!s&&!u,close_balloon:c})},[l.default.trust(t.t)])}))]),(0,l.default)("form.chat_form",{onsubmit:function(t){t.preventDefault();var n=t.target[0].value.trim();n&&(n.length>140||(e.inputValue="",o.default.send("talk",n)))}},[(0,l.default)("input#chat_input.chat_input[type=text]",{placeholder:(0,r.default)("talkInChat"),autocomplete:"off",value:e.inputValue,config:function(t,n){n||t.addEventListener("input",function(e,t){e.inputValue=t.target.value}.bind(null,e))}}),(0,l.default)("button.chat_send[data-icon=z]")])])]):null}}},{"../../backbutton":178,"../../i18n":180,"../../oyunkeyf/game":182,"../../socket":187,"../../storage":189,"../helper":196,mithril:167}],220:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,r){var i=this,a={};function o(){a={east:e.sides.east,west:e.sides.west,north:e.sides.north,south:e.sides.south,at:new Date}}this.data=e,this.data.barTime=Math.max(this.data.initial,2),o(),this.update=function(e){i.data.sides=e,o()},this.tick=function(e){i.data.sides[e]=Math.max(0,a[e]-(new Date-a.at)/1e3),0===i.data.sides[e]&&t(),r()}};var r,i=e("mithril");(r=i)&&r.__esModule},{mithril:167}],221:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.view=function(e,t,n,r){var i=e.data.sides[t],o=n===t,s="clock clock_"+t+" clock_"+r+" "+a.default.classSet({outoftime:!i,running:o,emerg:i<e.data.emerg});return React.createElement("div",{className:s},function(e,t){var n={width:Math.max(0,Math.min(100,t/e.data.barTime*100))+"%"};return React.createElement("div",{className:"bar"},React.createElement("span",{style:n}))}(e,i))};var r,i=e("../../helper"),a=(r=i)&&r.__esModule?r:{default:r}},{"../../helper":196}],222:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return e}},{}],223:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("okeyground-mobile")),i=a(e("../../oyunkeyf/game"));function a(e){return e&&e.__esModule?e:{default:e}}n.default={make:function(e,t,n,a){var o=function(e,t){return{fen:t,turnSide:e.game.player,povSide:e.player.side,spectator:e.player.spectator,withTore:!!e.game.variant.key.match(/duzokey/),movable:{free:!1,board:i.default.isPlayerPlaying(e),dests:i.default.isPlayerPlaying(e)?e.possibleMoves:[]}}}(e,t);return o.movable.events={after:n},o.events={move:a},new r.default.controller(o)},end:function(e){e.stop()}}},{"../../oyunkeyf/game":182,"okeyground-mobile":1}],224:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=this;this.data=(0,o.default)(e),this.data.game.oscores={east:{series:101,new:!0},west:{pairs:5},north:{pairs:5},south:{pairs:5}},this.chat=new m.default.controller(this),this.vm={showingActions:!1},this.setTitle=function(e){e?e="oyunkeyf.net":b.default.started(t.data)?e=y.default.title(t.data):b.default.finished(t.data)&&(e=(0,s.default)("gameOver")),t.title=e},this.setTitle();l.hasNetwork()&&c.default.createGame(t.data.url.socket,t.data.player.version,(0,d.default)(t),t.data.url.round),this.toggleUserPopup=function(e,t){console.log("user",t)},this.showActions=function(){v.default.stack.push(t.hideActions),t.vm.showingActions=!0},this.hideActions=function(e){"backbutton"!==e&&t.vm.showingActions&&v.default.stack.pop(),t.vm.showingActions=!1};var n;this.sendMove=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;t.key=e,c.default.send("move",n,{ackable:!0})},this.apiMove=function(e){var n=t.data,r=y.default.isPlayerPlaying(n);if(n.game.turns=e.ply,n.game.player=y.default.sideByPly(e.ply),n.game.oscores=e.oscores,n.possibleMoves=n.player.side===n.game.player?e.dests:[],t.setTitle(),e.isMove&&(e.drawmiddle?t.okeyground.apiMove(e.key,M(e.drawmiddle.piece)):e.discard?(t.vm.hasPlayedDiscard||t.okeyground.apiMove(e.key,M(e.discard.piece)),t.vm.hasPlayedDiscard=!1):e.opens?t.okeyground.apiMove(e.key,S(e.opens.group)):e.drop?t.okeyground.apiMove(e.key,E(e.drop.piece,e.drop.pos)):e.key===a.default.move.collectOpen?t.restoreFen(e.fen,a.default.move.collectOpen):e.key===a.default.move.leaveTaken?t.okeyground.apiMove(e.key,M(e.leavetaken.piece)):t.okeyground.apiMove(e.key)),t.okeyground.set({turnSide:n.game.player,movable:{dests:r?n.possibleMoves:[]}}),e.clock){var i=e.clock;t.clock&&t.clock.update(i)}t.updateGameActions()},this.restoreFen=function(e,n){var r="//"+t.okeyground.getFen()+"/";t.okeyground.set({fen:p.default.persistentFen(e,r),animationHint:n})},this.saveBoard=function(){var e=t.okeyground.getFen();p.default.fenStore.set(e)},this.okeyground=f.default.make(this.data,e.game.fen,function(e,n){e!==a.default.move.leaveTaken&&t.sendMove(e,n)},function(e,n){console.log("sound.move",e,n),e===a.default.move.drawMiddle&&t.sendMove(e),e===a.default.move.discard&&(t.vm.hasPlayedDiscard=!0)}),this.redrawBoard=function(){i.default.redraw(),t.okeyground.data.renderRAF()},this.clock=!!this.data.clock&&new h.default(this.data.clock,this.data.player.spectator?l.noop:(0,r.default)(function(){return c.default.send("outoftime",1e3)}),this.data.player.spectator?null:this.data.player.side,this.redrawBoard),this.isClockRunning=function(){return t.data.clock&&y.default.playable(t.data)&&(t.data.game.turns>0||t.data.clock.running)},this.clockTick=function(){t.isClockRunning()&&t.clock.tick(t.data.game.player)},this.clock&&(n=setInterval(this.clockTick,100)),this.openSeries=function(){t.okeyground.playOpenSeries()},this.openPairs=function(){t.okeyground.playOpenPairs()},this.collectOpen=function(){t.sendMove(a.default.move.collectOpen)},this.leaveTaken=function(){t.sendMove(a.default.move.leaveTaken)},this.followUp=function(){i.default.route("/masa/"+t.data.masa.id)},this.removeGameAction=function(e,n){var r=document.getElementById(e);return r?(0,_.default)(r,"transform","translate3d(0, -100%, 0)",250,"ease-out").then(function(){t.vm[e]=!1,i.default.redraw()}).catch(console.log.bind(console)):null},this.updateGameActions=function(){(0,u.default)({openPairs:t.okeyground.canOpenPairs(),openSeries:t.okeyground.canOpenSeries(),collectOpen:t.okeyground.canCollectOpen(),leaveTaken:t.okeyground.canLeaveTaken()},function(e,n){e?t.vm[n]=!0:t.removeGameAction(n)})},this.updateGameActions(),this.reload=function(e){t.data=(0,o.default)(e),t.setTitle(),i.default.redraw()};var w=function(){g.reload(t).then(t.reload)};document.addEventListener("resume",w),window.plugins.insomnia.keepAwake(),this.onunload=function(){c.default.destroy(),clearInterval(n),document.removeEventListener("resume",w),window.plugins.insomnia.allowSleepAgain(),this.chat&&this.chat.onunload(),this.okeyground&&this.okeyground.onunload()}};var r=k(e("lodash/throttle")),i=k(e("mithril")),a=k(e("okeyground-mobile")),o=k(e("./data")),s=k(e("../../i18n")),u=k(e("lodash/forIn")),l=w(e("../../utils")),c=k(e("../../socket")),d=k(e("./socketHandler")),f=k(e("./ground")),h=k(e("./clock/clockCtrl")),p=k(e("./util")),m=k(e("./chat")),v=k(e("../../backbutton")),g=w(e("./roundXhr")),y=k(e("../../oyunkeyf/game")),b=k(e("../../oyunkeyf/status")),_=k(e("zanimo"));function w(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}var x=a.default.util,S=x.wrapGroup,M=x.wrapPiece,E=x.wrapDrop;x.partial},{"../../backbutton":178,"../../i18n":180,"../../oyunkeyf/game":182,"../../oyunkeyf/status":183,"../../socket":187,"../../utils":246,"./chat":219,"./clock/clockCtrl":220,"./data":222,"./ground":223,"./roundXhr":225,"./socketHandler":226,"./util":227,"lodash/forIn":136,"lodash/throttle":162,mithril:167,"okeyground-mobile":1,zanimo:174}],225:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.reload=function(e){return(0,r.request)(e.data.url.round,{background:!0})};var r=e("../../http")},{"../../http":179}],226:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return{move:function(t){t.isMove=!0,e.apiMove(t),u.default.redraw(!1,!0)},reload:function(){a.reload(e).then(e.reload)},resync:function(){console.log("resync"),a.reload(e).then(function(t){s.default.setVersion(t.player.version),e.reload(t)},function(e){(0,o.handleXhrError)(e)})},end:function(t){console.log(t),e.data.game.scores=t.result,i.default.end(e.okeyground),e.saveBoard(),a.reload(e).then(e.reload),window.plugins.insomnia.allowSleepAgain(),setTimeout(function(){e.showActions(),u.default.redraw()},500)},message:function(t){e.chat&&e.chat.append(t)},crowd:function(t){["east","west","north","south"].forEach(function(n){r.default.setOnGame(e.data,n,t[n])}),u.default.redraw(!1,!0),e.okeyground.data.renderRAF()}}};var r=l(e("../../oyunkeyf/game")),i=l(e("./ground")),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("./roundXhr")),o=e("../../utils"),s=l(e("../../socket")),u=l(e("mithril"));function l(e){return e&&e.__esModule?e:{default:e}}},{"../../oyunkeyf/game":182,"../../socket":187,"../../utils":246,"./ground":223,"./roundXhr":225,mithril:167}],227:[function(e,t,n){"use strict";var r,i=e("../../storage"),a=(r=i)&&r.__esModule?r:{default:r};var o="round.board";function s(e,t){return e.every(function(e,n){return e===t[n]})}var u=function(e){return"|"+e+"|"},l=/[f|r|l|b|g]\d\d?/g;function c(e,t){if(!e||!t||""===t)return t;var n=t.match(l),r=n.map(function(e,t){return t}),i=e.match(/[f|r|l|g|b]\d\d?|./g);n.length;n.forEach(function(e,t){var n=i.indexOf(e);-1!==n&&i.splice(n,1,{f:!0,i:t})}),i=(i=(i=i.map(function(e){return e&&e.f?(r.splice(r.indexOf(e.i),1),n[e.i]):" "})).join("")).replace(/\s*$/,"  ");var a=r.map(function(e){return n[e]}),o=i+a.slice(0).fill("  ").join("");return o=o.replace(/^\s/,""),a.forEach(function(e){return o=o.replace(/\s\s/,e)}),s(o.match(l).sort(),t.match(l).sort())||(console.warn("board diff failed\n",u(o),"\n",u(e),"\n",u(t)),o=t),o}var d=2;function f(e,t){var n=t.split("/")[d],r=e.split("/")[d],i=(e.substr(r.length),c(n,r));return e=e.replace(r,i)}t.exports={persistentFen:f,fenStore:{get:function(e){return f(e,"//"+a.default.get(o)+"/")},set:function(e){var t=e;a.default.set(o,t)}}}},{"../../storage":189}],228:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=u(e("../../../oyunkeyf/game")),i=u(e("../../../i18n")),a=u(e("../../helper")),o=u(e("zanimo")),s=u(e("mithril"));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n,r){return function(o,s){var u=a.default.classSet({game_action_bar_button:!0});return o.vm[r]?React.createElement("button",{id:n,className:u,key:e,"data-icon":t,config:f(d,a.default.ontouch(c(o,r)))},(0,i.default)(n)):React.createElement("button",{className:"game_action_bar_button empty"})}}function c(e,t){return function(){e[t]&&e[t].call()}}function d(e,t,n){t||(e.style.transform="translate3d(0, -100%, 0)",n.lol=e.offsetHeight,(0,o.default)(e,"transform","translate3d(0,0,0)",250,"ease-out"))}function f(e,t){return function(){e.apply(null,arguments),t.apply(null,arguments)}}n.default={openSeries:l("openSeries","L","openSeries","openSeries"),openPairs:l("openPairs","L","openPairs","openPairs"),leaveTaken:l("leaveTaken","L","leaveTaken","leaveTaken"),collectOpen:l("collectOpen","L","collectOpen","collectOpen"),followUp:function(e){var t=a.default.classSet({game_action_bar_button:!0,glow:!0});return r.default.playable(e.data)?null:React.createElement("button",{id:"followUp",className:t,key:"followUp","data-icon":"G",config:f(d,a.default.ontouch(function(){return e.followUp()}))},(0,i.default)("backToMasa"))},returnToMasa:function(e){return React.createElement("button",{key:"returnToMasa",config:a.default.ontouch(function(){e.hideActions(),s.default.route("/masa/"+e.data.game.masaId,null,!0)})},React.createElement("span",{className:"fa fa-trophy"}),(0,i.default)("backToMasa"))},withdrawFromMasa:function(e){return React.createElement("button",{key:"withdrawFromMasa",config:a.default.ontouch(function(){e.hideActions(),masaXhr.withdraw(e.data.game.masaId),s.default.route("/masa/"+e.data.game.masaId)})},React.createElement("span",{className:"fa fa-flag"}),(0,i.default)("withdraw"))}}},{"../../../i18n":180,"../../../oyunkeyf/game":182,"../../helper":196,mithril:167,zanimo:174}],229:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=u.default.isPortrait();return s.default.board(function(){return null},function(){return function(e,t){var n=o.getBoardBounds(u.default.viewportDim(),t,u.default.isIpadLike(),"game");return[(0,p.default)(e,e.okeyground,n,t,null),React.createElement("section",{key:"table",className:"table"},React.createElement("header",{key:"table-header",className:"tableHeader"},(0,l.menuButton)(),b(e)),y(e),_(e))]}(e,t)},function(){return function(e){return[e.chat?c.default.view(e.chat):null,w(e)]}(e)})};var r=v(e("mithril")),i=v(e("okeyground-mobile")),a=v(e("../../../i18n")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../../../utils")),s=v(e("../../layout")),u=v(e("../../helper")),l=e("../../shared/common"),c=v(e("../chat")),d=v(e("./button")),f=v(e("../../../oyunkeyf/game")),h=v(e("../../../oyunkeyf/status")),p=v(e("../../shared/Board")),m=v(e("../../shared/popup"));v(e("zanimo"));function v(e){return e&&e.__esModule?e:{default:e}}var g=i.default.util.partial;function y(e){var t=["fa","fa-ellipsis-h"].concat(["game_bar_button"]).join(" "),n=React.createElement("button",{className:t,key:"gameMenu",config:u.default.ontouch(e.showActions)}),r=["game_bar_button",e.chat&&e.chat.unread?"glow":""].join(" "),i=e.chat?React.createElement("button",{className:r,"data-icon":"c",key:"chat",config:u.default.ontouch(e.chat.open)}):null;return React.createElement("div",{class:"replay"},n,i)}function b(e){var t=e.data,n=t.game.rated?(0,a.default)("rated"):(0,a.default)("casual"),i=o.gameIcon(t.game.perf),s=[(0,r.default)("span.variant",{},t.game.variant.name),(0,r.default)("br"),n];return[(0,r.default)("div.icon-game",{"data-icon":i||""}),(0,r.default)("div.game-title.no_select",s)]}function _(e){return React.createElement("section",{className:"game_actions_bar",key:"game-actions-bar"},d.default.leaveTaken(e),d.default.collectOpen(e),d.default.openPairs(e),d.default.openSeries(e),d.default.followUp(e))}function w(e){return(0,m.default)("player_controls",function(){return b(e)},f.default.playable(e.data)?function(){return function(e){var t=[d.default.returnToMasa(e)];return React.createElement("div",{className:"game_controls"},t)}(e)}:function(){return function(e){var t=e.data.game.roundAt+1,n=f.default.result(e.data),i=(f.default.getPlayer(e.data,e.data.game.winner),h.default.toLabel(e.data.game.status.name,e.data.game.winner,e.data.game.variant.key)),a=h.default.aborted(e.data)?[]:[(0,r.default)("strong",t+". "+n),(0,r.default)("br")];a.push((0,r.default)("em.resultStatus",i));var o=null;e.data.game.masaId&&(o=[d.default.returnToMasa(e),d.default.withdrawFromMasa(e)]);return React.createElement("div",{className:"game_controls"},React.createElement("div",{className:"result"},a),function(e){var t=e.data,n=["east","west","north","south"].map(function(e){return{player:f.default.getPlayer(t,e),scores:t.game.scores?t.game.scores[e]:{scores:[]},opens:t.game.oscores?t.game.oscores[e]:null}}).map(g(k,e));return React.createElement("div",{className:"crosstable"},React.createElement("table",null,React.createElement("thead",null,React.createElement("tr",null)),React.createElement("tbody",null,n)))}(e),React.createElement("div",{className:"control buttons"},o))}(e)},e.vm.showingActions,e.hideActions)}function k(e,t){var n=t.player,r=t.scores,i=e.data.player.side,o=u.default.classSet({me:n.side===i});return React.createElement("tr",{key:n.side,className:o},React.createElement("th",{className:"score"},r.total),React.createElement("th",{className:"user"},function(e,t){var n=e.user?e.user.username:e.ai?(0,a.default)("aiBot",e.ai):(0,a.default)(e.side),r={class:"user_link"};e.user&&e.user.username&&(r["a"===t?"href":"data-href"]="/@/"+e.user.username);return{tag:t,attrs:r,children:n}}(n,"a")))}},{"../../../i18n":180,"../../../oyunkeyf/game":182,"../../../oyunkeyf/status":183,"../../../utils":246,"../../helper":196,"../../layout":200,"../../shared/Board":232,"../../shared/common":235,"../../shared/popup":238,"../chat":219,"./button":228,mithril:167,"okeyground-mobile":1,zanimo:174}],230:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../../utils")),i=f(e("../helper")),a=e("../shared/common"),o=f(e("../layout")),s=f(e("../shared/form")),u=f(e("../../settings")),l=f(e("../../i18n")),c=f(e("../../socket")),d=f(e("mithril"));function f(e){return e&&e.__esModule?e:{default:e}}function h(){return(0,d.default)("div",{style:{width:"100%",height:"100%"}},[(0,d.default)("ul.settings_list.general.native_scroller.page",[(0,d.default)("li.list_item.nav",{key:"lang",config:i.default.ontouchY(r.f(d.default.route,"/settings/lang"))},(0,l.default)("language")),(0,d.default)("li.list_item.settingsChoicesInline",{key:"backgroundTheme"},[(0,d.default)("label",(0,l.default)("background")),(0,d.default)("fieldset",[(0,d.default)("div.nice-radio",s.default.renderRadio((0,l.default)("dark"),"bgTheme","dark","dark"===u.default.general.theme.background(),function(e){u.default.general.theme.background(e.target.value),o.default.onBackgroundChange(e.target.value)})),(0,d.default)("div.nice-radio",s.default.renderRadio((0,l.default)("light"),"bgTheme","light","light"===u.default.general.theme.background(),function(e){u.default.general.theme.background(e.target.value),o.default.onBackgroundChange(e.target.value)}))])])]),window.oyunkeyf.version?(0,d.default)("section.app_version","v"+window.oyunkeyf.version):null])}n.default={controller:function(){c.default.createDefault()},view:function(){var e=r.partialf(a.header,null,(0,a.backButton)((0,l.default)("settings")));return o.default.free(e,h)}}},{"../../i18n":180,"../../settings":186,"../../socket":187,"../../utils":246,"../helper":196,"../layout":200,"../shared/common":235,"../shared/form":236,mithril:167}],231:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../../utils")),i=e("../shared/common"),a=f(e("../layout")),o=f(e("../shared/form")),s=f(e("../../settings")),u=e("../../i18n"),l=f(u),c=e("../../xhr"),d=f(e("mithril"));function f(e){return e&&e.__esModule?e:{default:e}}n.default={controller:function(){var e=d.default.prop([]);return(0,u.getAvailableLanguages)().then(e),{langs:e}},view:function(e){var t=r.partialf(i.header,null,(0,i.backButton)((0,l.default)("language")));return a.default.free(t,function(){return React.createElement("ul",{className:"native_scroller page settings_list radio_list"},e.langs().map(function(e){return function(e){return React.createElement("li",{className:"list_item"},o.default.renderRadio(e[1],"lang",e[0],s.default.general.lang()===e[0],function(e){s.default.general.lang(e.target.value),(0,c.setServerLang)(e.target.value),(0,u.loadFromSettings)()}))}(e)}))})}}},{"../../i18n":180,"../../settings":186,"../../utils":246,"../../xhr":247,"../layout":200,"../shared/common":235,"../shared/form":236,mithril:167}],232:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,r,i){var a=e.data,s=["display_board"].join(" "),u="board"+(r?"portrait":"landscape"),c="game_board_wrapper";i&&(c+=" "+i);var d=n?{height:n.height+"px",width:n.width+"px"}:{};return t.data.topHooks=[l(e,a.opponentUp,"top"),l(e,a.opponentLeft,"left"),l(e,a.player,"bottom"),l(e,a.opponentRight,"right")],React.createElement("section",{className:c,config:function(e,t){},style:d,key:u},React.createElement("div",{className:s,config:function(e,n){n||o.default.render(e,t)}}))};var r=u(e("../../i18n")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../../utils")),a=u(e("../helper")),o=u(e("okeyground-mobile")),s=(e("./common"),e("./Players"),e("../round/clock/clockView"));function u(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){var o=a.default.classSet({playerInfos:!0})+" "+n,u=t.ai?(0,r.default)("aiBot",t.ai):i.playerName(t),l=t.onGame||t.ai?React.createElement("span",{className:"ongame yes","data-icon":"3"}):React.createElement("span",{className:"ongame no","data-icon":"0"}),c=e.toggleUserPopup.bind(e,n,t.user),d=a.default.ontouch(c),f=e.isClockRunning()?e.data.game.player:null,h=e.data.game.player===t.side,p=e.data.game.oscores?e.data.game.oscores[t.side]:null,m=p?p.series?"openedSeries":"openedPairs":null,v="opens"+(p&&p.new?" new":"");return React.createElement("div",{className:o,config:d},React.createElement("div",{class:"wrap_info"},p?React.createElement("div",{class:v},p.series?p.series:p.pairs," ",(0,r.default)(m).split(" ")[0]):null),React.createElement("div",{class:"wrap_user"},React.createElement("h2",{className:"playerUser"},u,l),e.clock&&h?(0,s.view)(e.clock,t.side,f,n):null))}},{"../../i18n":180,"../../utils":246,"../helper":196,"../round/clock/clockView":221,"./Players":233,"./common":235,"okeyground-mobile":1}],233:[function(e,t,n){"use strict";function r(e){var t=["player",e].join(" ");return React.createElement("div",{className:t})}Object.defineProperty(n,"__esModule",{value:!0}),n.renderPlayer=r,n.default=function(e,t){var n=["display_player"].join(" "),i=r("top"),a=r("left"),o=r("right"),s=r("bottom");return React.createElement("div",{className:n},i,a,o,s)}},{}],234:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=e("okeyground-mobile"),a=(r=i)&&r.__esModule?r:{default:r};n.default={view:function(e,t){var n=["display_board",t.variant?t.variant.key:""].join(" ");return React.createElement("div",{className:n,config:function(e,n,r){var i=function(e){var t=e.fen;return e.orientation,e.bounds,{viewOnly:!0,minimalDom:!0,fen:t}}(t);r.ground?r.ground.set(i):(i.bounds,r.ground=(0,a.default)(e,i))}})}}},{"okeyground-mobile":1}],235:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.menuButton=f,n.backButton=function(e){return React.createElement("button",{key:"default-history-backbutton",className:"back_button main_header_button",config:u.default.ontouch(i.backHistory)},React.createElement("span",{className:"fa fa-arrow-left"}),e?React.createElement("div",{className:"title"},e):null)},n.gamesButton=h,n.headerBtns=p,n.header=function(e,t){return React.createElement("nav",null,t||f(),e?React.createElement("h1",{key:"title"},e):null,p())},n.viewOnlyBoardContent=function(){var e={};return[React.createElement("section",{key:"viewonlyboard",className:"board_wrapper",style:e},l.default.component(c.default))]},n.empty=function(){return[]},n.userStatus=function(e){var t=e.online?"online":"offline";return React.createElement("div",{className:"user"},React.createElement("span",{className:"userStatus "+t,"data-icon":"r"}),e.username)};var r=d(e("../menu")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(e("../../utils")),a=d(e("../gamesMenu")),o=d(e("../newGameForm")),s=d(e("../../session")),u=d(e("../helper")),l=d(e("mithril")),c=d(e("./ViewOnlyBoard"));function d(e){return e&&e.__esModule?e:{default:e}}function f(){return React.createElement("button",{key:"main-menu",className:"fa fa-navicon main_header_button menu_button",config:u.default.ontouch(r.default.toggle)})}function h(){var e=void 0,t=void 0;e="games-menu",s.default.nowPlaying().length?(e="games-menu",t=a.default.open):(e="new-game-form",t=o.default.open);var n=["main_header_button","game_menu_button",i.hasNetwork()?"":"invisible"].join(" ");return React.createElement("button",{key:e,className:n,config:u.default.ontouch(t,function(){return window.plugins.toast.show(i18n("nbGamesInPlay",s.default.nowPlaying().length),"short","top")})})}function p(){return React.createElement("div",{key:"buttons",className:"buttons"},h())}},{"../../session":185,"../../utils":246,"../gamesMenu":193,"../helper":196,"../menu":212,"../newGameForm":214,"./ViewOnlyBoard":234,mithril:167}],236:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("../../i18n")),i=a(e("mithril"));function a(e){return e&&e.__esModule?e:{default:e}}n.default={renderRadio:function(e,t,n,a,o){var s=t+"_"+n;return[(0,i.default)("input.radio[type=radio]",{name:t,id:s,className:n,value:n,checked:a,onchange:o}),(0,i.default)("label",{for:s},(0,r.default)(e))]},renderSelect:function(e,t,n,a,o,s){var u=a();return[(0,i.default)("label",{for:"select_"+t},(0,r.default)(e)),(0,i.default)("select",{id:"select_"+t,disabled:o,config:function(e,t,n){if(!t){var r=function(e){a(e.target.value),s&&s(e.target.value),setTimeout(function(){i.default.redraw()},10)};e.addEventListener("change",r,!1),n.onunload=function(){e.removeEventListener("change",r,!1)}}}},n.map(function(e){return function(e,t,n,a,o){return(0,i.default)("option",{value:t,selected:n===t},(0,r.default)(e,a,o))}(e[0],e[1],u,e[2],e[3])}))]},renderCheckbox:function(e,t,n,r,a){var o=n();return(0,i.default)("div.check_container",{className:a?"disabled":""},[(0,i.default)("label",{for:t},e),(0,i.default)("input[type=checkbox]",{name:t,disabled:a,checked:o,onchange:function(){var e=!o;n(e),r&&r(e)}})])}}},{"../../i18n":180,mithril:167}],237:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n,o){var s={className:"profilePerf","data-icon":(0,r.gameIcon)(e)};return function(e,t){return t.games>0}(0,n)&&(s.className+=" nav",s.config=i.default.ontouchY(function(){return a.default.route("/@/${user.id}/${key}/perf")})),(0,a.default)("div",s,[(0,a.default)("span.name",t),(0,a.default)("div.rating",[n.rating,i.default.progress(n.prog),(0,a.default)("span.nb","/ "+n.games)])])};var r=e("../../utils"),i=o(e("../helper")),a=o(e("mithril"));function o(e){return e&&e.__esModule?e:{default:e}}},{"../../utils":246,"../helper":196,mithril:167}],238:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.default=function(e,t,n,i,a){if(!i)return null;var u={overlay_popup:!0,native_scroller:!0},l=void 0;if("object"===(void 0===e?"undefined":r(e)))l=o.default.classSet(Object.assign({},u,e));else{if("string"!=typeof e)throw new Error("First popup argument must be either string or an object");l=o.default.classSet(u)+" "+e}return React.createElement("div",{className:"overlay_popup_wrapper"},React.createElement("div",{className:"popup_overlay_close",config:a?o.default.ontouch(o.default.fadesOut(a,".overlay_popup_wrapper")):utils.noop}),React.createElement("div",{className:l,config:s},t?React.createElement("header",null,t()):null,React.createElement("div",{className:"popup_content"},n())))};var i,a=e("../helper"),o=(i=a)&&i.__esModule?i:{default:i};function s(e){o.default.viewportDim().vh,e.getBoundingClientRect().height}},{"../helper":196}],239:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=e("../helper"),a=(r=i)&&r.__esModule?r:{default:r};n.default={view:function(e,t){var n=t.buttons,r=t.selectedTab,i=t.onTabChange,o=100/n.length,s={width:o+"%",transform:"translateX("+n.findIndex(function(e){return e.key===r})*(o*n.length)+"%)"},u={width:o+"%"};return React.createElement("div",{className:"tabs"},n.map(function(e){var t=["tab",r===e.key?"selected":""].join(" "),n=a.default.ontouch(i.bind(null,e.key));return React.createElement("button",{className:t,config:n,style:u},e.label)}),React.createElement("div",{className:"tabIndicator",style:s}))}}},{"../helper":196}],240:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=l(e("../session")),i=l(e("../i18n")),a=l(e("./helper")),o=l(e("./loginModal")),s=l(e("../backbutton")),u=l(e("mithril"));function l(e){return e&&e.__esModule?e:{default:e}}var c={},d=!1;c.open=function(){s.default.stack.push(a.default.slidesOutDown(c.close,"signupModal")),d=!0},c.close=function(e){window.cordova.plugins.Keyboard.close(),"backbutton"!==e&&d&&s.default.stack.pop(),d=!1},c.view=function(){return d?(0,u.default)("div.modal#signupModal",{config:a.default.slidesInUp},[(0,u.default)("header",[(0,u.default)("button.modal_close[data-icon=L]",{config:a.default.ontouch(a.default.slidesOutDown(c.close,"signupModal"))}),(0,u.default)("h2",(0,i.default)("signUp"))]),(0,u.default)("div.modal_content",[(0,u.default)("p.signupWarning.withIcon[data-icon=!]",[(0,i.default)("computersAreNotAllowedToPlay")]),(0,u.default)("p.tosWarning",[(0,i.default)("byRegisteringYouAgreeToBeBoundByOur"),(0,u.default)("a",{},(0,i.default)("termsOfService")),"."]),(0,u.default)("form.login",{onsubmit:function(e){return e.preventDefault(),t=e.target,n=t[0].value.trim(),a=t[1].value.trim(),s=t[2].value.trim(),!!(n&&a&&s)&&(window.cordova.plugins.Keyboard.close(),r.default.signup(n,a,s).then(function(){c.close(),o.default.close(),window.plugins.toast.show((0,i.default)("loginSuccessfull"),"short","center")},function(e){var t=e.response;t.error.username?window.plugins.toast.show(t.error.username[0],"short","center"):t.error.password&&window.plugins.toast.show(t.error.password[0],"short","center")}));var t,n,a,s}},[(0,u.default)("input#pseudo[type=text]",{placeholder:(0,i.default)("username"),autocomplete:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false",required:!0}),(0,u.default)("input#email[type=email]",{placeholder:(0,i.default)("email"),autocomplete:"off",autocapitalize:"off",autocorrect:"off",spellcheck:"false",required:!0}),(0,u.default)("input#password[type=password]",{placeholder:(0,i.default)("password"),required:!0}),(0,u.default)("button.fat",(0,i.default)("signUp"))])])]):null},n.default=c},{"../backbutton":178,"../i18n":180,"../session":185,"./helper":196,"./loginModal":202,mithril:167}],241:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(e("./userCtrl")),i=a(e("./userView"));function a(e){return e&&e.__esModule?e:{default:e}}n.default={controller:r.default,view:i.default}},{"./userCtrl":242,"./userView":243}],242:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(){o.default.createDefault();var e=s.default.prop();return i.user(s.default.route.param("id")).then(e,function(e){a.handleXhrError(e),s.default.route("/")}).then(r.default.refresh),{user:e,isMe:function(){return r.default.getUserId()===e().id}}};var r=l(e("../../session")),i=u(e("./userXhr")),a=u(e("../../utils")),o=(l(e("../helper")),l(e("../../socket"))),s=l(e("mithril"));function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}},{"../../session":185,"../../socket":187,"../../utils":246,"../helper":196,"./userXhr":244,mithril:167}],243:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){var t=e.user();if(!t)return null;return a.default.free(function(){var e=t.username;return(0,i.header)(null,(0,i.backButton)(e))},function(){return React.createElement("div",{id:"userProfile",className:"native_scroller page"},function(e){var t=e.online?"online":"offline";return React.createElement("section",{className:"onlineStatus"},React.createElement("span",{className:"userStatus "+t,"data-icon":"r"}),(0,o.default)(t))}(t),function(e){if(!e.profile)return null;var t="";e.profile.firstName&&(t+=e.profile.firstName);e.profile.lastName&&(t+=(e.profile.firstName?" ":"")+e.profile.lastName);var n=e.profile.location,r=(0,o.default)("memberSince")+" "+window.moment(e.createdAt).format("LL"),i=e.seenAt?(0,o.default)("lastLogin")+" "+window.moment(e.seenAt).calendar():null;return React.createElement("section",{classname:"profile"},t?React.createElement("h3",{className:"fullname"},t):null,e.profile.bio?React.createElement("p",{className:"profileBio"},e.profile.bio):null,React.createElement("div",{className:"userInfos"},e.language?React.createElement("p",{className:"language withIcon"},React.createElement("span",{className:"fa fa-comment-o"},getLanguageNativeName(e.language))):null,React.createElement("p",{className:"location"},n),React.createElement("p",{className:"memberSince"},r),i?React.createElement("p",{className:"lastSeen"},i):null))}(t),function(e){return React.createElement("section",{id:"userProfileRatings",className:"perfs"},"// ",userPerfs(e).filter(function(e){return-1!==["yuzbir","duzokey"].indexOf(e.key)||e.perf.games>0}).map(function(t){return(0,r.default)(t.key,t.name,t.perf,e)}))}(t),function(e){var t=e.user();return React.createElement("section",{id:"userProfileActions",class:"noPadding"},React.createElement("div",{className:"list_item_nav",config:s.default.ontouchY(e.goToGames),key:"view_all_games"},(0,o.default)("viewAllNbGames",t.count.all)))}(e))})};var r=u(e("../shared/perf")),i=e("../shared/common"),a=u(e("../layout")),o=u(e("../../i18n")),s=u(e("../helper"));u(e("../../session"));function u(e){return e&&e.__esModule?e:{default:e}}},{"../../i18n":180,"../../session":185,"../helper":196,"../layout":200,"../shared/common":235,"../shared/perf":237}],244:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.user=function(e){var t="/api/user/"+e;return(0,r.request)(t,{},!0)};var r=e("../../http")},{"../../http":179}],245:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isForeground=function(){return r},n.setForeground=function(){r=!0},n.setBackground=function(){r=!1};var r=!0},{}],246:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.oyunkeyfSri=void 0,n.tellWorker=function(e,t,n){void 0!==n?e.postMessage({topic:t,payload:n}):e.postMessage({topic:t})},n.askWorker=function(e,t,n){return new Promise(function(r){e.addEventListener("message",function i(a){a.data.topic===t.topic&&(e.removeEventListener("message",i),n?n(a.data.payload):r(a.data.payload))}),e.postMessage(t)})},n.hasNetwork=o,n.handleXhrError=function(e){var t=e.response,n=e.status;if(o()){var i=void 0;i=n&&0!==n?401===n?"unauthorizedError":404===n?"resourceNotFoundError":503===n?"oyunkeyfIsUnavailableError":n>=500?"serverError":"Error.":"oyunkeyfIsUnreachable",i=(0,r.default)(i),"string"==typeof t?i+=" "+t:t.global&&t.global.constructor===Array?i+=" "+t.global[0]:"string"==typeof t.error&&(i+=" "+t.error),window.plugins.toast.show(i,"short","center")}else window.plugins.toast.show((0,r.default)("noInternetConnection"),"short","center")},n.partialf=function(){return e=arguments[0],t=Array.prototype.slice.call(arguments,1),e.bind.apply(e,[null].concat(t));var e,t},n.f=function(){var e=arguments,t=arguments[0];return function(){t.apply(t,Array.prototype.slice.call(e,1))}},n.noop=function(){},n.playerName=function(e,t){if(e.username||e.user){var n=e.username||e.user.username;return n}if(e.ai)return s(e.ai);if(e.side)return(0,r.default)(e.side);return(0,r.default)("anonymous")},n.aiName=s,n.backHistory=function(){l("bwd"),window.navigator.app&&window.navigator.app.backHistory?window.navigator.app.backHistory():window.history.go(-1)},n.setViewSlideDirection=l,n.getViewSlideDirection=function(){return u},n.getBoardBounds=function(e,t,n,r){var i=e.vh,a=e.vw;if(t){return{top:0,right:a,bottom:0+a,left:0,width:a,height:a}}var o=i-5,s=a-5,u=a-s;return{top:50,right:o,bottom:50+o,left:u/2,width:s,height:o}},n.autoredraw=function(e){i.default.startComputation();try{return e()}finally{i.default.endComputation()}},n.gameIcon=function(e){return c[e]||"8"},n.formatMasaDuration=function(e,t){return e?e+(0,r.default)("hands"):t+(0,r.default)("scores")[0]},n.pad=function(e,t){var n=e+"";for(;n.length<t;)n="0"+n;return n},n.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};var r=a(e("../i18n")),i=a(e("mithril"));function a(e){return e&&e.__esModule?e:{default:e}}n.oyunkeyfSri=Math.random().toString(36).substring(2);function o(){return window.navigator.connection.type!==window.Connection.NONE}function s(e){return(0,r.default)("aiBot",e)}var u="fwd";function l(e){u=e}var c={yuzbir:"T",duzokey:"+"}},{"../i18n":180,mithril:167}],247:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.newGame=function(){var e=i.default.gameSetup.human,t={variant:e.variant(),rounds:e.rounds(),mode:a.default.isConnected()?e.mode():"0",membersOnly:!!a.default.isConnected()&&e.membersOnly()};return(0,r.request)("/masa/new",{method:"POST",data:t},!0)},n.lobby=function(e){return(0,r.request)("/",null,e)},n.game=function(e,t){var n="/"+e;return(0,r.request)(n,{background:t},!0)},n.setServerLang=function(e){return a.default.isConnected()?(0,r.request)("/translation/select",{method:"POST",data:{lang:e}}):Promise.resolve()};var r=e("./http"),i=o(e("./settings")),a=o(e("./session"));function o(e){return e&&e.__esModule?e:{default:e}}},{"./http":179,"./session":185,"./settings":186}]},{},[181]);